(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a60b8ea6"],{1364:function(t,e,i){"use strict";i("b9bb")},"47fa":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAJKADAAQAAAABAAAAJAAAAAAqDuP8AAACiElEQVRYCc2YvW4TQRSF78y6IJFAcUMUB2NT8goJlCkQNDS8RUSBxEMgUSDegoYGRGE6iF8hJXYMtkLjCKSEwrvDOWN7NF5W2ON4vJ7Gs7tz7/l85/eOksDS7V5URV8+zow6UiJ3jZiaElWjG9T7qPeNyJlWpiXZ9sdGY2cYIgGfi5VO7/ypZNmxKHlojKksYqWUGoHyi2j9tlnffb+QzbxG3R/nh2aUvsK/PpjX9n/f8c/bqpK8bOzvnsxpV/wZUUg63wevJZPnxS2WfKvlTfPO3gtELy3yUNhl34bDHfl99Q7hPioyuvY7JS25ufXsXrV6kff1DxBh1K8/bQzQ+/nGq3zG4D81t24c5KG0L8JuYmRiw1DTalCLml6ZAbJjJlY3eaKuCi2r6V4IJvGkcDZlo/Tr9Hmdv7qSPJjOPhchTu11QvhavrYF4qJ33XXGFwitU9suvDAcR4grcNllwqC4Nxl19XPR7SAWN7cZZbZua0kun5QNwz9pGcCiTarirMZLhJIsGhO/voRtHBOwaKyY9iwTRyHMK1n09HAVZhqnNVm0AVYc9+FeyYIxZAbhppEswMIu60dyH+yWLBjUchZsGcmALFpr8zmS/2C3zFQ2b+uweRNTlbILGMgy3u2RN5XNw9yNDO7E2On2T3guKQMMEO1mo3ZI7XGESIYkrgwYavraDsieaZHErR0KmtPztIXzAZiSdHqDT9ESRF9srN5q1vce+Vmsi5D9zvQWGSVWzNO87aqfrQa1cin1DBBFmUkyo8Rwb60awvmD76Ksld/dLHONJxXbfZty2eDDbcx1jA/F+sZcWOXB7JUeMxUmBzgD89iJATpzpYdZ2lMJrvTS7Q+hV3p/AXV6EYkxCXNfAAAAAElFTkSuQmCC"},"4f3e":function(t,e,i){"use strict";i("a888")},7579:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAJKADAAQAAAABAAAAJAAAAAAqDuP8AAACqElEQVRYCc2YO2gVQRSGXWPEwiJBVG6CVmIlIkgaH4VRSRCb+AhYiIWVVQSJYGFhaSHaxCKECIFgKZIUIYErBNMYfBRBk87CYKxSGBGiyfr9151lWPeGmb273j3wM2dmzznz75nHzmywzVPCMGzH5SI4Bw6CDlABrWAVrIAP4A2YCIJgmTJ/gUgfqIJfwFU2MZwFV0CQCysCnQRzoFFZIEB3ZlI4t4AnjbJI+CtjT8EuL2I4tIFpUJQo43ucSGEoMh+LYmLF/YS+NSkMNExFZsbiU1OVqfrDx8O850ySQFp9KHXosNRqaoZooserL94baJyD6YlUtsU3LtDFUTbRcLv6gkwfRbPIiMIRcElKLUMQqqKfUUOOsk6sF2ANdIJesJW8JkOnlZ124PM5wNxJ+k3vWD9w8NBc6hSh6w7GviYjFplTOP92DHBLc+i8cc6pXCLOgGJBoo1iHLSo7iBdInTAwdDVRPPmGnPhR+QwTKkjiqsc24Flh6P1Y+wWwW5wB6T53YPMe54pOzcprkr3kIocvzuO73MTGPvjYD3hN0XdrNrD6GuJ5y7Vnz6EFPCGRWrQ6uEb+n49o9wJ3lrPfNQaoSUPD2XzUNRxgD4DtFwvWEQfUc8qX/VGrzy957FvjUhV0O9bZHqoi2BWeSdCYxm8HxoSpiTGPrCSIZbtMqplP2OCepSaP2cT9s+o1+ZRot2nOq8MZf10LOO7V71R3gaNyt9PRxSwmjHaZ/xego2M/rbbbJxKWnXnarZcFqFyHtCiVN2NU/Z/lZDuBnRa/Kdbxqw8h3yxg1C5rkERqfJcFM0YkimRKvLC6H6VtkiV52eDIRUNYTl+x9ikImLaPLWj+9xQ9Dnw+mEVb4xJAvXqdJD2S0/HWR2HV4H9S2+S/eVLvVhp7X8ADI8wwN4O6T0AAAAASUVORK5CYII="},"9c7b":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAJKADAAQAAAABAAAAJAAAAAAqDuP8AAAB0ElEQVRYCe2Yv0oDQRCHc6JWFjYqUbASXyCtAcFCES0FLcRCH0AQCyM+gIXYi72lEBEEG2uNiJ2WFua0NjZBc34TbsNyFnt3e7lNkYEfM/t3vsxtluMKhdCCICijKqqjvExySc6y4mh7OiqohVzZL4krAuMRCN0dGkAurUXyeQGqEqy6JNFyXwlQnY6i1uky9AUocEkQze363ER5nB/kPtC/Cpg6eu4MDZqILcabrL1EDTSFlpDRulmhTc/z1tEOFPdGEjVB7qEu2Lm2/xz7/8TN0Y2L8RWYEpX5BmKU+BlNK0CTz/qRybnZEJgw8Rk+NoysSXKoT5n/gkbQHppEUTsA5kk6qc42bi06wdiO+2yZd6E2Iy6hZmTtDW1P5uBnUSMyHqspi5PYlga1ry38JJ4IYYaJH7WxRGFSoC92nwkTyx/iFsmb5rIGekI7tSUFkkQPaCiEKhIfaTCLtK1ehdMAkTM4VhDK0zeOPmTQxtICSRUWFIx42tc2IGptWiBZ/47GQphdtaGtt72p3wCSm3gFZXLJ2gJJgTK1TH5VlkR9IFM1+xWKUyHfNCnHcV8eWS3HhKZUNbmHeupzTJsYqEMkH41cWeeDVaeEkPTEJ70/ipZXX9ubBC4AAAAASUVORK5CYII="},a888:function(t,e,i){},b9bb:function(t,e,i){},c713:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"examing"},[i("van-sticky",[i("van-nav-bar",{attrs:{title:"入馆考试","left-arrow":""},on:{"click-left":t.onClickLeft}})],1),i("span",{staticClass:"hh2"},[t._v(t._s(t.curExam.name))]),i("div",{staticClass:"exam-body"},[t.curExam.duration>=0&&t.isExam?i("span",{staticClass:"time-tip"},[t._v(" 剩余时间 "),i("strong",[t._v(t._s(t.common.formatNeedTime(t.lasttime)))])]):t._e(),t.isExam?t._e():i("span",{staticClass:"time-tip"},[t._v(" 答题用时 "),i("strong",[t._v(t._s(t.common.formatNeedTime(t.curExamResult.passedtime)))])]),i("div",{staticClass:"circle",on:{click:function(e){e.stopPropagation(),t.$refs.answerPop.isPopShow=!0}}},[i("div",{staticClass:"block2"},[i("span",{staticClass:"txt5"},[t._v(t._s(t.pageNum<=0?"00":t.pageNum<10?"0"+t.pageNum:t.pageNum))]),i("span",{staticClass:"word8"},[t._v(" / "+t._s(t.total<=0?"00":t.total<10?"0"+t.total:t.total))])])]),i("answer-pop",{ref:"answerPop",attrs:{dataList:t.dataList,curTypeIndex:t.curTypeIndex,curIndex:t.curIndex,isExam:t.isExam},on:{choose:t.chooseQuestion}}),i("div",{staticStyle:{padding:"0 10px"}},[i("div",{staticClass:"title"},[i("h3",[t._v(" ("+t._s(t.curTypeInfo.typename)+") ")])]),t.curQuestion&&t.curQuestion.id?i("div",{staticClass:"content"},[i("p",[t._v(t._s(t.pageNum)+". "+t._s(t.curQuestion.subject))]),t._l(t.curQuestion.photoList,(function(e){return i("van-image",{key:e,attrs:{fit:"cover",width:"60%",height:"100",src:e,"preview-src-list":t.curQuestion.photoList},scopedSlots:t._u([{key:"error",fn:function(){return[t._v("图片加载失败")]},proxy:!0}],null,!0)})})),"3"==t.curQuestion.type?i("van-radio-group",{attrs:{disabled:!t.isExam},on:{change:t.doneQuestion},model:{value:t.curQuestion.isTrue,callback:function(e){t.$set(t.curQuestion,"isTrue",e)},expression:"curQuestion.isTrue"}},[i("van-radio",{style:"1"==t.curQuestion.isTrue?{background:"#8289F1"}:"",attrs:{name:1},scopedSlots:t._u([{key:"icon",fn:function(e){return[i("img",{staticClass:"img-icon",attrs:{src:e.checked?t.activeIconR:t.inactiveIconR}})]}}],null,!1,1866560940)},[t._v("对")]),i("van-radio",{style:"0"==t.curQuestion.isTrue?{background:"#8289F1"}:"",attrs:{"checked-color":"#fff",name:0},scopedSlots:t._u([{key:"icon",fn:function(e){return[i("img",{staticClass:"img-icon",attrs:{src:e.checked?t.activeIconR:t.inactiveIconR}})]}}],null,!1,1866560940)},[t._v("错")])],1):"1"==t.curQuestion.type?i("van-radio-group",{attrs:{disabled:!t.isExam},on:{change:t.doneQuestion},model:{value:t.curQuestion.chooseOptionId,callback:function(e){t.$set(t.curQuestion,"chooseOptionId",e)},expression:"curQuestion.chooseOptionId"}},t._l(t.curQuestion.options,(function(e){return i("van-radio",{key:e.id,style:e.id===t.chooseOpId[t.pageNum]?{background:"#8289F1"}:"",attrs:{"checked-color":"#fff",name:e.id},scopedSlots:t._u([{key:"icon",fn:function(e){return[i("img",{staticClass:"img-icon",attrs:{src:e.checked?t.activeIconR:t.inactiveIconR}})]}}],null,!0)},[t._v(t._s(e.itemInfo)+" ")])})),1):i("van-checkbox-group",{attrs:{disabled:!t.isExam},on:{change:t.checkQuestion},model:{value:t.curQuestion.chooseOptionIds,callback:function(e){t.$set(t.curQuestion,"chooseOptionIds",e)},expression:"curQuestion.chooseOptionIds"}},t._l(t.curQuestion.options,(function(e){return i("van-checkbox",{key:e.id,style:t.chooseOpId[t.pageNum]&&t.chooseOpId[t.pageNum].includes&&t.chooseOpId[t.pageNum].includes(e.id)?{background:"#8289F1"}:"",attrs:{shape:"square",name:e.id},scopedSlots:t._u([{key:"icon",fn:function(e){return[i("img",{staticClass:"img-icon",attrs:{src:e.checked?t.activeIcon:t.inactiveIcon}})]}}],null,!0)},[t._v(t._s(e.itemInfo))])})),1)],2):t._e(),t.isExam?t._e():i("exam-result",{attrs:{curTypeIndex:t.curTypeIndex,curIndex:t.curIndex,dataList:t.dataList}}),i("div",{staticClass:"footer"},[i("div",{staticClass:"right-btn"},[t.curTypeIndex>0||t.curIndex>0?i("van-button",{staticStyle:{width:"150px",float:"left",background:"#ffffff","border-radius":"44px",border:"1px solid #8289f1",margin:"10px 0 50px 0",color:"#8289f1"},attrs:{size:"big",round:""},on:{click:function(e){return e.stopPropagation(),t.goQuestion("pre")}}},[t._v("上一题")]):t._e(),t.curTypeIndex!==t.dataList.length-1||t.curIndex!==t.curTypeInfo.total-1?i("van-button",{staticStyle:{width:"150px",float:"right",margin:"10px 0 50px 0"},attrs:{type:"primary",size:"big",color:"#8289F1",round:""},on:{click:function(e){return e.stopPropagation(),t.goQuestion("next")}}},[t._v("下一题")]):t._e(),t.curTypeIndex==t.dataList.length-1&&t.curIndex==t.curTypeInfo.total-1&&t.isExam?i("van-button",{staticStyle:{width:"150px",float:"right",margin:"10px 0 50px 0"},attrs:{type:"primary",color:"#8289F1",round:"",size:"big"},on:{click:function(e){return e.stopPropagation(),t.wantSubmit.apply(null,arguments)}}},[t._v("我要交卷")]):t._e()],1)])],1)],1),i("confirm",{ref:"confirmSubmit",attrs:{title:"确认交卷？",text:"一旦交卷后便不可再作答和修改答案，确定交卷吗？",cancelText:"取消",confirmText:"确定"},on:{doConfirm:t.submitExam}}),i("confirm",{ref:"submitting",attrs:{title:"",text:t.submittingText,align:"center",showButton:!1}}),i("result",{ref:"pass",attrs:{score:t.score,cancelText:"返回主页",confirmText:"查看考试"},on:{doCancel:function(e){return t.$router.push("/exam")},doConfirm:t.goReview}}),i("result",{ref:"passModel",attrs:{score:t.score,cancelText:"查看考试",confirmText:"学习下一关"},on:{doCancel:t.goReview,doConfirm:t.learnNext}}),i("result",{ref:"nopass",attrs:{type:"fail",score:t.score,cancelText:"查看考试",confirmText:"继续学习"},on:{doCancel:t.goReview,doConfirm:function(e){return t.$router.push("/exam/learn")}}})],1)},n=[],o=(i("d3b7"),i("3ca3"),i("ddb0"),i("4de4"),i("d81d"),i("159b"),i("7db0"),i("ac1f"),i("1276"),i("2f62")),a=i("f564"),r=i("39f0"),c={components:{Confirm:function(){return Promise.resolve().then(i.bind(null,"9420"))},Result:function(){return i.e("chunk-04457918").then(i.bind(null,"c463"))},AnswerPop:function(){return i.e("chunk-1ddca59a").then(i.bind(null,"4431"))},ExamResult:function(){return i.e("chunk-17288082").then(i.bind(null,"cb17"))}},data:function(){return{isExam:1,chooseOpId:{},pageNum:1,imgViewUrl:window.g.viewUrl,questions:[],total:0,curTypeIndex:0,curIndex:0,dataList:[{type:"3",typename:"判断题",score:0,total:0,questions:[]},{type:"1",typename:"单选题",score:0,total:0,questions:[]},{type:"2",typename:"多选题",score:0,total:0,questions:[]}],lasttime:0,timer:null,passedtime:0,dialogVisible:!0,dialogTitle:"确认开始考试？",dialogText:"",score:0,submittingText:"交卷完成，成绩计算中…",activeIcon:i("9c7b"),inactiveIcon:i("fde9"),activeIconR:i("7579"),inactiveIconR:i("47fa")}},computed:Object(o["b"])({curExam:function(t){return t.curExam},curExamResult:function(t){return t.curExamResult},tbHeight:function(t){return t.tabbarHeight},content:function(){return this.curExam.content},curLearn:function(t){return t.curLearn},curTypeInfo:function(){return this.dataList[this.curTypeIndex]},curQuestion:function(){return this.curTypeInfo.questions[this.curIndex]},doneNum:function(){return this.questions.filter((function(t){return t.done})).length},percent:function(){return parseInt(this.doneNum/this.total*100)||0}}),watch:{lasttime:function(t){t<=0&&this.curExam.duration>0&&(this.submittingText="考试时间结束，自动交卷，成绩计算中…",this.submitExam())}},methods:{goReview:function(){this.isExam=0,this.curTypeIndex=0,this.curIndex=0,this.pageNum=1,this.stickTop()},onClickLeft:function(){this.$router.go(-1)},stickTop:function(){var t=document.getElementsByTagName("html");t&&t[0]&&(t[0].scrollTop=0)},chooseQuestion:function(t,e,i){this.curTypeIndex=t,this.curIndex=e,this.pageNum=i,this.$refs.answerPop.isPopShow=!1},goQuestion:function(t){this.stickTop(),"pre"==t&&(0==this.curIndex&&this.curTypeIndex>0?(this.curTypeIndex-=1,this.curIndex=this.curTypeInfo.total-1):this.curIndex-=1,this.pageNum&&this.pageNum--),"next"==t&&(this.curIndex==this.curTypeInfo.total-1&&this.curTypeIndex<this.dataList.length-1?(this.curTypeIndex+=1,this.curIndex=0):this.curIndex+=1,this.pageNum++)},doneQuestion:function(t){(t||0===t)&&(this.chooseOpId[this.pageNum]=t,this.curQuestion.done=!0),this.$forceUpdate()},checkQuestion:function(t){this.chooseOpId[this.pageNum]=t,this.curQuestion.done=t.length>0,this.$forceUpdate()},wantSubmit:function(){var t=60*this.curExam.beforeSubmitTime;if(t&&this.passedtime<t){var e="考试开始".concat(this.curExam.beforeSubmitTime,"分钟后方可交卷！");Object(a["a"])({type:"warning",message:e})}else this.$refs.confirmSubmit.visible=!0},submitExam:function(){var t=this;clearInterval(this.timer),this.$refs.confirmSubmit.visible=!1;var e=this.$refs.submitting;e.visible=!0;var i=this.questions.map((function(t){return{id:t.id,type:t.type,isTrue:t.isTrue,chooseOptionIds:"1"==t.type?[t.chooseOptionId]:t.chooseOptionIds}})),s={examId:this.curExam.id,agent:"2",questions:i},n=r["g"];"2"==this.curExam.type&&(s.modelId=this.content.modelId,n=r["h"]),n(s).then((function(i){if(e.visible=!1,"000000"==i.code){var s=i.data||{};t.score=s.userScore,s.isPass||s.isPassAll?t.$refs.pass.visible=!0:!s.isPassAll&&s.isPassCurrent?t.$refs.passModel.visible=!0:t.$refs.nopass.visible=!0,t.setExamResult(s)}else{var n="交卷失败："+i.msg;Object(a["a"])({type:"warning",message:n})}})).catch((function(t){e.visible=!1;var i="交卷失败："+t;Object(a["a"])({type:"warning",message:i})}))},setExamResult:function(t){var e=t.resultQuesions;this.dataList.forEach((function(t){t.questions.forEach((function(t){var i=e.find((function(e){return e.id==t.id}));t.answerResult=i.answerResult,t.trueOptionIds=i.trueOptionIds,t.analysis=i.analysis}))})),this.$store.commit("setCurExamResult",{isPass:t.isPass,score:t.userScore,totalNum:this.total,passNum:e.filter((function(t){return t.answerResult})).length,wrongNum:e.filter((function(t){return!t.answerResult})).length,passedtime:this.passedtime,dataList:this.dataList})},learnNext:function(){this.$store.commit("setCurLearn",{modelIndex:this.curLearn.modelIndex+1,learnIndex:0}),this.$router.push("/exam/learn")},getExamQuestion:function(){var t=this;Object(r["a"])({examId:this.curExam.id,modelId:"1"==this.curExam.type?null:this.content.modelId}).then((function(e){if("000000"==e.code)t.questions=e.data||[],t.total=t.questions.length,t.setQuestions();else{t.questions=[],t.total=0;var i="获取试题失败："+e.msg;Object(a["a"])({type:"warning",message:i})}})).catch((function(e){t.questions=[],t.total=0;var i="获取试题失败："+e;Object(a["a"])({type:"warning",message:i})}))},setQuestions:function(){var t=this;this.dataList.forEach((function(e){e.questions=t.questions.filter((function(t){return t.type==e.type}))||[],e.questions.forEach((function(e){t.$set(e,"done",!1),e.photoList=e.photos?e.photos.split(",").map((function(e){return e&&t.imgViewUrl+e})):[],"1"==e.type&&t.$set(e,"chooseOptionId",""),"2"==e.type&&t.$set(e,"chooseOptionIds",[])}))}))},initDataList:function(){var t=this.content,e=t.judgeNum,i=t.judgeScore,s=t.singleNum,n=t.singleScore,o=t.multipleNum,a=t.multipleScore;this.dataList.forEach((function(t){switch(t.type){case"3":t.total=e,t.score=i;break;case"1":t.total=s,t.score=n;break;case"2":t.total=o,t.score=a;break}})),this.dataList=this.dataList.filter((function(t){return t.total}))},setTime:function(){var t=this;clearInterval(this.timer),this.timer=setInterval((function(){t.lasttime-=1,t.passedtime+=1}),1e3)}},beforeDestroy:function(){clearInterval(this.timer)},created:function(){this.initDataList(),this.getExamQuestion(),this.lasttime=60*this.curExam.duration||1800,this.setTime()}},A=c,u=(i("1364"),i("4f3e"),i("2877")),l=Object(u["a"])(A,s,n,!1,null,"b2d96676",null);e["default"]=l.exports},fde9:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAJKADAAQAAAABAAAAJAAAAAAqDuP8AAAA/klEQVRYCe2YMQrCQBBFZyZ3EG2Ch7AVvJSNoJXYeCnB1kNIGsU7xDWfaJjiFzZmLGaLZPgbmLcvW43KezXNY9lKu9YiiyJl9sl/+VbRW1G5VFId63pyRi/F49rcNyJlX0q3HbBU9dmhbOf19KAw85T21MFYAMvQElAm1crwm6JhQAUGsBjuzIAZXIDFxrrA35wVLKH3hkEmELPiszTkbbA6DTErPktD3gar0xCz4rM05G2wOg0xKz5LQ94Gq9MQs+KzNORtsDoNMSs+S0PeBqsNIxG2EZGBxTCfiWjOeoLFMCzq5zPsk/EyMIDF+slV2UVC9b11C5ZhYvYvI70XWB1OV09zYCEAAAAASUVORK5CYII="}}]);