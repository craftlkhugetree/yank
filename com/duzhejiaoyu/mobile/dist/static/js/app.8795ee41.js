(function(e){function t(t){for(var a,r,o=t[0],c=t[1],u=t[2],l=0,d=[];l<o.length;l++)r=o[l],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&d.push(i[r][0]),i[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);f&&f(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,r=1;r<n.length;r++){var o=n[r];0!==i[o]&&(a=!1)}a&&(s.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},r={app:0},i={app:0},s=[];function o(e){return c.p+"static/js/"+({}[e]||e)+"."+{"chunk-0beaba67":"555d3782","chunk-16cfcd12":"ee0a07f7","chunk-1dbf5ca6":"c6c28e84","chunk-2eb3201c":"fe621a96","chunk-a60b8ea6":"06f2c413","chunk-23e300b0":"ffbe68ab","chunk-8ccd39b0":"5e6387ac","chunk-04457918":"479e5e25","chunk-17288082":"dca5987a","chunk-1ddca59a":"91816569"}[e]+".js"}function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-0beaba67":1,"chunk-16cfcd12":1,"chunk-1dbf5ca6":1,"chunk-2eb3201c":1,"chunk-a60b8ea6":1,"chunk-23e300b0":1,"chunk-8ccd39b0":1,"chunk-04457918":1,"chunk-17288082":1,"chunk-1ddca59a":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var a="static/css/"+({}[e]||e)+"."+{"chunk-0beaba67":"a84f6be5","chunk-16cfcd12":"e116e07f","chunk-1dbf5ca6":"56450b75","chunk-2eb3201c":"ac6af7f1","chunk-a60b8ea6":"6698016c","chunk-23e300b0":"d82cc05e","chunk-8ccd39b0":"bb3fb490","chunk-04457918":"30142d1c","chunk-17288082":"482bc88e","chunk-1ddca59a":"dd82b6e3"}[e]+".css",i=c.p+a,s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var u=s[o],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===i))return t()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){u=d[o],l=u.getAttribute("data-href");if(l===a||l===i)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var a=t&&t.target&&t.target.src||i,s=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=a,delete r[e],f.parentNode.removeChild(f),n(s)},f.href=i;var m=document.getElementsByTagName("head")[0];m.appendChild(f)})).then((function(){r[e]=0})));var a=i[e];if(0!==a)if(a)t.push(a[2]);else{var s=new Promise((function(t,n){a=i[e]=[t,n]}));t.push(a[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=o(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=i[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",d.name="ChunkLoadError",d.type=a,d.request=r,n[1](d)}i[e]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/lres2022/mobile/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var f=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0071":function(e,t,n){e.exports=n.p+"static/img/exam-title.bfc39c7c.png"},"108b":function(e,t,n){},"11ba":function(e,t,n){},"15bd":function(e,t,n){},"29d2":function(e,t,n){},"2a39":function(e,t,n){"use strict";n("108b")},"2cbe":function(e,t,n){var a={"./headpic-big-0.png":"dadb","./headpic-big-1.png":"bf1e"};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id="2cbe"},"318d":function(e,t,n){"use strict";n("b5ac")},"39f0":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return d}));n("99af");var a=n("bbd5");function r(e){return a["a"].postAjax({code:"url",url:"exam/getLoginUserExams",data:e})}function i(e){return a["a"].postAjax({code:"url",url:"learn/getLoginUserLearns",data:e})}function s(e){return a["a"].postAjax({code:"url",url:"learn/getLoginUserRecords",data:e})}function o(e){return e&&(e.isLoading=!1),a["a"].postAjax({code:"url",url:"learn/learn",data:e})}function c(e){return a["a"].postAjax({code:"url",url:"exam/getLoginUserExamRecords/".concat(e)})}function u(e){return a["a"].postAjax({code:"url",url:"exam/getLoginUserExamQuestion",data:e})}function l(e){var t=e.agent,n=e.examId,r=e.questions;return a["a"].postAjax({code:"url",url:"exam/submitNormalExam/".concat(t,"/").concat(n),isRep:!0,data:r})}function d(e){var t=e.agent,n=e.examId,r=e.modelId,i=e.questions;return a["a"].postAjax({code:"url",url:"exam/submitCheckPointExam/".concat(t,"/").concat(n,"/").concat(r),isRep:!0,data:i})}},"3aac":function(e,t,n){e.exports=n.p+"static/img/exam-model-bg-2-gray.4bc7f0eb.png"},4152:function(e,t,n){"use strict";n("a5ee")},4277:function(e,t,n){},"42b6":function(e,t,n){"use strict";n("11ba")},4360:function(e,t,n){"use strict";var a=n("5530"),r=(n("d3b7"),n("7db0"),n("4e82"),n("2b0e")),i=n("2f62"),s=n("0e44"),o=n("c24f"),c=n("bbd5");function u(e){return c["a"].postAjax({code:"url",url:"campus/list",isRep:!0,data:e})}function l(e){return c["a"].postAjax({code:"url",url:"config/list",isRep:!0,data:e})}function d(e){return c["a"].postAjax({code:"url",url:"model/list",isRep:!0,data:e})}r["a"].use(i["a"]);t["a"]=new i["a"].Store({state:{appId:"20220216",newbornLogin:{},qjdl:{},userInfo:{},isFirstLogin:!1,campusList:[],moduleList:[],curExam:{},curExamResult:[],examLearnData:[],curLearn:{modelIndex:0,learnIndex:0},userStatusList:[{label:"注销",value:"0"},{label:"正常",value:"1"},{label:"挂失",value:"2"},{label:"停借",value:"3"}],isLoading:!1,time:{now:0,need:0},tabbarHeight:0},mutations:{setNewbornLogin:function(e,t){e.newbornLogin=t},setQjdlUrl:function(e,t){e.qjdl=t},setUserInfo:function(e,t){e.userInfo=t},setIsFirstLogin:function(e,t){e.isFirstLogin=t},setCampusList:function(e,t){e.campusList=t},setModuleList:function(e,t){e.moduleList=t},setCurExam:function(e,t){e.curExam=t},setCurExamResult:function(e,t){e.curExamResult=t},setExamLearnData:function(e,t){e.examLearnData=t},setCurLearn:function(e,t){e.curLearn=t},setLoading:function(e,t){e.isLoading=t},setTime:function(e,t){e.time=Object.assign({},e.time,Object(a["a"])({},t))},setTabbarHeight:function(e,t){e.tabbarHeight=t}},actions:{getUserInfo:function(e){var t=e.commit;return new Promise((function(e,n){Object(o["d"])({}).then((function(a){if("000000"==a.code){var r=a.data||[];t("setUserInfo",r),e(r)}else n(a.msg)})).catch((function(e){n(e)}))}))},getIsFirstLogin:function(e){var t=e.commit;return new Promise((function(e,n){Object(o["b"])().then((function(a){if("000000"==a.code){var r=a.data||[];t("setIsFirstLogin",r.isFirstLogin),e(r)}else n(a.msg)})).catch((function(e){n(e)}))}))},getConfig:function(e){var t=e.commit;return new Promise((function(e,n){l({}).then((function(a){if("000000"==a.code){var r=a.data||[],i=r.find((function(e){return"A2"==e.code}))||{},s=r.find((function(e){return"A1"==e.code}))||{};t("setNewbornLogin",i),t("setQjdlUrl",s),e(r)}else n(a.msg)})).catch((function(e){n(e)}))}))},getCampusList:function(e){var t=e.commit;return new Promise((function(e,n){u({}).then((function(a){if("000000"==a.code){var r=a.data||[];t("setCampusList",r),e(r)}else n(a.msg)})).catch((function(e){n(e)}))}))},getModuleList:function(e){var t=e.commit;return new Promise((function(e,n){d({}).then((function(a){if("000000"==a.code){var r=a.data||[];r.sort((function(e,t){return e.level>t.level?1:-1})),t("setModuleList",r),e(r)}else n(a.msg)})).catch((function(e){n(e)}))}))}},modules:{},plugins:[Object(s["a"])({storage:window.sessionStorage})]})},4561:function(e,t,n){"use strict";n("29d2")},4678:function(e,t,n){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"64030","./ms-my.js":"64030","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id="4678"},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:"van-fade"}},[n("router-view")],1),n("loading",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]})],1)},i=[],s=(n("d3b7"),n("3ca3"),n("ddb0"),n("2f62")),o={computed:Object(s["b"])({userInfo:function(e){return e.userInfo},newbornLogin:function(e){return e.newbornLogin},campusList:function(e){return e.campusList},isLoading:function(e){return e.isLoading}}),components:{loading:function(){return n.e("chunk-1dbf5ca6").then(n.bind(null,"c428"))}},created:function(){this.userInfo.id||this.$store.dispatch("getUserInfo"),this.newbornLogin.code||this.$store.dispatch("getConfig"),0==this.campusList.length&&this.$store.dispatch("getCampusList")}},c=o,u=(n("5c0b"),n("2877")),l=Object(u["a"])(c,r,i,!1,null,null,null),d=l.exports,f=n("a18c"),m=n("4360"),p=(n("db4d"),n("1368")),h=n.n(p),g=(n("499a"),n("9eee"),n("82da"),n("c1df")),b=n.n(g),v=n("bbd5"),x=n("53ca"),j=(n("25f0"),n("ac1f"),n("5319"),n("7db0"),n("4ec9"),n("692d")),w={defaultFormat:function(e,t,n){return n||"--"},timeFormat:function(e,t,n,a,r){if(n){var i=r||"YYYY-MM-DD HH:mm";return b()(n,"YYYYMMDDHHmmss").format(i)}return"--"},defaultTimeFormat:function(e,t){if(e){var n=t||"YYYY-MM-DD HH:mm";return b()(e,"YYYYMMDDHHmmss").format(n)}return"--"},add:function(e,t,n){var a=e||0,r=t||0;return n?j.round(j.add(a.toString(),r.toString()),n):j.add(a.toString(),r.toString())},subtract:function(e,t,n){var a=e||0,r=t||0;return n?j.round(j.subtract(a.toString(),r.toString()),n):j.subtract(a.toString(),r.toString())},multiply:function(e,t,n){var a=e||0,r=t||0;return n?j.round(j.multiply(a.toString(),r.toString()),n):j.multiply(a.toString(),r.toString())},divide:function(e,t,n){var a=n||4,r=e||0,i=t||1;return j.divide(r.toString(),i.toString(),a)},moneyFormat:function(e){var t="";return e?(t=j.round(e.toString(),2),j.getPrettyValue(t)):"--"},moneyInput:function(e){e.target.value=e.target.value.replace(/[^\d.]/g,""),e.target.value=e.target.value.replace(/\.{2,}/g,"."),e.target.value=e.target.value.replace(/^\./g,"0."),e.target.value=e.target.value.replace(/^\d*\.\d*\./g,e.target.value.substring(0,e.target.value.length-1)),e.target.value=e.target.value.replace(/^0[^\.]+/g,""),e.target.value=e.target.value.replace(/^(\d+)\.(\d\d).*$/,"$1.$2")},downloadFile:function(e){window.location.href=window.g.downUrl+e},reviewFile:function(e){window.location.href=window.g.viewUrl+e},formatNeedTime:function(e){var t=b.a.duration(e,"seconds"),n=t.hours(),a=t.minutes(),r=t.seconds(),i=n>0?"hh:mm:ss":"mm:ss";return b()({h:n,m:a,s:r}).format(i)},learnTypeFormat:function(e){var t=m["a"].state.trainTypeList,n=t.find((function(t){return t.value==e}))||{};return n.label||"--"},learnSizeFormat:function(e){return e<1024?this.divide(e,1,1)+"B":e<1048576?this.divide(e,1024,1)+"KB":e<1073741824?this.divide(e,1048576,1)+"M":this.divide(e,1073741824,1)+"G"},debounce:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=null;return function(){var a=arguments,r=this;n&&clearTimeout(n),n=setTimeout((function(){e.apply(r,a)}),t)}},throttle:function(e){var t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return function(){var r=this,i=arguments,s=+new Date;t&&s-t<a?(clearTimeout(n),itmer=setTimeout((function(){t=s,e.apply(r,i)}),a)):(t=s,e.apply(this,i))}},deepClone:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;if("object"!==Object(x["a"])(e))return e;var n=Array.isArray(e)?[]:{};if(t.get(e))return t.get(e);for(var a in t.set(e,n),e)e.hasOwnProperty(a)&&(n[a]=this.deepClone(e[a],t));return n}},L=n("b970");n("157a");h.a.polyfill(),a["a"].config.productionTip=!1,a["a"].prototype.moment=b.a,a["a"].prototype.util=v["a"],a["a"].prototype.common=w,a["a"].use(L["a"]),new a["a"]({router:f["a"],store:m["a"],render:function(e){return e(d)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";n("9c0c")},6403:function(e,t,n){},"6aad":function(e,t,n){},"6c26":function(e,t,n){e.exports=n.p+"static/img/confirm-bg.d2626bef.png"},"6eb6":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},r=[],i=(n("7db0"),n("d3b7"),n("99af"),n("f564")),s=n("c24f"),o={name:"confirmDialog",data:function(){return{confirmText:"",localip:null}},created:function(){var e=this;Object(s["a"])().then((function(t){t&&"000000"===t.code&&(e.localip=t.data&&t.data.ip)}))},methods:{showConfirm:function(e){if("1"==this.exam.isOpenip){var t=this.exam,n=t.ipStart,a=t.ipEnd;if(this.localip<n||this.localip>a||!this.localip)return void Object(i["a"])({type:"warning",message:"当前IP地址不在考试IP范围内！"})}e&&(this.curModelId=e);var r="",s="",o={};"1"==this.exam.type&&(o=this.exam.contents[0]||{},r="本次考试时间为".concat(this.exam.duration,"分钟，"),s=this.exam.beforeSubmitTime>0?"考试开始".concat(this.exam.beforeSubmitTime,"分钟后方可交卷。"):""),"2"==this.exam.type&&(o=this.exam.contents.find((function(t){return t.modelId==e}))||{});var c="满分".concat(o.totalScore,"分，").concat(o.qualifiedScore,"分为合格分，");this.confirmText=r+s+c+"准备好去考试了吗？",this.$refs.confirm.visible=!0}}},c=o,u=n("2877"),l=Object(u["a"])(c,a,r,!1,null,null,null);t["a"]=l.exports},7092:function(e,t,n){"use strict";n("4277")},"758e":function(e,t,n){e.exports=n.p+"static/img/exam-model-bg-2.188ef241.png"},"82da":function(e,t,n){},"88ed":function(e,t,n){"use strict";n("c8ce")},9420:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("van-dialog",{staticClass:"confirm-dialog",attrs:{width:"90%","show-cancel-button":"",confirmButtonText:e.confirmText,cancelButtonText:e.cancelText,showConfirmButton:e.showButton,showCancelButton:e.showButton,confirmButtonColor:"#3A78FC"},on:{confirm:function(t){return e.$emit("doConfirm")},cancel:function(t){e.visible=!1,e.$emit("doCancel")}},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("div",{staticClass:"confirm"},[a("img",{attrs:{src:n("6c26"),alt:""}}),a("div",{staticClass:"content",style:{"text-align":e.align}},[a("h3",[e._v(e._s(e.title))]),a("p",[e._v(e._s(e.text))])])])])},r=[],i={props:{title:String,text:String,cancelText:String,confirmText:String,align:{type:String,default:"left"},showButton:{type:Boolean,default:!0}},data:function(){return{visible:!1}}},s=i,o=(n("aa25"),n("2a39"),n("2877")),c=Object(o["a"])(s,a,r,!1,null,"672bc742",null);t["default"]=c.exports},"9c0c":function(e,t,n){},"9c4c":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAA69JREFUWEe9l1lPE1EUx/9n2mJlrYoRgUowJBpcwLjvURE0UbEGjV/ANx/8AD75RiA+mPjmu9FEcEMooMa4gAooGBWNgigttlBk7zYz19zBapeZttrWk8zL3Dvn/7vnnrnnHgKAm1+sOxhRLYFtYoCRv0vcaAJg9yUZ52uKq/q1/FHjcGs5k1gHJU04QmoKMu21FFe+VoOghq/WBmKwJL7iqB46LEVVO1QBGoesLgCLUwlARIxEYXn1ygpHuA41DlllAJRKAO6bBGH9cfPBN2oALPilAEKmISMpPLOiGxKTFF+fZ52V7WO9IRFgok7iEQgByNSnoyJ/V1IAnjq7MepxYdw3g4bh59MSk7NCHAu4mHKAT9PfcNv2EnOSL2xRbMCQnbUupQAttie4MtCCWdEbLs6IUUXzgfoHKQMY807iXNcluHxTkdtJdKVlX90ZJTnDc0CAgOy0TNUc8MkiBCLoSRc1R+ZEL65+fQwOEW4MsEuSrrT9YK0yGAGg5ZmLN9l7YNQZUJlXBh0JqlM9kh937F1K4qkZA45b99ffCozFBRAQd/5a0cqMZTiwbJ0SjWDzyiLu2rsx5lUJO18t0bXmfXWng7+JCRAuHvh4VVY+9i4t5U6VV34eoZFXcHgmtFbuYn6UtlbVO+MG4OL37D1wqOwld7Imx4xduashMgnNI69gd//QzI1sQ/rZ67svXI55EgYm+GUJTfZuTfHAvDJTEca9M/jm5iVF3czpS3CkoLys2ny4L24AxhiaRnpgc49HzfhYgwbS4eSK7chJW/B3ANyxW/LhxnCnykESS/bPON8ivlWCIP89AHfz3TOBO7YuyAgpGXER5BkX4Vj+RiVR/xmAK/VODKHT9TEu0cAkfk7UFG6DKW2+siYEwMDQ9r0Pg7Mhf1BUoC2LS7BhUfHvOQkBcC8+ScQNWyem/O6YkchdkAVLwdaQgypuAIEEmNKyI0TcogfDc6NotL2AxPglSt0IhBOFW8Ehgi1uAK0LyYfJAbyf/IT+KRsejb7TBNhgKsaWJSUR40kD4J4fOt/i47Q9QsRkyECNeZtqoUoqgChLylaEV7zqgs3IM5pUo5NUAK4w6ZtTkpIf2dzW5pixM3e15tZEAwi5lvMkytAvjHDkk/3gT7ANzDjQ5uhDpt6IU+btMAh67eSMci1PqDF5NvYB5vRc8IKj+WdEa0wSbc140QrcCbQPCNZhKTqk0ZoNtpYzIbXNqV5n2HO0cH+vGqBynZlvz1ktgf57e/4TQHvzg2ZkPKAAAAAASUVORK5CYII="},"9eee":function(e,t,n){},a18c:function(e,t,n){"use strict";n("d3b7"),n("3ca3"),n("ddb0");var a=n("2b0e"),r=n("8c4f"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-layout"},[a("img",{staticClass:"bg",attrs:{src:n("a598"),alt:""}}),a("div",{staticClass:"login-main"},[a("router-view")],1)])},s=[],o={},c=o,u=(n("318d"),n("2877")),l=Object(u["a"])(c,i,s,!1,null,"3f31c26a",null),d=l.exports,f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-form"},[n("h2",[e._v("读者教育绑定")]),n("div",{staticClass:"edit-box"},[n("van-form",{ref:"editForm",attrs:{"show-error-message":!1}},[n("van-field",{attrs:{name:"loginname",label:"证件号:",placeholder:"请输入证件号",rules:[{required:!0,message:"请输入证件号"}]},model:{value:e.editForm.loginname,callback:function(t){e.$set(e.editForm,"loginname",t)},expression:"editForm.loginname"}}),n("van-field",{attrs:{type:"password",name:"pwd",label:"密码:",placeholder:"密码",rules:[{required:!0,message:"请输入密码"}]},model:{value:e.editForm.pwd,callback:function(t){e.$set(e.editForm,"pwd",t)},expression:"editForm.pwd"}}),n("van-row",[n("van-col",{attrs:{span:"16"}},[n("van-field",{attrs:{name:"vxcode",label:"验证码:",placeholder:"请输入验证码",rules:[{required:!0,message:"请输入密码"}]},model:{value:e.editForm.vxcode,callback:function(t){e.$set(e.editForm,"vxcode",t)},expression:"editForm.vxcode"}})],1),n("van-col",{attrs:{span:"8"}},[n("img",{staticClass:"yzm",attrs:{src:e.yzmUrl,alt:"验证码"},on:{click:e.getYzm}})])],1),n("van-button",{staticClass:"login-btn",attrs:{loading:e.loading,"loading-text":"登录中...",size:"middle"},on:{click:e.doLogin}},[e._v("登 录")])],1),e.newbornLogin&&"1"==e.newbornLogin.val?n("van-button",{staticClass:"link-btn",attrs:{plain:"",round:"",size:"middle"},on:{click:function(t){return e.$router.push("/newbornlogin")}}},[e._v(" 本科新生登录 "),n("van-icon",{attrs:{name:"share-o"}})],1):e._e()],1)])},m=[],p=n("5530"),h=n("bbd5");function g(e){return h["a"].postAjax({code:"idsweb",url:"LresNhLogin/frontLogin",data:e})}function b(e){return h["a"].postAjax({code:"url",url:"user/bindCampus",data:e})}var v=n("2f62"),x={data:function(){return{isNh:window.base.isNh,editForm:{loginname:null,pwd:null,vxcode:null},yzmUrl:null,loading:!1}},computed:Object(v["b"])({newbornLogin:function(e){return e.newbornLogin},campusList:function(e){return e.campusList}}),methods:{getYzm:function(){this.yzmUrl=window.g.idsUrl+"captcha/get?id="+(new Date).getTime()},doLogin:function(){var e=this;this.$refs.editForm.validate().then((function(){e.loading=!0;var t=Object(p["a"])({},e.editForm);g(t).then((function(t){e.loading=!1,t.success?(e.$store.dispatch("getIsFirstLogin"),e.$store.dispatch("getUserInfo").then((function(t){!e.isNh||t.campusId&&t.mobile&&t.email&&t.qqcard||e.$router.push("/campus"),e.isNh||t.campusId||(e.campusList.length>1?e.$router.push("campus"):e.bindCampus()),e.$router.push("/")}))):(e.getYzm(),e.$toast.fail(t.data.msg))})).catch((function(t){e.loading=!1,e.getYzm(),e.$toast.fail(t)}))})).catch((function(e){}))},bindCampus:function(){var e=this;this.loading=!0;var t={campusId:this.campusList[0].id};b(t).then((function(t){e.loading=!1,"000000"==t.code?e.$router.push("/"):e.$toast.fail("绑定校区失败:"+t.msg)})).catch((function(t){e.loading=!1,e.$toast.fail("绑定校区失败:"+t)}))}},created:function(){this.getYzm()}},j=x,w=(n("a37d"),n("efda"),Object(u["a"])(j,f,m,!1,null,"128dfb0a",null)),L=w.exports,k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-form"},[n("h2",[e._v("完善信息")]),n("div",{staticClass:"edit-box"},[n("van-form",{ref:"editForm",attrs:{"show-error-message":!1}},[n("van-field",{attrs:{readonly:"",clickable:"",name:"campusName",value:e.editForm.campusName,label:"校区:",placeholder:"请选择校区",rules:[{required:!0,message:"请选择校区"}]},on:{click:function(t){e.showPicker=!0}}}),n("van-popup",{attrs:{position:"bottom"},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[n("van-picker",{attrs:{"show-toolbar":"",columns:e.campusList,"value-key":"name"},on:{confirm:e.onConfirmCampus,cancel:function(t){e.showPicker=!1}}})],1),e.isNh?n("div",[n("van-field",{attrs:{name:"mobile",label:"手机号:",placeholder:"请输入手机号",rules:[{required:!0,pattern:/^1\d{10}$/,message:"请输入手机号"}]},model:{value:e.editForm.mobile,callback:function(t){e.$set(e.editForm,"mobile",t)},expression:"editForm.mobile"}}),n("van-field",{attrs:{name:"email",label:"邮箱:",placeholder:"请输入邮箱",rules:[{required:!0,pattern:/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/,message:"请输入邮箱"}]},model:{value:e.editForm.email,callback:function(t){e.$set(e.editForm,"email",t)},expression:"editForm.email"}}),n("van-field",{attrs:{name:"qq",label:"QQ:",placeholder:"请输入QQ",rules:[{required:!0,pattern:/^[1-9]\d{4,19}$/,message:"请输入QQ"}]},model:{value:e.editForm.qq,callback:function(t){e.$set(e.editForm,"qq",t)},expression:"editForm.qq"}})],1):e._e(),n("van-button",{staticClass:"login-btn",attrs:{loading:e.loading,"loading-text":"绑定中...",size:"middle"},on:{click:e.bindCampus}},[e._v("绑定")])],1)],1)])},y=[],C=(n("b0c0"),{data:function(){return{isNh:window.base.isNh,editForm:{campusName:null,campusId:null,mobile:null,email:null,qq:null},showPicker:!1,loading:!1}},computed:Object(v["b"])({campusList:function(e){return e.campusList}}),methods:{onConfirmCampus:function(e){var t=e.id,n=e.name;this.editForm.campusId=t,this.editForm.campusName=n,this.showPicker=!1},bindCampus:function(){var e=this;this.$refs.editForm.validate().then((function(){e.loading=!0;var t=Object(p["a"])({},e.editForm);b(t).then((function(t){e.loading=!1,"000000"==t.code?e.$router.push("/"):e.$toast.fail("绑定失败："+t.msg)})).catch((function(t){e.loading=!1,e.$toast.fail("绑定失败："+t)}))})).catch((function(e){}))}}}),_=C,I=(n("7092"),n("4152"),Object(u["a"])(_,k,y,!1,null,"6f13d476",null)),A=I.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-form"},[n("h2",[e._v("新生登录")]),n("div",{staticClass:"edit-box"},[n("van-form",{ref:"editForm",attrs:{"show-error-message":!1}},[n("van-field",{attrs:{name:"idcard",label:"身份证号:",placeholder:"请输入身份证号",rules:[{required:!0,pattern:/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,message:"请输入身份证号"}]},model:{value:e.editForm.idcard,callback:function(t){e.$set(e.editForm,"idcard",t)},expression:"editForm.idcard"}}),n("van-field",{attrs:{name:"name",label:"姓名:",placeholder:"请输入姓名",rules:[{required:!0,message:"请输入姓名"}]},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}}),n("van-row",[n("van-col",{attrs:{span:"16"}},[n("van-field",{attrs:{name:"vxcode",label:"验证码:",placeholder:"请输入验证码",rules:[{required:!0,message:"请输入密码"}]},model:{value:e.editForm.vxcode,callback:function(t){e.$set(e.editForm,"vxcode",t)},expression:"editForm.vxcode"}})],1),n("van-col",{attrs:{span:"8"}},[n("img",{staticClass:"yzm",attrs:{src:e.yzmUrl,alt:"验证码"},on:{click:e.getYzm}})])],1),n("van-button",{staticClass:"login-btn",attrs:{loading:e.loading,"loading-text":"登录中...",size:"middle"},on:{click:e.doLogin}},[e._v("登 录")])],1),n("van-button",{staticClass:"link-btn",attrs:{plain:"",round:"",size:"middle"},on:{click:function(t){return e.$router.push("/login")}}},[e._v(" 证件号登录 "),n("van-icon",{attrs:{name:"share-o"}})],1)],1)])},E=[],$={data:function(){return{isNh:window.base.isNh,editForm:{idcard:null,name:null,vxcode:null},yzmUrl:null,loading:!1}},computed:Object(v["b"])({campusList:function(e){return e.campusList}}),methods:{getYzm:function(){this.yzmUrl=window.g.idsUrl+"captcha/get?id="+(new Date).getTime()},doLogin:function(){var e=this;this.$refs.editForm.validate().then((function(){e.loading=!0;var t=Object(p["a"])({},e.editForm);g(t).then((function(t){e.loading=!1,t.success?(e.$store.dispatch("getIsFirstLogin"),e.$store.dispatch("getUserInfo").then((function(t){!e.isNh||t.campusId&&t.mobile&&t.email&&t.qqcard||e.$router.push("/campus"),e.isNh||t.campusId||(e.campusList.length>1?e.$router.push("campus"):e.bindCampus()),e.$router.push("/")}))):(e.getYzm(),e.$toast.fail(t.data.msg))})).catch((function(t){e.loading=!1,e.getYzm(),e.$toast.fail(t)}))})).catch((function(e){}))},bindCampus:function(){var e=this;this.loading=!0;var t={campusId:this.campusList[0].id};b(t).then((function(t){e.loading=!1,"000000"==t.code?e.$router.push("/"):e.$toast.fail("绑定校区失败:"+t.msg)})).catch((function(t){e.loading=!1,e.$toast.fail("绑定校区失败:"+t)}))}},created:function(){this.getYzm()}},F=$,U=(n("a924"),n("42b6"),Object(u["a"])(F,O,E,!1,null,"f93b6596",null)),T=U.exports,D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{overflow:"hidden"}},[n("transition",{attrs:{name:"van-fade"}},[n("router-view")],1),e.ifLearn?n("div",{staticClass:"tabbar1"},[n("timing")],1):e._e(),n("van-tabbar",{staticClass:"tabbar",attrs:{route:"","active-color":"#3A78FC ","inactive-color":"#999",placeholder:!0},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},e._l(e.menu,(function(t){return n("van-tabbar-item",{key:t.id,attrs:{replace:"",to:t.path},scopedSlots:e._u([{key:"icon",fn:function(){return[n("i",{class:["iconfont",t.icon]})]},proxy:!0}],null,!0)},[n("span",{staticClass:"tabbar-title"},[e._v(e._s(t.name))])])})),1)],1)},N=[],S=(n("99af"),{data:function(){return{active:2}},components:{timing:function(){return n.e("chunk-16cfcd12").then(n.bind(null,"cde4"))}},computed:Object(v["b"])({qjdl:function(e){return e.qjdl},ifLearn:function(){return this.$route.path.indexOf("/exam/learn")>-1},menu:function(){var e=[{id:2,name:"入馆考试",path:"/exam",icon:"icon-rgks"},{id:3,name:"个人中心",path:"/usercenter",icon:"icon-grzx"}],t={id:1,name:"全景导览",path:"/qjdl",icon:"icon-qjdl"};return this.qjdl&&this.qjdl.val?[t].concat(e):e}}),mounted:function(){var e=document.getElementsByClassName("van-tabbar");if(e&&e[0]&&e[0].getBoundingClientRect){var t=e[0].getBoundingClientRect().top;this.$store.commit("setTabbarHeight",t)}else this.$store.commit("setTabbarHeight",0)}}),z=S,M=(n("a65b"),Object(u["a"])(z,D,N,!1,null,null,null)),R=M.exports,Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"qjdl"},[n("iframe",{attrs:{src:e.qjdl.val,frameborder:"0",scrolling:"auto",height:e.tbHeight,width:"100%"}})])},P=[],q={data:function(){return{height:600,that:this}},computed:Object(v["b"])({qjdl:function(e){return e.qjdl},tbHeight:function(e){return e.tabbarHeight||that.height}}),methods:{resetHeight:function(){this.height=document.body.clientHeight-120}},created:function(){}},B=q,H=(n("f287"),Object(u["a"])(B,Y,P,!1,null,"1f3912cc",null)),Q=H.exports,K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-center clearfix"},[a("van-nav-bar",{staticClass:"nav-bar",attrs:{title:"个人中心",border:!1,fixed:""}}),a("div",{staticClass:"navbar-height"}),e.userInfo.id?a("div",{staticClass:"card"},[a("img",{staticClass:"headpic",attrs:{src:n("2cbe")("./headpic-big-"+e.userInfo.sex+".png"),alt:"头像"}}),a("h3",[e._v("图书馆借书证")]),"3"==e.userInfo.readerflag?a("span",{staticClass:"active",on:{click:function(t){return e.$router.push("/exam")}}},[e._v(e._s(e.status))]):a("span",[e._v(e._s(e.status))])]):e._e(),e.userInfo.id?a("div",{staticClass:"user-info"},[a("van-row",[a("van-col",{attrs:{span:"12"}},[a("label",[e._v("证件")]),a("span",[e._v(e._s(e.userInfo.readerid))])]),a("van-col",{attrs:{span:"12"}},[a("label",[e._v("条码")]),a("span",[e._v(e._s(e.userInfo.barcode))])])],1),a("van-row",[a("van-col",{attrs:{span:"12"}},[a("label",[e._v("年级")]),a("span",[e._v(e._s(e.userInfo.grade))])]),a("van-col",{attrs:{span:"12"}},[a("label",[e._v("所属")]),a("span",[e._v(e._s(e.userInfo.dept))])])],1),a("van-row",[a("label",[e._v("校区")]),a("span",[e._v(e._s(e.campusName))])])],1):e._e(),a("div",{staticClass:"time"},[a("h3",[e._v("大事记")]),a("van-steps",{attrs:{direction:"vertical",active:0,"active-color":"#3A78FC","active-icon":"more"}},e._l(e.list,(function(t,n){return a("van-step",{key:n},[a("div",{staticClass:"time-content"},[a("p",{staticClass:"time-time"},[e._v(e._s(t.time))]),a("div",{staticClass:"line-card"},[a("h3",[e._v(e._s(t.title))]),t.content?a("p",[e._v(" 参加 "),a("strong",[e._v(e._s(t.examName))]),e._v(" ，"+e._s(t.content)+" ")]):e._e()])])])})),1)],1)],1)},J=[],G=(n("7db0"),n("159b"),n("4e82"),n("c24f")),V={data:function(){return{loading:!1,list:[]}},computed:Object(v["b"])({userInfo:function(e){return e.userInfo},campusList:function(e){return e.campusList},status:function(){var e=this.userInfo.readerflag,t="";switch(e){case"0":t="已注销";break;case"1":t="正常使用";break;case"2":t="已挂失";break;case"3":t="未激活，去考试";break}return t},campusName:function(){var e=this,t=this.campusList.find((function(t){return t.id==e.userInfo.campusId}));return t.name||"--"}}),methods:{getLoginUserAllExamRecords:function(){var e=this;this.loading=!0,Object(G["c"])().then((function(t){e.loading=!1,"000000"==t.code&&(e.list=t.data||{},e.list.forEach((function(t){e.$set(t,"time",e.common.defaultTimeFormat(t.examTime)),e.$set(t,"title","1"==t.examType?"普通考试":"闯关考试");var n="";n="1"==t.isPass?"恭喜通过考试，本次分数为".concat(t.score,"分。"):"遗憾未通过考试，本次分数为".concat(t.score,"分。"),e.$set(t,"content",n)})),e.list.sort((function(e,t){return t.examTime-e.examTime})),e.list.push({time:e.common.defaultTimeFormat(e.userInfo.firstLoginTime),title:"初次登录系统"}))})).catch((function(t){e.loading=!1}))}},created:function(){this.getLoginUserAllExamRecords()}},Z=V,W=(n("88ed"),Object(u["a"])(Z,K,J,!1,null,"d004d1d8",null)),X=W.exports,ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("van-sticky",[a("div",{staticClass:"exam1"},[a("van-nav-bar",{staticClass:"nav-bar",attrs:{title:"入馆考试"}}),a("img",{staticClass:"title-bg",attrs:{src:n("0071"),alt:""}}),"1"==e.userInfo.isPassExam?a("div",[a("div",{staticClass:"info"},[a("p",{staticClass:"success"},[e._v("恭喜，读书证已激活！")])])]):e.exam.id?e._e():a("div",[a("div",{staticClass:"info"},[a("p",[e._v("暂无入馆考试")])])]),"1"!=e.userInfo.isPassExam?a("div",[e.exam.id?a("div",{staticClass:"info"},[a("p",[e._v(" 考试时间："+e._s(e.moment(e.exam.startDate,"YYYYMMDD").format("YYYY-MM-DD"))+" 至 "+e._s(e.moment(e.exam.endDate,"YYYYMMDD").format("YYYY-MM-DD"))+" ")]),a("p",[e._v("请学习资料并参加考试，考试通过即可激活借书证")]),"1"==e.exam.isPass?a("div",["1"==e.exam.type?a("span",{staticClass:"success"},[e._v("真棒，考了"+e._s(e.exam.score)+"分，读书证已激活！")]):a("span",{staticClass:"success"},[e._v("恭喜，读书证已激活！")])]):a("div",["1"==e.exam.type?a("van-button",{staticClass:"orange-btn",attrs:{round:"",size:"big",disabled:e.canClick},on:{click:function(t){return e.showConfirm(null)}}},[e._v("立即考试")]):e._e(),e.canClick?a("p",{staticClass:"tips"},[e._v(" 还需学习 "+e._s(e.common.formatNeedTime(e.lastNeedLearn))+" ")]):e._e()],1)]):e._e()]):e._e()],1)]),"1"!=e.userInfo.isPassExam?a("div",{staticClass:"exam",style:e.tbHeight<700?{}:{height:e.tbHeight+"px"}},["1"!=e.exam.type&&e.exam.id?e._e():a("div",{staticClass:"module"},e._l(e.learnData,(function(t,r){return a("div",{key:t.id,staticClass:"module-box"},[a("div",{staticClass:"title"},[a("div",{staticClass:"bg"}),a("h3",[e._v(e._s(t.name))])]),a("img",{attrs:{src:n("758e"),alt:""}}),a("div",{staticClass:"count"},[t.videos.length>0?a("span",[e._v(e._s(t.videos.length)+"视频")]):e._e(),t.files.length>0?a("span",[e._v(e._s(t.files.length)+"文档")]):e._e(),t.articles.length>0?a("span",[e._v(e._s(t.articles.length)+"文章")]):e._e()]),a("div",{staticClass:"right-btn",on:{click:function(t){return e.toLearn(r)}}},[e._v("前往")])])})),0),"2"==e.exam.type?a("div",{staticClass:"module"},e._l(e.learnData,(function(t,r){return a("div",{key:t.id,staticClass:"module-box"},[a("div",{staticClass:"title"},[a("div",{staticClass:"bg"}),a("h3",[e._v(e._s(t.name))])]),r>0&&1==e.exam.isOrder&&!e.learnData[r-1].isPass?a("div",{staticClass:"locked-box"},[a("img",{attrs:{src:n("3aac"),alt:""}}),a("span",[e._v("未解锁")])]):a("div",[a("img",{attrs:{src:n("758e"),alt:""}}),t.isPass?a("div",{staticClass:"module-score"},[a("img",{attrs:{src:n("9c4c"),alt:""}}),e._v(" 关卡得分："+e._s(t.score)+" ")]):a("div",{staticClass:"count"},[t.videos.length>0?a("span",[e._v(e._s(t.videos.length)+"视频")]):e._e(),t.files.length>0?a("span",[e._v(e._s(t.files.length)+"文档")]):e._e(),t.articles.length>0?a("span",[e._v(e._s(t.articles.length)+"文章")]):e._e()]),a("div",{staticClass:"right-btn",on:{click:function(t){return e.toLearn(r)}}},[e._v("前往")])])])})),0):e._e()]):e._e(),a("div",{staticClass:"body-exam"},[e._v(" ")]),a("confirm",{ref:"confirm",attrs:{title:"确认开始考试？",text:e.confirmText,cancelText:"我再想想",confirmText:"立即开始"},on:{doConfirm:e.toExam}})],1)},te=[],ne=n("1da1"),ae=(n("96cf"),n("d81d"),n("4de4"),n("caad"),n("2532"),n("ac1f"),n("1276"),n("00b4"),n("39f0")),re=n("9420"),ie=n("6eb6"),se={components:{Confirm:re["default"]},mixins:[ie["a"]],data:function(){return{loading:!1,exam:{},moduleList:[],userLearns:[],userLearnRecords:[],learnData:[],lastNeedLearn:0,confirmText:"",curModelId:null,localip:null}},computed:Object(v["b"])({userInfo:function(e){return e.userInfo},tbHeight:function(e){return e.tabbarHeight},canClick:function(){return this.lastNeedLearn>0}}),methods:{toExam:function(){var e=this,t="1"==this.exam.type?this.exam.contents[0]:this.curModelId?this.exam.contents.find((function(t){return t.modelId==e.curModelId})):this.exam.contents[0];this.$store.commit("setCurExam",Object(p["a"])(Object(p["a"])({},this.exam),{},{content:t})),this.$router.push("/exam/examing")},toLearn:function(e){this.$store.commit("setCurLearn",{modelIndex:e,learnIndex:0}),this.$router.push("/exam/learn")},getLoginUserExams:function(){var e=this;this.loading=!0,Object(ae["c"])().then(function(){var t=Object(ne["a"])(regeneratorRuntime.mark((function t(n){var a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading=!1,"000000"!=n.code){t.next=16;break}if(a=n.data||{},r=a.pointExams||[],i=a.normalExams||[],r.length>0&&(e.exam=r[0],e.moduleList=e.exam.contents.map((function(e,t){return{id:e.modelId,name:e.modelName,level:t,needLearn:e.needLearn}}))),!(i.length>0)){t.next=11;break}return e.exam=i[0],t.next=10,e.$store.dispatch("getModuleList");case 10:e.moduleList=t.sent;case 11:if(e.exam.id){t.next=15;break}return t.next=14,e.$store.dispatch("getModuleList");case 14:e.moduleList=t.sent;case 15:e.getLoginUserLearns();case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.loading=!1}))},getLoginUserLearns:function(){var e=this;return Object(ae["d"])().then((function(t){if("000000"==t.code){var n=t.data||[];return e.userLearns=n,e.setLearnData(),Promise.resolve(n)}return Promise.reject(t.msg)})).catch((function(e){return Promise.reject(e)}))},setLearnData:function(){var e=this;this.learnData=this.moduleList.map((function(t){var n=e.userLearns.filter((function(e){return e.modelIds&&e.modelIds.includes(t.id)}));return Object(p["a"])(Object(p["a"])({},t),{},{learns:n,videos:n.filter((function(e){return"1"==e.type})),files:n.filter((function(e){return"2"==e.type})),articles:n.filter((function(e){return"3"==e.type}))})})),this.learnData.sort((function(e,t){return e.level-t.level})),this.learnData=this.learnData.filter((function(e){return e.learns.length})),this.setLastNeedLearn()},getLoginUserRecords:function(){var e=this;return Object(ae["e"])().then((function(t){if(e.getLoginUserExams(),"000000"==t.code){var n=t.data||[];return e.userLearnRecords=n,Promise.resolve(n)}return Promise.reject(t.msg)})).catch((function(t){return e.getLoginUserExams(),Promise.reject(t)}))},setLastNeedLearn:function(){var e=this;return Object(ne["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:"1"==e.exam.type&&e.exam.needLearn>0&&(n=e.userLearnRecords.reduce((function(e,t){return e+60*t.duration}),0),a=60*e.exam.needLearn-n,e.lastNeedLearn=a>0?a:0,e.$store.commit("setTime",{need:e.lastNeedLearn})),"2"==e.exam.type&&e.learnData.forEach((function(t){var n=e.userLearnRecords.filter((function(e){var n=e.modelIds||[];return"string"===typeof n&&(n=n.split(",")),n.forEach((function(e,t){n[t]=e+""})),n.includes(t.id+"")}));t.learnTimes=n.reduce((function(e,t){return e+60*t.duration}),0);var a=0;if(t.needLearn&&t.needLearn>0){var r=60*t.needLearn-t.learnTimes;a=r>0?r:0}e.$set(t,"lastNeedLearn",a)})),e.setExamRecord();case 3:case"end":return t.stop()}}),t)})))()},getLoginUserExamRecords:function(){var e=this;return Object(ae["b"])(this.exam.id).then((function(t){if("000000"==t.code){var n=function(e){var t=/[0-9]+/;return t.test(e)?parseFloat(e):0},a=t.data||{},r=a[0]||{};if(e.exam.id){var i=a.filter((function(t){return t.examId===e.exam.id}))||[];i.forEach((function(e){n(r.createTime)<n(e.createTime)&&(r=e)}))}return e.$set(e.exam,"isPass",r.isPass),"1"==e.exam.type&&e.$set(e.exam,"score",r.score||0),Promise.resolve(r)}return Promise.reject(t.msg)})).catch((function(e){return Promise.reject(e)}))},setExamRecord:function(){var e=this;return Object(ne["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getLoginUserExamRecords();case 2:n=t.sent,"2"==e.exam.type&&(a=n.recordModels||[],e.learnData.forEach((function(t){var n=a.find((function(e){return e.modelId==t.id}))||{};e.$set(t,"isPass",n.isPass||0),e.$set(t,"score",n.score||0)}))),e.$store.commit("setExamLearnData",e.learnData),e.$store.commit("setCurExam",e.exam);case 6:case"end":return t.stop()}}),t)})))()}},created:function(){this.getLoginUserRecords(),this.$store.dispatch("getUserInfo")}},oe=se,ce=(n("4561"),Object(u["a"])(oe,ee,te,!1,null,"13690dae",null)),ue=ce.exports;a["a"].use(r["a"]);var le=[{path:"/",redirect:"/usercenter"},{path:"/loginLayout",name:"loginLayout",component:d,children:[{path:"/login",name:"login",component:L},{path:"/newbornlogin",name:"newbornLogin",component:T},{path:"/campus",name:"campus",component:A}]},{path:"/mainLayout",name:"mainLayout",component:R,children:[{path:"/qjdl",name:"qjdl",component:Q},{path:"/usercenter",name:"userCenter",component:X},{path:"/exam",name:"exam",component:ue},{path:"/exam/learn",name:"exam_learn",component:function(){return n.e("chunk-2eb3201c").then(n.bind(null,"635f"))}},{path:"/exam/learn/:id",name:"exam_learn_id",component:function(){return n.e("chunk-0beaba67").then(n.bind(null,"e8ef"))}},{path:"/exam/examing",name:"exam_examing",component:function(){return n.e("chunk-a60b8ea6").then(n.bind(null,"c713"))}}]}],de=new r["a"]({routes:le});t["a"]=de},a37d:function(e,t,n){"use strict";n("6403")},a598:function(e,t,n){e.exports=n.p+"static/img/login-bg.7907b243.png"},a5ee:function(e,t,n){},a65b:function(e,t,n){"use strict";n("c7f2")},a924:function(e,t,n){"use strict";n("d693")},aa25:function(e,t,n){"use strict";n("15bd")},b5ac:function(e,t,n){},bbd5:function(e,t,n){"use strict";n("d3b7"),n("e9c4"),n("caad"),n("2532"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),n("4d63"),n("c607"),n("ac1f"),n("2c3e"),n("25f0"),n("466d"),n("5319"),n("fb6a"),n("99af"),n("a15b"),n("a9e3"),n("841c"),n("1276");var a,r="http://seat.dev.angke.cn/appportalweb/rest/",i="",s="/appportalweb",o="production";"development"===o?a=1:"test"===o?a=2:"production"===o&&(a=3);var c=function(){if(1===a)return r;if(2===a)return"http://app.dev.angke.com.cn/appportalweb/rest/";if(3===a){var e=document.location.pathname,t=e.substring(0,e.substr(1).indexOf("/")+1),n=location.protocol+"//"+location.host+t;return n+"/rest/"}throw"项目状态输入错误！"},u=function(){if(1===a)return"/fileweb/rest/FileOut/view";if(2===a)return"/fileweb/rest/FileOut/view";if(3===a)return"".concat(location.protocol,"//").concat(location.host,"/fileweb/rest/FileOut/view/");throw"项目状态输入错误！"},l=function(e){if(e)return e;var t=window.document.location.pathname;""===s&&(s=t.substring(0,t.substr(1).indexOf("/")+1));var n=s+"/",a=document.location.href.split("#")[0];return n+"rest/Idsclient/reqLogin?reqUrl="+encodeURIComponent(a)},d=function(){if(1===a)return i;if(2===a||3===a)return l(i);throw"项目状态输入错误！"},f=function(){if(1===a)return"http://file.dev.angke.com.cn/fileweb/rest/FileOut/saveFile";if(2===a)return"http://file.dev.angke.com.cn/fileweb/rest/FileOut/saveFile";if(3===a)return"".concat(location.protocol,"//").concat(location.host,"/fileweb/rest/FileOut/saveFile/");throw"项目状态输入错误！"},m=function(e){var t=document.createElement("div"),n={position:"fixed",top:"50%",width:"100%"};for(var a in n)t.style[a]=n[a];var r=document.createElement("sapn");r.innerText=e;var i={"background-color":"rgba(0,0,0,0.5)",padding:"15px 15px","border-radius":"5px",color:"#FFF",margin:"0 auto","font-size":"1rem"};for(var s in i)r.style[s]=i[s];t.appendChild(r);var o=document.getElementsByTagName("body")[0];o.appendChild(t),setTimeout((function(){o.removeChild(t)}),3e3)},p={getReadFile:u(),getLoginUrl:d(),getUploadUrl:f(),getAppportalwebUrl:c(),tips:function(e){return m(e)}},h=n("bc3a"),g=n.n(h),b=n("4328"),v=n.n(b),x=n("a18c"),j=n("4360"),w=g.a;g.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8";var L={url:{}};L.url["url"]=window.g.url,L.url["appportal"]=window.g.appportalUrl,L.url["auth"]=window.g.authUrl,L.url["file"]=window.g.fileUrl,L.url["idsweb"]=window.g.idsUrl,L.url["third"]=window.g.thirdUrl;var k=function(e,t){return new Promise((function(n,a){var r=!!L.url[e]&&L.url[e];r?n(L.url[e]+t):y({code:"appportal",url:"Portal/getPhyAppByCODEs",data:{CODEs:JSON.stringify([e])}}).then((function(r){var i=r;if(i.success){for(var s=0;s<i.data.length;s++)L.url[i.data[s].CODE]=i.data[s].URL;n(L.url[e]+t)}else a("fail!"),p.tips("获取Url失败！");n(L.url[e]+t)})).catch((function(e){a("fail!"),a(e)}))}))},y=function(e){return new Promise((function(t,n){e&&e.url&&e.code?k(e.code,e.url).then((function(a){var r={url:a,method:e.isGet?"GET":"POST",headers:{IDSTGC:I("IDSTGC")||"1aecdd94392244b799479d81dfd3b41c"},data:e.isRep?e.data:v.a.stringify(e.data)||""};return e.data&&void 0!==e.data.isLoading&&!e.data.isLoading||j["a"].commit("setLoading",!0),w(r).then((function(e){j["a"].commit("setLoading",!1);var n=e,a=e.data;!1===a.login||"string"===typeof a&&a.includes("<html>")?A():!1===a.success?t(n):t(a)})).catch((function(e){j["a"].commit("setLoading",!1);var t=_();t&&A(),n(e)}))})).catch((function(e){j["a"].commit("setLoading",!1),n(e)})):(n("参数错误！"),p.tips("参数错误！"))}))},C=function(e,t,n,a,r){w({url:window.g.url+e,method:t?"GET":"POST",responseType:"blob",headers:{IDSTGC:I("IDSTGC")||"73a20404f48b4dd49ba9fe9169282a7e"},data:n}).then((function(e){var t=window.URL.createObjectURL(e.data),n=document.createElement("a");n.href=t,n.style.display="none",n.setAttribute("download",a+"."+r),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(t)}))},_=function(){var e=navigator.userAgent,t=e.indexOf("Edge")>-1,n=e.indexOf("Trident")>-1&&e.indexOf("rv:11.0")>-1,a=e.indexOf("MSIE")>-1;return t||n||a},I=function(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(n))?unescape(t[2]):null},A=function(){window.base.isLocalLogin?x["a"].push("/login"):location.href=p.getLoginUrl},O=function(e,t){var n,a=""+e,r=function(e){return e>=10?e:"0"+e};switch(a.length){case 17:case 16:case 15:case 14:n=new Date(parseInt(a.substring(0,4)),parseInt(a.substring(4,6))-1,parseInt(a.substring(6,8)),parseInt(a.substring(8,10)),parseInt(a.substring(10,12)),parseInt(a.substring(12,14)));break;case 13:n=new Date(e);break;case 8:n=new Date(parseInt(a.substring(0,4)),parseInt(a.substring(4,6))-1,parseInt(a.substring(6,8)));break;default:n="",console.log("format参数输入错误")}var i="";return i=n?t.replace(/YYYY/gi,n.getFullYear()+"").replace(/MM/g,r(n.getMonth()+1)).replace(/DD/gi,r(n.getDate())).replace(/hh/gi,r(n.getHours())).replace(/mm/g,r(n.getMinutes())).replace(/ss/gi,r(n.getSeconds())):"--",i},E=function(){var e=new Date,t=e.getMonth()+1;t>=1&&t<=9&&(t="0"+t);var n=e.getDate();n>=0&&n<=9&&(n="0"+n);var a=e.getHours();a>=0&&a<=9&&(a="0"+a);var r=e.getMinutes();return r>=0&&r<=9&&(r="0"+r),e.getFullYear()+t+n},$=function(e){return e.slice(0,4)-e.slice(4,6)-e.slice(6,8)},F=function(e){if("number"!==typeof parseInt(e))throw"Ow<这是一条来自common的提示：传入的参数类型不正确，需要一个数字/数字字符串";e=parseInt(e);var t=function(e){return e>=10?e:"0"+e},n=parseInt(e%60),a=parseInt(e/3600),r=parseInt((e-3600*a)/60);return"".concat(t(a),":").concat(t(r),":").concat(t(n))},U=function(e){return e.charAt(0)+Array(e.length).join("*")};t["a"]={global:L,exportFile:C,formatMYD:function(){return E()},slicetime:function(){return $()},angle:function(e){return 180*Math.atan(e)/Math.PI},GenNonDuplicateID:function(){return Number(Math.random().toString().substr(3,8)+Date.now()).toString(36)},formatmintomins:function(e){return Math.floor(e/60)+"分"+e%60+"秒"},dist:function(e,t){return Math.sqrt(e*e+t*t)},formatTime:function(e,t){return O(e,t)},postAjax:function(e){return y(e)},getUrlByCode:function(e,t){return k(e,t)},getCookieByName:function(e){return I(e)},getUrlParam:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return null!=n?decodeURI(n[2]):""},formatSeconds:function(e){return F(e)},formatName:function(e){return U(e)},utf16Str:function(e){for(var t=[],n=0;n<e.length;n++){var a=e.charCodeAt(n);a>=0&&a<=127?(1,t.push(a)):a>=128&&a<=2047?(2,t.push(192|31&a>>6),t.push(128|63&a)):a>=2048&&a<=55295||a>=57344&&a<=65535?(3,t.push(224|15&a>>12),t.push(128|63&a>>6),t.push(128|63&a)):a>=65536&&a<=1114111&&(4,t.push(240|7&a>>18),t.push(128|63&a>>12),t.push(128|63&a>>6),t.push(128|63&a))}return t},regExps:{chinese:/^[\u4e00-\u9fa5]{0,}$/,email:/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/,account:/^[a-zA-Z][a-zA-Z0-9_]{4,15}$/,pwd:/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/,url:/^[http|ftp|https]:\/\/(\w+(-\w+)*)(\.(\w+(-\w+)*))*(\?\S*)?$/,qq:/^[1-9]\d{4,9}$/,phone:/^((0\d{2,3}-\d{7,8})|(1[358479]\d{9})|(\d{8}))$/,yphone:/^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\d{8}$/,floatNum:/^([1-9]\d{0,3}?(\.\d{1,2})?|0|0\.\d{1,2})$/,num:/^([1-9][0-9]*)+(.[0-9]{1,2})?$/,znum:/^[1-9]\d*$/,isbn:/^(\d[- ]*){12}[\dxX]$/,idCard_15:/^[1-9]\d{5}\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{2}$/,idCard_18:/^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,idCard:/(^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$)|(^[1-9]\d{5}\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{2}$)/,URL:"rest",PREURL:""}}},bed3:function(e,t,n){},bf1e:function(e,t,n){e.exports=n.p+"static/img/headpic-big-1.8f804361.png"},c24f:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return o}));var a=n("bbd5");n("4360");function r(){return a["a"].postAjax({code:"url",url:"user/loginUserInfo"})}function i(){return a["a"].postAjax({code:"url",url:"user/isFirstLogin"})}function s(){return a["a"].postAjax({code:"url",url:"user/loginUserExamRecords"})}function o(){return a["a"].postAjax({code:"url",url:"user/getIpAdrress"})}},c7f2:function(e,t,n){},c8ce:function(e,t,n){},d693:function(e,t,n){},dadb:function(e,t,n){e.exports=n.p+"static/img/headpic-big-0.c630454b.png"},efda:function(e,t,n){"use strict";n("6aad")},f287:function(e,t,n){"use strict";n("bed3")}});