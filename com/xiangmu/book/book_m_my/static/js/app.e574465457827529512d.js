webpackJsonp([1],{"1uuo":function(e,t){},"35Bh":function(e,t){},"64Ch":function(e,t){},A8XV:function(e,t){},ISSH:function(e,t){},LxiE:function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("7+uW"),o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var a=s("VU/8")({name:"App"},o,!1,function(e){s("A8XV")},null,null).exports,n=s("/ocq"),r={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"hello"},[s("h1",[e._v(e._s(e.msg))]),e._v(" "),s("h2",[e._v("Essential Links")]),e._v(" "),e._m(0),e._v(" "),s("h2",[e._v("Ecosystem")]),e._v(" "),e._m(1)])},staticRenderFns:[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",[s("li",[s("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[e._v("\n        Core Docs\n      ")])]),e._v(" "),s("li",[s("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[e._v("\n        Forum\n      ")])]),e._v(" "),s("li",[s("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[e._v("\n        Community Chat\n      ")])]),e._v(" "),s("li",[s("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[e._v("\n        Twitter\n      ")])]),e._v(" "),s("br"),e._v(" "),s("li",[s("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[e._v("\n        Docs for This Template\n      ")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[t("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};s("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},r,!1,function(e){s("1uuo")},"data-v-d8ec41bc",null).exports;var d=s("mvHQ"),l=s.n(d),c="book2",u="book/checkList",h="book/getUser",f="book/deleteRecords",m="fileManage/upload",p="book/getGroup",v="book/checkInvoiceNum",I="book/isbnGetBookInfo",g="book/save",E="book/getOne",w="Periodical/list",b="Periodical/save",O="Periodical/checkInvoiceNum",N="Periodical/deleteRecords",k="Periodical/view",C={data:function(){return{selected:this.$store.state.selected?this.$store.state.selected:"图书",ID:"",checklist:[],checklistshow:"",showmididle:!0,Periodicallists:[],Periodicallistsshow:"",totalNum:0,pageSize:10,bookpageNum:1,periodicalpageNum:1,bookLoading:!1,periodicalLoading:!1}},methods:{tabs:function(e){switch(this.bookpageNum=1,this.periodicalpageNum=1,e){case"图书":this.bookLoading=!1,this.periodicalLoading=!0,this.checklist=[],this.loadDate1();break;case"期刊":this.periodicalLoading=!1,this.bookLoading=!0,this.Periodicallists=[],this.loadDate2()}},loadDate1:function(){var e=this;this.bookLoading||this.util.postAjax({code:c,url:u,data:{page:this.bookpageNum,limit:this.pageSize,filter:l()({CREATORID:window.sessionStorage.getItem("getlistID")})}}).then(function(t){var s=t.items;s.length<10||0===s.length?e.bookLoading=!0:e.bookpageNum++;for(var i=0;i<s.length;i++)e.checklist.push(s[i]),e.checklist.length>0?e.checklistshow=!0:e.checklistshow=!1;var o=[],a={};for(i=0;i<e.checklist.length;i++)a[e.checklist[i].ID]||(o.push(e.checklist[i]),a[e.checklist[i].ID]=!0),e.bookpageNum=2;e.checklist=o,e.checklist.forEach(function(e,t){e.showmididle=!1,0==t&&(e.showmididle=!0),2==e.ISCHECKED?e.img="waitconfirm.png":1==e.ISCHECKED?e.img="pass.png":e.img="unpass.png"})})},loadDate2:function(){var e=this;this.periodicalLoading||this.util.postAjax({code:c,url:w,data:{page:this.periodicalpageNum,limit:this.pageSize,filter:l()({CREATORID:window.sessionStorage.getItem("getlistID")})}}).then(function(t){var s=t.items;s.length<10||0===s.length?e.periodicalLoading=!0:e.periodicalpageNum++;for(var i=0;i<s.length;i++)e.Periodicallists.push(s[i]),e.Periodicallists.length>0?e.Periodicallistsshow=!0:e.Periodicallistsshow=!1;e.Periodicallists.forEach(function(e,t){2==e.ISCHECKED?e.img="waitconfirm.png":1==e.ISCHECKED?e.img="pass.png":e.img="unpass.png"})})},bookreimbursement:function(){this.$store.commit("setselectimgs",[]),window.sessionStorage.setItem("isadd","true"),window.sessionStorage.removeItem("addlist"),window.sessionStorage.removeItem("FPfiles"),window.sessionStorage.removeItem("OAfiles"),window.sessionStorage.removeItem("DOCfiles"),window.sessionStorage.removeItem("addbook"),window.sessionStorage.removeItem("showOA"),this.$router.push("bookreimbursement")},periodicalreimbursement:function(){this.$store.commit("setselectimgs",[]),window.sessionStorage.setItem("isperiodicaladd","true"),window.sessionStorage.removeItem("FPfiles"),window.sessionStorage.removeItem("OAfiles"),window.sessionStorage.removeItem("DOCfiles"),window.sessionStorage.removeItem("addPeriodical"),window.sessionStorage.removeItem("showOA"),this.$router.push("periodicalreimbursement")},getUser:function(){var e=this;this.util.postAjax({code:c,url:h}).then(function(t){e.ID=t.ID,window.sessionStorage.setItem("getlistID",t.ID)})},getList:function(e){var t=this;this.util.postAjax({code:c,url:u,data:{ID:e}}).then(function(e){t.checklist=e.items,e.items.length>0?t.checklistshow=!0:t.checklistshow=!1,t.checklist.forEach(function(e,t){e.showmididle=!1,0==t&&(e.showmididle=!0),2==e.ISCHECKED?e.img="waitconfirm.png":1==e.ISCHECKED?e.img="pass.png":e.img="unpass.png"})})},Periodicallist:function(e){var t=this;this.util.postAjax({code:c,url:w,data:{ID:e}}).then(function(e){t.Periodicallists=e.items,e.items.length>0?t.Periodicallistsshow=!0:t.Periodicallistsshow=!1,t.Periodicallists.forEach(function(e,t){2==e.ISCHECKED?e.img="waitconfirm.png":1==e.ISCHECKED?e.img="pass.png":e.img="unpass.png"})})},del:function(e){var t=this;this.MessageBox.confirm("确定删除吗?").then(function(s){t.util.postAjax({code:c,url:f,data:{data:l()([e])}}).then(function(e){t.Toast("删除成功"),t.getList(t.ID)})})},removePeriodical:function(e){var t=this;this.MessageBox.confirm("确定删除吗?").then(function(s){t.util.postAjax({code:c,url:N,data:{data:l()([e])}}).then(function(e){t.Toast("删除成功"),t.Periodicallist(t.ID)})})},isshowmididle:function(e,t){e.showmididle=!e.showmididle,i.default.set(this.checklist,t,this.checklist[t])},godetails:function(e){var t=this;window.sessionStorage.setItem("editID",e.ID),this.util.postAjax({code:c,url:E,data:{ID:e.ID}}).then(function(e){window.sessionStorage.setItem("isadd","false"),t.$router.push("bookreimbursement");var s={bookstype:e.RECORD.ISCHINESE,invoicenumber:e.RECORD.INVOICENUM,invoicenvalue:e.RECORD.ALLMONEY,mainperson:e.RECORD.CREATERNAME,Fundstype:e.RECORD.FUNDTYPE,Fundsnum:e.RECORD.FUNDNUMBER,instructions:e.RECORD.REASON,CREATERID:e.RECORD.CREATERID};window.sessionStorage.setItem("addbook",l()(s)),window.sessionStorage.setItem("mainpersonID",e.RECORD.CREATERID);var i=[],o=[],a=[{ID:""}],n=[{ID:""}];e.NOTE.forEach(function(e){0==e.TYPE?i.push({ID:e.URL,checked:!0}):2==e.TYPE?o.push({ID:e.URL,checked:!0}):3==e.TYPE?(a=[]).push({ID:e.URL,checked:!0}):(n=[]).push({ID:e.URL,checked:!0})});var r=[];e.items.forEach(function(e){r.push({AUTHOR:e.BOOK.AUTHOR,BIDPRICE:e.BOOK.BIDPRICE,BOOKNAME:e.BOOK.BOOKNAME,ISBN:e.BOOK.ISBN,ISCHINESE:e.BOOK.ISCHINESE,PUBLISHER:e.BOOK.PUBLISHER,QUANTITY:e.BOOK.QUANTITY,TRADINGPRICE:e.BOOK.TRADINGPRICE,total:e.BOOK.TOTAL,IMGURL:e.PIC[0].URL})}),t.$store.commit("setselectimgs",i),a[0].ID?window.sessionStorage.setItem("showOA","true"):window.sessionStorage.setItem("showOA","false"),window.sessionStorage.setItem("FPfiles",l()(o)),window.sessionStorage.setItem("OAfiles",l()(a)),window.sessionStorage.setItem("DOCfiles",l()(n)),window.sessionStorage.setItem("addlist",l()(r))})},goPeriodicaldetails:function(e){var t=this;window.sessionStorage.setItem("editPeriodicalID",e.ID),this.util.postAjax({code:c,url:k,data:{ID:e.ID}}).then(function(e){window.sessionStorage.setItem("isperiodicaladd","false"),t.$router.push("periodicalreimbursement");var s={ISChINESE:e.item.ISCHINESE,INVOICENUMBER:e.item.INVOICENUMBER,ALLMONEY:e.item.ALLMONEY,CREATORNAME:e.item.CREATORNAME,FUNDTYPE:e.item.FUNDTYPE,FUNDNUMBER:e.item.FUNDNUMBER,REASON:e.item.REASON,KINDNUM:e.item.KINDNUM,CREATORID:window.sessionStorage.getItem("CREATORNAMEID")};window.sessionStorage.setItem("addPeriodical",l()(s)),window.sessionStorage.setItem("CREATORNAMEID",e.item.CREATORID);var i=[],o=[],a=[{ID:""}],n=[{ID:""}];e.list.forEach(function(e){i.push({TYPE:e.TYPE,ID:e.URL,checked:!0})}),t.$store.commit("setselectimgs",i),e.invoice.forEach(function(e){o.push({TYPE:e.TYPE,ID:e.URL})}),e.artical.forEach(function(e){(n=[]).push({TYPE:e.TYPE,ID:e.URL})}),e.oa.forEach(function(e){(a=[]).push({TYPE:e.TYPE,ID:e.URL})}),a[0].ID?window.sessionStorage.setItem("showOA","true"):window.sessionStorage.setItem("showOA","false"),window.sessionStorage.setItem("FPfiles",l()(o)),window.sessionStorage.setItem("OAfiles",l()(a)),window.sessionStorage.setItem("DOCfiles",l()(n))})}},created:function(){this.getUser(),console.log(this.selected)}},A={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("mt-navbar",{model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[s("mt-tab-item",{staticClass:"tags",attrs:{id:"图书"},nativeOn:{click:function(t){return e.tabs("图书")}}},[s("span",[e._v("图书")])]),e._v(" "),s("mt-tab-item",{staticClass:"tags",attrs:{id:"期刊"},nativeOn:{click:function(t){return e.tabs("期刊")}}},[s("span",[e._v("期刊")])])],1),e._v(" "),s("mt-tab-container",{model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[s("mt-tab-container-item",{attrs:{id:"图书"}},[s("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.loadDate1,expression:"loadDate1"},{name:"show",rawName:"v-show",value:e.checklistshow,expression:"checklistshow"}],staticClass:"books",attrs:{"infinite-scroll-disabled":e.bookLoading,"infinite-scroll-distance":"20","v-if":"图书"==e.selected}},[e._l(e.checklist,function(t,i){return s("div",{key:i,staticClass:"book"},[s("div",{staticClass:"booktop",on:{click:function(s){return e.isshowmididle(t,i)}}},[s("i",{staticClass:"left_icon",style:{background:"url(./static/imgs/"+t.img+")",backgroundSize:"cover"}}),e._v(" "),1==t.ISCHINESE?s("p",[e._v("境内出版物"),1==t.ISCHECKED&&t.CHECKTIME?s("span",[e._v(e._s(e.util.formatTime(t.CHECKTIME,"YYYY-MM-DD hh:mm:ss"))+"通过审核")]):e._e()]):s("p",[e._v("境外出版物"),1==t.ISCHECKED&&t.CHECKTIME?s("span",[e._v(e._s(e.util.formatTime(t.CHECKTIME,"YYYY-MM-DD hh:mm:ss"))+"通过审核")]):e._e()]),e._v(" "),0==t.ISCHECKED?s("i",{staticClass:"right_del",on:{click:function(s){return e.del(t.ID)}}}):e._e()]),e._v(" "),s("ul",{staticClass:"bookmiddle",style:{display:1==t.showmididle?"block":"none"}},[e._l(t.BOOKS,function(i,o){return s("li",{key:o,on:{click:function(s){"0"==t.ISCHECKED&&e.godetails(t)}}},[s("div",{staticClass:"middle_left",style:{background:"url("+i.PIC[0].URL+")",backgroundSize:"cover"}}),e._v(" "),s("div",{staticClass:"middle_right"},[s("h6",[e._v(e._s(i.BOOK.BOOKNAME)),s("span",[e._v("¥"+e._s(i.BOOK.TRADINGPRICE))])]),e._v(" "),i.BOOK.AUTHOR?s("p",[e._v("作者: "+e._s(i.BOOK.AUTHOR))]):s("p",[e._v("作者: --")]),e._v(" "),s("p",[e._v("ISBN: "+e._s(i.BOOK.ISBN))]),e._v(" "),s("span",[e._v(e._s(i.BOOK.QUANTITY)+"本")])])])}),e._v(" "),0==t.ISCHECKED?s("div",{staticClass:"reason"},[s("span",{staticClass:"reasonleft"},[e._v("退回理由：")]),e._v(" "),s("span",{staticClass:"reasonright"},[e._v(e._s(t.REMARK))])]):e._e()],2),e._v(" "),s("div",{staticClass:"bookbottom"},[s("p",[e._v(e._s(t.CREATETIME.slice(0,4))+"-"+e._s(t.CREATETIME.slice(4,6))+"-"+e._s(t.CREATETIME.slice(6,8))+" "+e._s(t.CREATETIME.slice(8,10))+":"+e._s(t.CREATETIME.slice(10,12))+":"+e._s(t.CREATETIME.slice(12,14))),s("span",[e._v("总金额:"+e._s(t.ALLMONEY)+" 人民币")])])])])}),e._v(" "),s("div",{staticClass:"fixed_add"},[s("div",{staticClass:"fixedadd",style:{background:"url(./static/imgs/addcheck.png)",backgroundSize:"cover"},on:{click:e.bookreimbursement}})])],2),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.checklistshow,expression:"!checklistshow"}],staticClass:"books",attrs:{"v-if":"图书"==e.selected}},[s("div",{staticClass:"nodata"},[e._v("暂无数据")]),e._v(" "),s("div",{staticClass:"fixed_add"},[s("div",{staticClass:"fixedadd",style:{background:"url(./static/imgs/addcheck.png)",backgroundSize:"cover"},on:{click:e.bookreimbursement}})])])]),e._v(" "),s("mt-tab-container-item",{attrs:{id:"期刊"}},[s("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.loadDate2,expression:"loadDate2"},{name:"show",rawName:"v-show",value:e.Periodicallistsshow,expression:"Periodicallistsshow"}],staticClass:"books",attrs:{"infinite-scroll-disabled":e.periodicalLoading,"infinite-scroll-distance":"20","v-if":"期刊"==e.selected}},[e._l(e.Periodicallists,function(t,i){return s("div",{key:i,staticClass:"book"},[s("div",{staticClass:"booktop"},[s("i",{staticClass:"left_icon",style:{background:"url(./static/imgs/"+t.img+")",backgroundSize:"cover"}}),1==t.ISCHINESE?s("p",[e._v("境内出版物"),1==t.ISCHECKED&&t.CHECKTIME?s("span",[e._v(e._s(e.util.formatTime(t.CHECKTIME,"YYYY-MM-DD hh:mm:ss"))+"通过审核")]):e._e()]):s("p",[e._v("境外出版物"),1==t.ISCHECKED&&t.CHECKTIME?s("span",[e._v(e._s(e.util.formatTime(t.CHECKTIME,"YYYY-MM-DD hh:mm:ss"))+"通过审核")]):e._e()]),e._v(" "),0==t.ISCHECKED?s("i",{staticClass:"right_del",on:{click:function(s){return e.removePeriodical(t.ID)}}}):e._e()]),e._v(" "),s("div",{staticClass:"periodicalmiddle",on:{click:function(s){"0"==t.ISCHECKED&&e.goPeriodicaldetails(t)}}},[s("h6",[e._v("期刊种数: "+e._s(t.KINDNUM))]),e._v(" "),s("p",[e._v("经费号: "+e._s(t.FUNDNUMBER))]),e._v(" "),s("p",[e._v("发票号: "+e._s(t.INVOICENUMBER))]),e._v(" "),0==t.ISCHECKED?s("div",{staticClass:"reason1"},[s("span",{staticClass:"reasonleft"},[e._v("退回理由：")]),e._v(" "),s("span",{staticClass:"reasonright"},[e._v(e._s(t.REMARK))])]):e._e()]),e._v(" "),s("div",{staticClass:"bookbottom"},[s("p",[e._v(e._s(t.CREATETIME.slice(0,4))+"-"+e._s(t.CREATETIME.slice(4,6))+"-"+e._s(t.CREATETIME.slice(6,8))+" "+e._s(t.CREATETIME.slice(8,10))+":"+e._s(t.CREATETIME.slice(10,12))+":"+e._s(t.CREATETIME.slice(12,14))),s("span",[e._v("总金额:"+e._s(t.ALLMONEY))])])])])}),e._v(" "),s("div",{staticClass:"fixed_add"},[s("div",{staticClass:"fixedadd",style:{background:"url(./static/imgs/addcheck.png)",backgroundSize:"cover"},on:{click:e.periodicalreimbursement}})])],2),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.Periodicallistsshow,expression:"!Periodicallistsshow"}],staticClass:"books",attrs:{"v-if":"期刊"==e.selected}},[s("div",{staticClass:"nodata"},[e._v("暂无数据")]),e._v(" "),s("div",{staticClass:"fixed_add"},[s("div",{staticClass:"fixedadd",style:{background:"url(./static/imgs/addcheck.png)",backgroundSize:"cover"},on:{click:e.periodicalreimbursement}})])])])],1)],1)},staticRenderFns:[]};var D=s("VU/8")(C,A,!1,function(e){s("bNY9")},"data-v-97a046fa",null).exports,_=s("mtWM"),R=s.n(_),S={name:"upload",data:function(){return{fileList:[],carmeraStr:this.carmera?"image/*":""}},methods:{getCookie:function(e){var t,s=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(s))?unescape(t[2]):null},getFile:function(e){var t=this;if(this.fileList=e.target.files,!this.fileList.length)return!1;for(var s=this.exts.split("|"),i=0;i<this.fileList.length;i++){var o=this.fileList[i],a=o.name.split("."),n=a[a.length-1];if(-1===s.indexOf(n))throw this.Toast("上传了不符合后缀的文件！"),"上传了不符合后缀的文件！";if(this.size){var r=1024*this.size;if(o.size>r)throw this.Toast("上传文件超过限制大小！"),"上传文件超过限制大小！"}}this.$emit("choose",this.fileList);for(var d=new FormData,l=0;l<this.fileList.length;l++)d.append("file",this.fileList[l]);var c={url:this.url,method:"POST",headers:{IDSTGC:this.getCookie("IDSTGC")},data:d};R()(c).then(function(e){var s=e.data;if(null===s||s.success)t.$emit("done",s);else if(s.hasOwnProperty("login")&&!s.login){var i=window.document.location.pathname,o=i.substring(0,i.substr(1).indexOf("/")+1)+"/",a=document.location.href;location.href=o+"rest/Idsclient/reqLogin?reqUrl="+encodeURIComponent(a)}else t.Toast(s.message)})},toupload:function(){this.$refs.uploaddom.click()},Toast:function(e){var t=document.createElement("div"),s={position:"fixed",top:"50%",width:"100%"};for(var i in s)t.style[i]=s[i];var o=document.createElement("sapn");o.innerText=e;var a={"background-color":"rgba(0,0,0,0.5)",padding:"15px 15px","border-radius":"5px",color:"#FFF","margin-left":"auto","margin-right":"auto","max-width":"300px","font-size":"1rem",display:"block","text-align":"center"};for(var n in a)o.style[n]=a[n];t.appendChild(o);var r=document.getElementsByTagName("body")[0];r.appendChild(t),setTimeout(function(){r.removeChild(t)},3e3)}},watch:{},props:{url:String,exts:String,size:[String,Number],multiple:!1!==Boolean,choose:Function,filelist:Array,beforeupload:Function,done:Function,autoupload:!1!==Boolean,carmera:{type:String,default:"image/*"}},created:function(){this.exts=this.exts?this.exts:"jpg|png|bmp|gif|txt"}},T={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{staticClass:"uploadbtn",on:{click:this.toupload}},[this._v("上传文件")]),this._v(" "),t("input",{ref:"uploaddom",staticClass:"uploadinput",attrs:{type:"file",rel:"files",accept:this.carmera,multiple:this.multiple,title:"上传文件"},on:{change:this.getFile}})])},staticRenderFns:[]};var P=s("VU/8")(S,T,!1,function(e){s("ISSH")},"data-v-68dc051f",null).exports,U=s("//Fk"),M=s.n(U),x=void 0;x=3;var F={getLoginUrl:function(){if(1===x)return location.href;if(2===x||3===x)return e=window.document.location.pathname,t=e.substring(0,e.substr(1).indexOf("/")+1)+"/",s=document.location.href,t+"rest/Idsclient/reqLogin?reqUrl="+encodeURIComponent(s);throw"项目状态输入错误！";var e,t,s}(),getUploadUrl:function(){if(1===x)return"http://file.dev.angke.com.cn/fileweb/rest/FileOut/saveFile";if(2===x)return"http://file.dev.angke.com.cn/fileweb/rest/FileOut/saveFile";if(3===x)return location.protocol+"//"+location.host+"/fileweb/rest/FileOut/view/";throw"项目状态输入错误！"}(),getAppportalwebUrl:function(){if(1===x)return"http://mock.dev.angke.com.cn/mock/5c773c0935040d0010510d43/rest/";if(2===x)return"http://seat.dev.angke.cn/appportalweb/rest/";if(3===x){var e=document.location.pathname,t=e.substring(0,e.substr(1).indexOf("/")+1);return location.protocol+"//"+location.host+t+"/rest/"}throw"项目状态输入错误！"}(),tips:function(e){return function(e){var t=document.createElement("div"),s={position:"fixed",top:"50%",width:"100%"};for(var i in s)t.style[i]=s[i];var o=document.createElement("sapn");o.innerText=e;var a={"background-color":"rgba(0,0,0,0.5)",padding:"15px 15px","border-radius":"5px",color:"#FFF",margin:"0 auto","font-size":"1rem"};for(var n in a)o.style[n]=a[n];t.appendChild(o);var r=document.getElementsByTagName("body")[0];r.appendChild(t),setTimeout(function(){r.removeChild(t)},3e3)}(e)}},B=s("mw3O"),L=s.n(B),y=(s("1nuA"),R.a);R.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8";var Y={url:{}};Y.url.appportal=F.getAppportalwebUrl,Y.url.book2="/book2/rest/";var $=function(e,t){return new M.a(function(s,i){!!Y.url[e]&&Y.url[e]?s(Y.url[e]+t):H({code:"appportal",url:"Portal/getPhyAppByCODEs",data:{CODEs:l()([e])}}).then(function(o){var a=o;if(a.success){for(var n=0;n<a.data.length;n++)Y.url[a.data[n].CODE]=a.data[n].URL+"rest/";s(Y.url[e]+t)}else i("fail!"),F.tips("获取Url失败！");s(Y.url[e]+t)}).catch(function(e){i("fail!"),i(e)})})},H=function(e){return new M.a(function(t,s){e&&e.url&&e.code?$(e.code,e.url).then(function(i){var o={url:i,method:"POST",headers:{IDSTGC:K("IDSTGC")},data:e.isRep?e.data:L.a.stringify(e.data)||""};return y(o).then(function(e){var s=e,i=e.data;!1===i.login?G():!1===i.success?(console.log(i),i.errInf&&-1==i.errInf.metailBusInf.indexOf("错误唯一流水码")||F.tips(i.message),t(s)):t(i)}).catch(function(e){s(e)})}).catch(function(e){s(e)}):(s("参数错误！"),F.tips("参数错误！"))})},K=function(e){var t,s=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(s))?unescape(t[2]):null},G=function(){location.href=F.getLoginUrl},j={global:Y,formatMYD:function(){return function(){var e=new Date,t=e.getMonth()+1;t>=1&&t<=9&&(t="0"+t);var s=e.getDate();s>=0&&s<=9&&(s="0"+s);var i=e.getHours();i>=0&&i<=9&&(i="0"+i);var o=e.getMinutes();return o>=0&&o<=9&&(o="0"+o),e.getFullYear()+t+s}()},slicetime:function(){return e.slice(0,4)-e.slice(4,6)-e.slice(6,8);var e},angle:function(e){return 180*Math.atan(e)/Math.PI},GenNonDuplicateID:function(){return Number(Math.random().toString().substr(3,8)+Date.now()).toString(36)},formatmintomins:function(e){return Math.floor(e/60)+"分"+e%60+"秒"},dist:function(e,t){return Math.sqrt(e*e+t*t)},formatTime:function(e,t){return function(e,t){var s=""+e,i=function(e){return e>=10?e:"0"+e},o=void 0;switch(s.length){case 14:o=new Date(parseInt(s.substring(0,4)),parseInt(s.substring(4,6))-1,parseInt(s.substring(6,8)),parseInt(s.substring(8,10)),parseInt(s.substring(10,12)),parseInt(s.substring(12,14)));break;case 13:o=new Date(e);break;case 8:o=new Date(parseInt(s.substring(0,4)),parseInt(s.substring(4,6))-1,parseInt(s.substring(6,8)));break;default:throw"Ow<这是一条来自common的提示：format参数输入错误"}return t.replace(/YYYY/gi,o.getFullYear()+"").replace(/MM/g,i(o.getMonth()+1)).replace(/DD/gi,i(o.getDate())).replace(/hh/gi,i(o.getHours())).replace(/mm/g,i(o.getMinutes())).replace(/ss/gi,i(o.getSeconds()))}(e,t)},postAjax:function(e){return H(e)},getUrlByCode:function(e,t){return $(e,t)},getCookieByName:function(e){return K(e)},getUrlParam:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),s=window.location.search.substr(1).match(t);return null!=s?decodeURI(s[2]):""},formatSeconds:function(e){return function(e){if("number"!=typeof parseInt(e))throw"Ow<这是一条来自common的提示：传入的参数类型不正确，需要一个数字/数字字符串";e=parseInt(e);var t=function(e){return e>=10?e:"0"+e},s=parseInt(e%60),i=parseInt(e/3600),o=parseInt((e-3600*i)/60);return t(i)+":"+t(o)+":"+t(s)}(e)},formatName:function(e){return function(e){return e.charAt(0)+Array(e.length).join("*")}(e)},utf16Str:function(e){for(var t=[],s=0;s<e.length;s++){var i=e.charCodeAt(s);i>=0&&i<=127?(1,t.push(i)):i>=128&&i<=2047?(2,t.push(192|31&i>>6),t.push(128|63&i)):i>=2048&&i<=55295||i>=57344&&i<=65535?(3,t.push(224|15&i>>12),t.push(128|63&i>>6),t.push(128|63&i)):i>=65536&&i<=1114111&&(4,t.push(240|7&i>>18),t.push(128|63&i>>12),t.push(128|63&i>>6),t.push(128|63&i))}return t},regExps:{chinese:/^[\u4e00-\u9fa5]{0,}$/,email:/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/,account:/^[a-zA-Z][a-zA-Z0-9_]{4,15}$/,pwd:/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/,url:/^[http|ftp|https]:\/\/(\w+(-\w+)*)(\.(\w+(-\w+)*))*(\?\S*)?$/,qq:/^[1-9]\d{4,9}$/,phone:/^((0\d{2,3}-\d{7,8})|(1[358479]\d{9})|(\d{8}))$/,yphone:/^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\d{8}$/,floatNum:/^([1-9]\d{0,3}?(\.\d{1,2})?|0|0\.\d{1,2})$/,num:/^([1-9][0-9]*)+(.[0-9]{1,2})?$/,znum:/^[1-9]\d*$/,isbn:/^(\d[- ]*){12}[\dxX]$/,URL:"rest",PREURL:""}},V=j.global.url.book2,J={components:{upload:P},data:function(){return{isadd:"",bookorders:[],isshowbookorders:!1,mainpersons:[],addbook:{mainperson:"",bookstype:"",Fundstype:"",Fundsnum:"",invoicenumber:"",invoicenvalue:"",instructions:""},addArr:[],addArrs:[],sum:0,uploadUrl:"",FPfiles:[{ID:""}],showOA:"",OAfiles:[{ID:""}],DOCfiles:[{ID:""}],domain:V,ismeng:!1}},methods:{back:function(){this.$router.push("/"),this.$store.commit("setselected","图书")},upload:function(){var e={bookstype:this.addbook.bookstype,invoicenumber:this.addbook.invoicenumber,invoicenvalue:this.addbook.invoicenvalue,mainperson:this.addbook.mainperson,Fundstype:this.addbook.Fundstype,Fundsnum:this.addbook.Fundsnum,instructions:this.addbook.instructions};window.sessionStorage.setItem("addbook",l()(e)),window.sessionStorage.setItem("formbook","formbook"),this.$router.push("addupload")},uploadFile:function(){var e=this;this.util.getUrlByCode(c,m).then(function(t){e.uploadUrl=t})},choosefiel:function(e){console.log("上传后回调")},finish:function(e){var t=this;console.log("结束后"),this.FPfiles=[],e.FILE.forEach(function(e){t.FPfiles.push(e)}),i.default.set(this.FPfiles,e),window.sessionStorage.setItem("FPfiles",l()(this.FPfiles))},finishOA:function(e){var t=this;this.OAfiles=[],e.FILE.forEach(function(e){t.OAfiles.push(e)}),i.default.set(this.OAfiles,e),window.sessionStorage.setItem("OAfiles",l()(this.OAfiles))},finishDOC:function(e){var t=this;this.DOCfiles=[],e.FILE.forEach(function(e){t.DOCfiles.push(e)}),i.default.set(this.DOCfiles,e),window.sessionStorage.setItem("DOCfiles",l()(this.DOCfiles))},uploadFP:function(){this.$refs.upload.toupload()},uploadOA:function(){this.$refs.uploadOA.toupload()},uploadDOC:function(){this.$refs.uploadDOC.toupload()},adddetail:function(){window.sessionStorage.removeItem("singlelist"),window.sessionStorage.setItem("isedit","false"),this.addbook.mainperson?this.addbook.bookstype?this.addbook.Fundstype?this.addbook.Fundsnum?this.addbook.invoicenumber?this.addbook.invoicenvalue?this.addbook.instructions?this.bookorders.length<1?this.Toast("请上传购书单！"):this.FPfiles[0].ID?this.$router.push("adddetail"):this.Toast("请上传发票！"):this.Toast("请输入报账说明！"):this.Toast("请输入发票金额！"):this.Toast("请输入发票号！"):this.Toast("请输入经费编号！"):this.Toast("请选择经费类型！"):this.Toast("请选择图书种类！"):this.Toast("请选择经费负责人！")},getGroup:function(e){var t=this;this.isshowbookorders=!0,this.util.postAjax({code:c,url:p,data:{page:1,limit:10,filter:l()({KEYWORD:this.addbook.mainperson})}}).then(function(e){console.log(e),0==e.items.length?(t.mainpersons=[],t.addbook.mainperson=""):t.mainpersons=e.items})},setvalue:function(e,t){this.addbook.mainperson=e,window.sessionStorage.setItem("mainpersonID",t),this.mainpersons=[],this.isshowbookorders=!1},checkInvoiceNum:function(e){var t=this,s="";s="true"==window.sessionStorage.getItem("isadd")?"":window.sessionStorage.getItem("editID"),e?this.util.postAjax({code:c,url:v,data:{INVOICENUM:e,ID:s}}).then(function(e){e.status||(t.Toast("发票号已经被报销！"),t.addbook.invoicenumber="")}):this.Toast("发票号不能为空")},isshowOA:function(e){1==this.addbook.bookstype?e>2e3?(this.showOA="true",window.sessionStorage.setItem("showOA","true")):(this.showOA="false",window.sessionStorage.setItem("showOA","false")):e>5e3?(this.showOA="true",window.sessionStorage.setItem("showOA","true")):(this.showOA="false",window.sessionStorage.setItem("showOA","false"))},isshowOA1:function(e){1==e?this.addbook.invoicenvalue>2e3?(this.showOA="true",window.sessionStorage.setItem("showOA","true")):(this.showOA="false",window.sessionStorage.setItem("showOA","false")):this.addbook.invoicenvalue>5e3?(this.showOA="true",window.sessionStorage.setItem("showOA","true")):(this.showOA="false",window.sessionStorage.setItem("showOA","false"))},edit:function(e){window.sessionStorage.setItem("isedit","true");var t=JSON.parse(window.sessionStorage.getItem("addlist"));t.forEach(function(s,i){e.ID==s.ID&&t.splice(i,1)}),window.sessionStorage.setItem("singlelist",l()(e)),this.$router.push("adddetail")},submit:function(){var e=this;if(this.addbook.mainperson)if(this.addbook.bookstype)if(this.addbook.Fundstype)if(this.addbook.Fundsnum)if(this.addbook.invoicenumber)if(this.addbook.invoicenvalue)if(this.addbook.instructions)if(this.bookorders.length<1)this.Toast("请上传购书单！");else if(this.FPfiles[0].ID)if("true"!=window.sessionStorage.getItem("showOA")||this.OAfiles[0].ID)if("true"!=window.sessionStorage.getItem("showOA")||this.DOCfiles[0].ID)if(this.addArr.length<1)this.Toast("请新增明细！");else{this.$store.commit("setFundstype",this.bookstype);var t={bookstype:this.addbook.bookstype,invoicenumber:this.addbook.invoicenumber,invoicenvalue:this.addbook.invoicenvalue,mainperson:this.addbook.mainperson,Fundstype:this.addbook.Fundstype,Fundsnum:this.addbook.Fundsnum,instructions:this.addbook.instructions,id:window.sessionStorage.getItem("mainpersonID")};if(window.sessionStorage.setItem("addbook",l()(t)),this.addbook.invoicenvalue!=this.sum)this.Toast("报销总金额不等于发票金额，不能报销！");else{var s={ID:"",FUNDTYPE:t.Fundstype,NOTEALLMONEY:t.invoicenvalue,INVOICENUM:t.invoicenumber,FUNDNUMBER:t.Fundsnum,ALLSUM:0,ALLMONEY:t.invoicenvalue,ISCHINESE:t.bookstype,CREATERNAME:t.mainperson,CREATERID:t.id,REASON:t.instructions,BUYTIME:this.util.formatMYD()};"false"==this.isadd?s.ID=window.sessionStorage.getItem("editID"):s.ID="";for(var i=JSON.parse(window.sessionStorage.getItem("addlist")),o=[],a={},n={},r=0,d=0;d<i.length;d++)r+=Number(i[d].QUANTITY),a={ISCHINESE:t.bookstype,ISBN:i[d].ISBN,BOOKNAME:i[d].BOOKNAME,AUTHOR:i[d].AUTHOR,PUBLISHER:i[d].PUBLISHER,BIDPRICE:i[d].BIDPRICE,QUANTITY:this.addArr[d].QUANTITY,TRADINGPRICE:i[d].TRADINGPRICE,TOTAL:t.invoicenvalue,MONEYTYPE:"人民币"},n={TYPE:1,SHOWNAME:"COVER",URL:i[d].IMGURL},o.push({BOOK:a,IMG:{COVER:n}});s.ALLSUM=r;var u=[];this.bookorders.forEach(function(e){u.push({TYPE:0,NOTEID:e.ID})}),u.push({TYPE:2,NOTEID:this.FPfiles[0].ID}),"true"==window.sessionStorage.getItem("showOA")&&(u.push({TYPE:3,NOTEID:this.OAfiles[0].ID}),u.push({TYPE:4,NOTEID:this.DOCfiles[0].ID})),this.ismeng=!0,this.util.postAjax({code:c,url:g,data:{data:l()({RECORD:s,NOTE:u,BOOKS:o})}}).then(function(t){t.success&&(e.ismeng=!1,e.Toast(t.message),e.$router.push("/"),e.$store.commit("setselected","图书"),window.sessionStorage.removeItem("addlist"),window.sessionStorage.removeItem("FPfiles"),window.sessionStorage.removeItem("addbook"))})}}else this.Toast("请上传文献资源项目采购申报表！");else this.Toast("请上传OA审核文件截图！");else this.Toast("请上传发票！");else this.Toast("请输入报账说明！");else this.Toast("请输入发票金额！");else this.Toast("请输入发票号！");else this.Toast("请输入经费编号！");else this.Toast("请选择经费类型！");else this.Toast("请选择图书种类！");else this.Toast("请选择经费负责人！")},reduce:function(e,t){if(e.QUANTITY<=1)return e.QUANTITY=1,void this.Toast("已经是最小的数量了！");this.sum=0,e.QUANTITY--,this.calctotal()},add:function(e){this.sum=0,e.QUANTITY++,this.calctotal()},calctotal:function(){var e=this;this.addArr.forEach(function(t){t.total=Number(t.TRADINGPRICE)*Number(t.QUANTITY),e.sum+=t.total})},del:function(e){this.addArr.splice(e,1),window.sessionStorage.addlist=l()(this.addArr)}},mounted:function(){this.uploadFile(),this.isadd=window.sessionStorage.getItem("isadd"),this.bookorders=this.$store.state.selectimgs,window.sessionStorage.getItem("addlist")&&(this.addArr=JSON.parse(window.sessionStorage.getItem("addlist"))),this.calctotal(),window.sessionStorage.getItem("addbook")&&(this.addbook=JSON.parse(window.sessionStorage.getItem("addbook"))),window.sessionStorage.getItem("FPfiles")&&(this.FPfiles=JSON.parse(window.sessionStorage.getItem("FPfiles"))),window.sessionStorage.getItem("OAfiles")&&(this.OAfiles=JSON.parse(window.sessionStorage.getItem("OAfiles")),this.DOCfiles=JSON.parse(window.sessionStorage.getItem("DOCfiles"))),1==this.addbook.bookstype?this.addbook.invoicenvalue>2e3?this.showOA="true":this.showOA="false":this.addbook.invoicenvalue>5e3?this.showOA="true":this.showOA="false"},watch:{}},Q={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[s("div",{staticClass:"booktop"},[s("div",{staticClass:"mainperson"},[s("span",[e._v("经费负责人")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.addbook.mainperson,expression:"addbook.mainperson"}],attrs:{type:"text",id:"cardsNum2"},domProps:{value:e.addbook.mainperson},on:{keyup:e.getGroup,input:function(t){t.target.composing||e.$set(e.addbook,"mainperson",t.target.value)}}}),e._v(" "),s("ul",{directives:[{name:"show",rawName:"v-show",value:e.isshowbookorders,expression:"isshowbookorders"}],attrs:{id:"getGroup"}},e._l(e.mainpersons,function(t,i){return s("li",{key:i,on:{click:function(s){return e.setvalue(t.NAME,t.ID)}}},[e._v(e._s(t.NAME)+"("+e._s(t.ID)+")")])}),0)]),e._v(" "),s("div",{staticClass:"bookstype"},[s("div",{staticClass:"title"},[e._v("图书种类")]),e._v(" "),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.addbook.bookstype,expression:"addbook.bookstype"}],attrs:{type:"radio",value:"1",id:"churchyard",name:"radios"},domProps:{checked:e._q(e.addbook.bookstype,"1")},on:{change:[function(t){return e.$set(e.addbook,"bookstype","1")},function(t){return e.isshowOA1(1)}]}}),e._v(" "),s("label",{attrs:{for:"churchyard"}},[e._v("境内")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.addbook.bookstype,expression:"addbook.bookstype"}],attrs:{type:"radio",value:"0",id:"overseas",name:"radios"},domProps:{checked:e._q(e.addbook.bookstype,"0")},on:{change:[function(t){return e.$set(e.addbook,"bookstype","0")},function(t){return e.isshowOA1(0)}]}}),e._v(" "),s("label",{attrs:{for:"overseas"}},[e._v("境外")])])]),e._v(" "),s("div",{staticClass:"bookstype"},[s("div",{staticClass:"title"},[e._v("经费类型")]),e._v(" "),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.addbook.Fundstype,expression:"addbook.Fundstype"}],attrs:{type:"radio",id:"scientific",value:"科研",name:"expenditure"},domProps:{checked:e._q(e.addbook.Fundstype,"科研")},on:{change:function(t){return e.$set(e.addbook,"Fundstype","科研")}}}),e._v(" "),s("label",{attrs:{for:"scientific"}},[e._v("科研")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.addbook.Fundstype,expression:"addbook.Fundstype"}],attrs:{type:"radio",id:"others",value:"其他",name:"expenditure"},domProps:{checked:e._q(e.addbook.Fundstype,"其他")},on:{change:function(t){return e.$set(e.addbook,"Fundstype","其他")}}}),e._v(" "),s("label",{attrs:{for:"others"}},[e._v("其他")])])]),e._v(" "),s("mt-field",{attrs:{label:"经费本编号",placeholder:"请输入"},model:{value:e.addbook.Fundsnum,callback:function(t){e.$set(e.addbook,"Fundsnum",t)},expression:"addbook.Fundsnum"}}),e._v(" "),s("mt-field",{attrs:{label:"发票号",placeholder:"请输入"},nativeOn:{change:function(t){return e.checkInvoiceNum(e.addbook.invoicenumber)}},model:{value:e.addbook.invoicenumber,callback:function(t){e.$set(e.addbook,"invoicenumber",t)},expression:"addbook.invoicenumber"}}),e._v(" "),s("mt-field",{attrs:{label:"发票总金额",placeholder:"请输入"},nativeOn:{change:function(t){return e.isshowOA(e.addbook.invoicenvalue)}},model:{value:e.addbook.invoicenvalue,callback:function(t){e.$set(e.addbook,"invoicenvalue",t)},expression:"addbook.invoicenvalue"}}),e._v(" "),s("mt-field",{attrs:{label:"报账说明",placeholder:"请输入"},model:{value:e.addbook.instructions,callback:function(t){e.$set(e.addbook,"instructions",t)},expression:"addbook.instructions"}})],1),e._v(" "),s("div",{staticClass:"bookbottom"},[s("mt-cell",{attrs:{title:"上传购书单","is-link":""},nativeOn:{click:function(t){return e.upload(t)}}},[e._l(e.bookorders.slice(0,3),function(t,i){return s("img",{key:i,attrs:{src:e.domain+"/fileManage/get?ID="+t.ID,height:"30px",width:"30px"}})}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.bookorders.length>3,expression:"bookorders.length>3"}],staticStyle:{color:"#ccc"}},[e._v("...")])],2),e._v(" "),s("mt-cell",{attrs:{title:"上传发票"}},[s("img",{directives:[{name:"show",rawName:"v-show",value:e.FPfiles[0].ID,expression:"FPfiles[0].ID"}],attrs:{preview:1,src:e.domain+"/fileManage/get?ID="+e.FPfiles[0].ID,height:"30px",width:"30px"}}),e._v(" "),s("span",{staticClass:"rightadd",on:{click:e.uploadFP}},[s("upload",{ref:"upload",staticStyle:{display:"none"},attrs:{exts:"png|jpg|bmp|gif|PNG|JPG|HEIC|JPEG|jpeg",url:e.uploadUrl},on:{choose:e.choosefiel,done:e.finish}})],1)]),e._v(" "),"true"==e.showOA?s("mt-cell",{attrs:{title:"上传OA审核文件截图"}},[s("img",{directives:[{name:"show",rawName:"v-show",value:e.OAfiles[0].ID,expression:"OAfiles[0].ID"}],attrs:{preview:2,src:e.domain+"/fileManage/get?ID="+e.OAfiles[0].ID,height:"30px",width:"30px"}}),e._v(" "),s("span",{staticClass:"rightadd",on:{click:e.uploadOA}},[s("upload",{ref:"uploadOA",staticStyle:{display:"none"},attrs:{exts:"png|jpg|bmp|gif|PNG|JPG|HEIC|JPEG|jpeg",url:e.uploadUrl},on:{choose:e.choosefiel,done:e.finishOA}})],1)]):e._e(),e._v(" "),"true"==e.showOA?s("mt-cell",{attrs:{title:"上传文献资源项目采购申报表"}},[s("img",{directives:[{name:"show",rawName:"v-show",value:e.DOCfiles[0].ID,expression:"DOCfiles[0].ID"}],attrs:{preview:3,src:e.domain+"/fileManage/get?ID="+e.DOCfiles[0].ID,height:"30px",width:"30px"}}),e._v(" "),s("span",{staticClass:"rightadd",on:{click:e.uploadDOC}},[s("upload",{ref:"uploadDOC",staticStyle:{display:"none"},attrs:{multiple:!0,exts:"png|jpg|bmp|gif|pdf|PNG|JPG|HEIC|JPEG|jpeg",url:e.uploadUrl},on:{choose:e.choosefiel,done:e.finishDOC}})],1)]):e._e()],1),e._v(" "),e.isadd?s("div",{staticClass:"booklist"},[s("div",{staticClass:"booklistsingle"},[s("ul",{staticClass:"bookmiddle"},e._l(e.addArr,function(t,i){return s("li",{key:i},[s("i",{staticClass:"right_del",on:{click:function(t){return e.del(i)}}}),e._v(" "),s("div",{staticClass:"middle_left",style:{background:"url("+t.IMGURL+")",backgroundSize:"cover"},on:{click:function(s){return e.edit(t)}}}),e._v(" "),s("div",{staticClass:"middle_right"},[s("h6",{on:{click:function(s){return e.edit(t)}}},[e._v(e._s(t.BOOKNAME))]),e._v(" "),s("p",{on:{click:function(s){return e.edit(t)}}},[e._v("作者: "+e._s(t.AUTHOR))]),e._v(" "),s("p",{on:{click:function(s){return e.edit(t)}}},[e._v("ISBN:"+e._s(t.ISBN))]),e._v(" "),s("p",{staticClass:"last"},[e._v("¥"+e._s(t.TRADINGPRICE)+"\n                            "),s("span",[s("i",{staticClass:"reduce",on:{click:function(s){return e.reduce(t,i)}}}),e._v(" "),s("span",{staticClass:"text"},[e._v(e._s(t.QUANTITY))]),e._v(" "),s("i",{staticClass:"add",on:{click:function(s){return e.add(t)}}})])])])])}),0),e._v(" "),s("div",{staticClass:"totalnum"},[e._v("总金额:"),s("span",[e._v("￥"+e._s(e.sum))])])])]):e._e(),e._v(" "),s("div",{staticClass:"bookfixedbottom"},[s("div",{staticClass:"bookfixedbottomleft",on:{click:e.adddetail}},[e._v("新增明细")]),e._v(" "),s("div",{staticClass:"bookfixedbottommiddle",on:{click:e.submit}},[e._v("提交审核")]),e._v(" "),s("div",{staticClass:"bookfixedbottomright",on:{click:e.back}},[e._v("返回")])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.ismeng,expression:"ismeng"}],staticClass:"meng"},[s("p",[e._v("保存中。。。")])])])},staticRenderFns:[]};var z=s("VU/8")(J,Q,!1,function(e){s("XuId")},"data-v-faacdd7e",null).exports,q=s("bOdI"),W=s.n(q),X={components:{upload:P},data:function(){return{addPeriodical:{CREATORNAME:"",INVOICENUMBER:"",FUNDNUMBER:"",FUNDTYPE:"",KINDNUM:"",ALLMONEY:"",CREATORID:"",REASON:"",ISChINESE:""},CREATORNAMEs:[],uploadUrl:"",bookorders:[],FPfiles:[{ID:""}],showOA:"",OAfiles:[{ID:""}],DOCfiles:[{ID:""}],isadd:"",domain:V,ismeng:!1}},methods:{back:function(){this.$router.push("/"),this.$store.commit("setselected","期刊")},validnum:function(e){if(!/^\d+(\.\d+)?$/.test(e))return this.Toast("请输入数字"),this.addPeriodical.KINDNUM="",!1},Periodicalsave:function(){var e=this;if(this.addPeriodical.CREATORNAME)if(this.addPeriodical.ISChINESE)if(this.addPeriodical.KINDNUM)if(this.addPeriodical.FUNDTYPE)if(this.addPeriodical.FUNDNUMBER)if(this.addPeriodical.INVOICENUMBER)if(this.addPeriodical.ALLMONEY)if(this.addPeriodical.REASON)if(this.bookorders.length<1)this.Toast("请上传购书单！");else if(this.FPfiles[0].ID){var t={ISChINESE:this.addPeriodical.ISChINESE,INVOICENUMBER:this.addPeriodical.INVOICENUMBER,ALLMONEY:this.addPeriodical.ALLMONEY,CREATORNAME:this.addPeriodical.CREATORNAME,FUNDTYPE:this.addPeriodical.FUNDTYPE,FUNDNUMBER:this.addPeriodical.FUNDNUMBER,REASON:this.addPeriodical.REASON,KINDNUM:this.addPeriodical.KINDNUM,CREATORID:window.sessionStorage.getItem("CREATORNAMEID")},s={ID:"",FUNDTYPE:t.FUNDTYPE,INVOICENUMBER:t.INVOICENUMBER,FUNDNUMBER:t.FUNDNUMBER,KINDNUM:t.KINDNUM,ALLMONEY:t.ALLMONEY,ISCHINESE:t.ISChINESE,CREATORNAME:t.CREATORNAME,CREATORID:t.CREATORID,REASON:t.REASON};"false"==this.isadd?s.ID=window.sessionStorage.getItem("editPeriodicalID"):s.ID="";var i=[];this.bookorders.forEach(function(e){i.push({TYPE:0,URL:e.ID})}),i.push({TYPE:2,URL:this.FPfiles[0].ID}),"true"==window.sessionStorage.getItem("showOA")&&(i.push({TYPE:3,URL:this.OAfiles[0].ID}),i.push({TYPE:4,URL:this.DOCfiles[0].ID})),this.ismeng=!0,this.util.postAjax({code:c,url:b,data:{data:l()({periodical:s,files:i})}}).then(function(t){t.success?(e.ismeng=!1,e.Toast(t.message),e.$router.push("/"),e.$store.commit("setselected","期刊"),window.sessionStorage.removeItem("addlist"),window.sessionStorage.removeItem("FPfiles"),window.sessionStorage.removeItem("addbook")):e.ismeng=!1})}else this.Toast("请上传发票！");else this.Toast("请输入报账说明！");else this.Toast("请输入发票总金额！");else this.Toast("请输入发票号！");else this.Toast("请输入经费编号！");else this.Toast("请选择经费类型！");else this.Toast("请输入期刊总数！");else this.Toast("请选择期刊总类！");else this.Toast("请选择经费负责人！")},uploadFile:function(){var e=this;this.util.getUrlByCode(c,m).then(function(t){e.uploadUrl=t})},choosefiel:function(e){console.log("上传后回调")},finish:function(e){var t=this;console.log("结束后"),this.FPfiles=[],e.FILE.forEach(function(e){t.FPfiles.push(e)}),i.default.set(this.FPfiles,e),window.sessionStorage.setItem("FPfiles",l()(this.FPfiles))},finishOA:function(e){var t=this;this.OAfiles=[],e.FILE.forEach(function(e){t.OAfiles.push(e)}),i.default.set(this.OAfiles,e),window.sessionStorage.setItem("OAfiles",l()(this.OAfiles))},finishDOC:function(e){var t=this;this.DOCfiles=[],e.FILE.forEach(function(e){t.DOCfiles.push(e)}),i.default.set(this.DOCfiles,e),window.sessionStorage.setItem("DOCfiles",l()(this.DOCfiles))},getGroup:function(){var e=this;this.util.postAjax({code:c,url:p,data:{page:1,limit:10,filter:l()({KEYWORD:this.addPeriodical.CREATORNAME})}}).then(function(t){0==t.items.length?(e.CREATORNAMEs=[],e.addPeriodical.CREATORNAME=""):e.CREATORNAMEs=t.items})},setvalue:function(e,t){this.addPeriodical.CREATORNAME=e,window.sessionStorage.setItem("CREATORNAMEID",t),this.CREATORNAMEs=[]},upload:function(){var e;window.sessionStorage.setItem("formbook","noformbook");var t=(e={ISChINESE:this.addPeriodical.ISChINESE,INVOICENUMBER:this.addPeriodical.INVOICENUMBER,ALLMONEY:this.addPeriodical.ALLMONEY,CREATORNAME:this.addPeriodical.CREATORNAME,FUNDNUMBER:this.addPeriodical.FUNDNUMBER},W()(e,"INVOICENUMBER",this.addPeriodical.INVOICENUMBER),W()(e,"FUNDTYPE",this.addPeriodical.FUNDTYPE),W()(e,"KINDNUM",this.addPeriodical.KINDNUM),W()(e,"REASON",this.addPeriodical.REASON),e);window.sessionStorage.setItem("addPeriodical",l()(t)),this.$router.push("addupload")},uploadOA:function(){this.$refs.uploadOA.toupload()},uploadDOC:function(){this.$refs.uploadDOC.toupload()},uploadFP:function(){this.$refs.upload.toupload()},checkInvoiceNum:function(e){var t=this,s="";s="true"==window.sessionStorage.getItem("isperiodicaladd")?"":window.sessionStorage.getItem("editPeriodicalID"),e?this.util.postAjax({code:c,url:O,data:{INVOICENUMBER:e,ID:s}}).then(function(e){e.status||(t.Toast("发票号已经被报销！"),t.addPeriodical.INVOICENUMBER="")}):this.Toast("发票号不能为空")},isshowOA:function(e){1==this.addPeriodical.ISChINESE?e>2e3?(this.showOA="true",window.sessionStorage.setItem("showOA","true")):(this.showOA="false",window.sessionStorage.setItem("showOA","false")):e>5e3?(this.showOA="true",window.sessionStorage.setItem("showOA","true")):(this.showOA="false",window.sessionStorage.setItem("showOA","false"))},isshowOA1:function(e){1==e?this.addPeriodical.ALLMONEY>2e3?(this.showOA="true",window.sessionStorage.setItem("showOA","true")):(this.showOA="false",window.sessionStorage.setItem("showOA","false")):this.addPeriodical.ALLMONEY>5e3?(this.showOA="true",window.sessionStorage.setItem("showOA","true")):(this.showOA="false",window.sessionStorage.setItem("showOA","false"))}},created:function(){this.uploadFile(),this.isadd=window.sessionStorage.getItem("isperiodicaladd"),window.sessionStorage.getItem("addPeriodical")&&(this.addPeriodical=JSON.parse(window.sessionStorage.getItem("addPeriodical"))),this.bookorders=this.$store.state.selectimgs,window.sessionStorage.getItem("FPfiles")&&(this.FPfiles=JSON.parse(window.sessionStorage.getItem("FPfiles"))),window.sessionStorage.getItem("OAfiles")&&(this.OAfiles=JSON.parse(window.sessionStorage.getItem("OAfiles")),this.DOCfiles=JSON.parse(window.sessionStorage.getItem("DOCfiles"))),1==this.addPeriodical.ISChINESE?this.addPeriodical.ALLMONEY>2e3?this.showOA="true":this.showOA="false":this.addPeriodical.ALLMONEY>5e3?this.showOA="true":this.showOA="false"}},Z={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[s("div",{staticClass:"booktop"},[s("div",{staticClass:"mainperson"},[s("span",[e._v("经费负责人")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.addPeriodical.CREATORNAME,expression:"addPeriodical.CREATORNAME"}],attrs:{type:"text",id:"cardsNum2"},domProps:{value:e.addPeriodical.CREATORNAME},on:{keyup:e.getGroup,input:function(t){t.target.composing||e.$set(e.addPeriodical,"CREATORNAME",t.target.value)}}}),e._v(" "),s("ul",{attrs:{id:"getGroup"}},e._l(e.CREATORNAMEs,function(t,i){return s("li",{key:i,on:{click:function(s){return e.setvalue(t.NAME,t.ID)}}},[e._v(e._s(t.NAME)+"("+e._s(t.ID)+")")])}),0)]),e._v(" "),s("div",{staticClass:"bookstype"},[s("div",{staticClass:"title"},[e._v("期刊种类")]),e._v(" "),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.addPeriodical.ISChINESE,expression:"addPeriodical.ISChINESE"}],attrs:{type:"radio",id:"churchyard",value:"1",name:"radios"},domProps:{checked:e._q(e.addPeriodical.ISChINESE,"1")},on:{change:[function(t){return e.$set(e.addPeriodical,"ISChINESE","1")},function(t){return e.isshowOA1(1)}]}}),e._v(" "),s("label",{attrs:{for:"churchyard"}},[e._v("境内")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.addPeriodical.ISChINESE,expression:"addPeriodical.ISChINESE"}],attrs:{type:"radio",id:"overseas",value:"0",name:"radios"},domProps:{checked:e._q(e.addPeriodical.ISChINESE,"0")},on:{change:[function(t){return e.$set(e.addPeriodical,"ISChINESE","0")},function(t){return e.isshowOA1(0)}]}}),e._v(" "),s("label",{attrs:{for:"overseas"}},[e._v("境外")])])]),e._v(" "),s("mt-field",{attrs:{label:"期刊种数",placeholder:"请输入"},on:{change:function(t){return e.validnum(e.addPeriodical.KINDNUM)}},model:{value:e.addPeriodical.KINDNUM,callback:function(t){e.$set(e.addPeriodical,"KINDNUM",t)},expression:"addPeriodical.KINDNUM"}}),e._v(" "),s("div",{staticClass:"bookstype"},[s("div",{staticClass:"title"},[e._v("经费类型")]),e._v(" "),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.addPeriodical.FUNDTYPE,expression:"addPeriodical.FUNDTYPE"}],attrs:{type:"radio",id:"scientific",name:"expenditure",value:"科研"},domProps:{checked:e._q(e.addPeriodical.FUNDTYPE,"科研")},on:{change:function(t){return e.$set(e.addPeriodical,"FUNDTYPE","科研")}}}),e._v(" "),s("label",{attrs:{for:"scientific"}},[e._v("科研")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.addPeriodical.FUNDTYPE,expression:"addPeriodical.FUNDTYPE"}],attrs:{type:"radio",id:"others",name:"expenditure",value:"其他"},domProps:{checked:e._q(e.addPeriodical.FUNDTYPE,"其他")},on:{change:function(t){return e.$set(e.addPeriodical,"FUNDTYPE","其他")}}}),e._v(" "),s("label",{attrs:{for:"others"}},[e._v("其他")])])]),e._v(" "),s("mt-field",{attrs:{label:"经费本编号",placeholder:"请输入"},model:{value:e.addPeriodical.FUNDNUMBER,callback:function(t){e.$set(e.addPeriodical,"FUNDNUMBER",t)},expression:"addPeriodical.FUNDNUMBER"}}),e._v(" "),s("mt-field",{attrs:{label:"发票号",placeholder:"请输入"},nativeOn:{change:function(t){return e.checkInvoiceNum(e.addPeriodical.INVOICENUMBER)}},model:{value:e.addPeriodical.INVOICENUMBER,callback:function(t){e.$set(e.addPeriodical,"INVOICENUMBER",t)},expression:"addPeriodical.INVOICENUMBER"}}),e._v(" "),s("mt-field",{attrs:{label:"发票总金额",placeholder:"请输入"},nativeOn:{change:function(t){return e.isshowOA(e.addPeriodical.ALLMONEY)}},model:{value:e.addPeriodical.ALLMONEY,callback:function(t){e.$set(e.addPeriodical,"ALLMONEY",t)},expression:"addPeriodical.ALLMONEY"}}),e._v(" "),s("mt-field",{attrs:{label:"报账说明",placeholder:"请输入"},model:{value:e.addPeriodical.REASON,callback:function(t){e.$set(e.addPeriodical,"REASON",t)},expression:"addPeriodical.REASON"}})],1),e._v(" "),s("div",{staticClass:"bookbottom"},[s("mt-cell",{attrs:{title:"上传购书单","is-link":""},nativeOn:{click:function(t){return e.upload(t)}}},[e._l(e.bookorders.slice(0,3),function(t,i){return s("img",{key:i,attrs:{src:e.domain+"/fileManage/get?ID="+t.ID,height:"30px",width:"30px"}})}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.bookorders.length>3,expression:"bookorders.length>3"}],staticStyle:{color:"#ccc"}},[e._v("...")])],2),e._v(" "),s("mt-cell",{attrs:{title:"上传发票"}},[s("img",{directives:[{name:"show",rawName:"v-show",value:e.FPfiles[0].ID,expression:"FPfiles[0].ID"}],attrs:{preview:1,src:e.domain+"/fileManage/get?ID="+e.FPfiles[0].ID,height:"30px",width:"30px"}}),e._v(" "),s("span",{staticClass:"rightadd",on:{click:e.uploadFP}},[s("upload",{ref:"upload",staticStyle:{display:"none"},attrs:{multiple:!0,exts:"png|jpg|bmp|gif|PNG|JPG|HEIC|JPEG|jpeg",url:e.uploadUrl},on:{choose:e.choosefiel,done:e.finish}})],1)]),e._v(" "),s("mt-cell",{directives:[{name:"show",rawName:"v-show",value:"true"==e.showOA,expression:"showOA == 'true'"}],attrs:{title:"上传OA审核文件截图"}},[s("img",{directives:[{name:"show",rawName:"v-show",value:e.OAfiles[0].ID,expression:"OAfiles[0].ID"}],attrs:{preview:2,src:e.domain+"/fileManage/get?ID="+e.OAfiles[0].ID,height:"30px",width:"30px"}}),e._v(" "),s("span",{staticClass:"rightadd",on:{click:e.uploadOA}},[s("upload",{ref:"uploadOA",staticStyle:{display:"none"},attrs:{multiple:!0,exts:"png|jpg|bmp|gif|PNG|JPG|HEIC|JPEG|jpeg",url:e.uploadUrl},on:{choose:e.choosefiel,done:e.finishOA}})],1)]),e._v(" "),s("mt-cell",{directives:[{name:"show",rawName:"v-show",value:"true"==e.showOA,expression:"showOA == 'true'"}],attrs:{title:"上传文献资源项目采购申报表"}},[s("img",{directives:[{name:"show",rawName:"v-show",value:e.DOCfiles[0].ID,expression:"DOCfiles[0].ID"}],attrs:{preview:3,src:e.domain+"/fileManage/get?ID="+e.DOCfiles[0].ID,height:"30px",width:"30px"}}),e._v(" "),s("span",{staticClass:"rightadd",on:{click:e.uploadDOC}},[s("upload",{ref:"uploadDOC",staticStyle:{display:"none"},attrs:{multiple:!0,exts:"png|jpg|bmp|gif|pdf|PNG|JPG|HEIC|JPEG|jpeg",url:e.uploadUrl},on:{choose:e.choosefiel,done:e.finishDOC}})],1)])],1),e._v(" "),s("div",{staticClass:"bookfixedbottom1"},[s("div",{staticClass:"bookfixedbottom1left",on:{click:e.Periodicalsave}},[e._v("提交审核")]),e._v(" "),s("div",{staticClass:"bookfixedbottom1right",on:{click:e.back}},[e._v("返回")])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.ismeng,expression:"ismeng"}],staticClass:"meng"},[s("p",[e._v("保存中。。。")])])])},staticRenderFns:[]};var ee=s("VU/8")(X,Z,!1,function(e){s("LxiE")},"data-v-60d7feec",null).exports,te={components:{upload:P},data:function(){return{uploadUrl:"",files:[],filelength:"",hasselect:"",domain:V}},methods:{back:function(){"formbook"==window.sessionStorage.getItem("formbook")?this.$router.push("bookreimbursement"):this.$router.push("periodicalreimbursement"),this.$store.commit("setselectimgs",this.files)},addupload:function(){this.$refs.upload.toupload()},choosefiel:function(e){console.log("上传后回调")},finish:function(e){var t=this;console.log("结束后"),e.FILE.forEach(function(e){e.checked=!1,t.files.push(e)}),i.default.set(this.files,e),this.$previewRefresh()},uploadFile:function(){var e=this;this.util.getUrlByCode(c,m).then(function(t){e.uploadUrl=t})},select:function(e){this.files[e].checked=!this.files[e].checked},delimg:function(){for(var e=0;e<this.files.length;e++)this.files[e].checked&&(this.files.splice(e,1),e--)}},created:function(){this.files=this.$store.state.selectimgs?this.$store.state.selectimgs:[],this.uploadFile()}},se={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"content"},[s("div",{staticClass:"addbooklistbox",on:{click:e.addupload}},[s("upload",{ref:"upload",staticClass:"upload",attrs:{multiple:!0,exts:"png|jpg|bmp|gif|PNG|JPG|HEIC|JPEG|jpeg",url:e.uploadUrl},on:{choose:e.choosefiel,done:e.finish}}),e._v(" "),s("div",{staticClass:"addbooklist"})],1),e._v(" "),e._l(e.files,function(t,i){return s("div",{directives:[{name:"show",rawName:"v-show",value:e.files.length>0,expression:"files.length > 0"}],key:i,staticClass:"addbooklistbox"},[s("i",{ref:"select",refInFor:!0,class:{selected:t.checked},attrs:{"data-id":t.ID},on:{click:function(t){return e.select(i)}}}),e._v(" "),s("img",{attrs:{preview:i,src:e.domain+"/fileManage/get?ID="+t.ID,width:"100%",height:"100%",alt:""}})])})],2),e._v(" "),s("button",{staticClass:"del",on:{click:e.delimg}},[e._v("删除")]),e._v(" "),s("button",{on:{click:e.back}},[e._v("返回")])])},staticRenderFns:[]};var ie=s("VU/8")(te,se,!1,function(e){s("64Ch")},"data-v-143069ba",null).exports,oe={data:function(){return{ISBN:"",BOOKNAME:"",AUTHOR:"",PUBLISHER:"",BIDPRICE:"",QUANTITY:"",TRADINGPRICE:"",isgoadd:"",bookArr:[],IMGURL:"",isedit:"",ID:""}},methods:{back:function(){this.$router.push("bookreimbursement")},getisbn:function(e){var t=this;this.BOOKNAME="",this.AUTHOR="",this.PUBLISHER="",this.BIDPRICE="",this.QUANTITY="",this.TRADINGPRICE="",this.util.postAjax({code:c,url:I,data:{ISBN:e}}).then(function(e){var s="";if(e.author&&e.author.length>0)for(var i=0;i<e.author.length;i++)s+=e.author[i]+",";t.BOOKNAME=e.title,t.AUTHOR=s.substr(0,s.length-1)||"--",t.PUBLISHER=e.publisher||"--",t.IMGURL=e.IMGURL}).catch(function(e){console.log(e)})},add_submit:function(){this.isgoadd=!1,this.goon()},goon:function(){var e=this;if(this.ISBN)if(this.BOOKNAME)if(this.AUTHOR)if(this.PUBLISHER)if(this.BIDPRICE)if(this.QUANTITY)if(this.TRADINGPRICE){var t={ID:this.util.GenNonDuplicateID(),AUTHOR:this.AUTHOR,BIDPRICE:this.BIDPRICE,BOOKNAME:this.BOOKNAME,ISBN:this.ISBN,PUBLISHER:this.PUBLISHER,QUANTITY:this.QUANTITY,TRADINGPRICE:this.TRADINGPRICE,ISCHINESE:this.$store.state.Fundstype,IMGURL:this.IMGURL};if(this.bookArr.push(t),window.sessionStorage.getItem("addlist")){var s=JSON.parse(window.sessionStorage.getItem("addlist"));s.forEach(function(t,i){e.ID==t.ID&&s.splice(i,1)}),s.push(t),window.sessionStorage.setItem("addlist",l()(s))}else window.sessionStorage.setItem("addlist",l()(this.bookArr));this.isgoadd?(this.ISBN="",this.BOOKNAME="",this.AUTHOR="",this.PUBLISHER="",this.BIDPRICE="",this.QUANTITY="",this.TRADINGPRICE=""):this.$router.push("bookreimbursement")}else this.Toast("请输入图书实价！");else this.Toast("请输入册数！");else this.Toast("请输入标价！");else this.Toast("请输入出版社！");else this.Toast("请输入作者！");else this.Toast("请输入图书名称！");else this.Toast("请输入ISBN号！")},goadd:function(){this.isgoadd=!0,this.goon()},scan:function(){var e=this;mamp.qrcode.scan(function(t){e.ISBN=t,e.getisbn(e.ISBN),e.BIDPRICE="",e.QUANTITY="",e.TRADINGPRICE=""})}},created:function(){if(this.isedit=window.sessionStorage.getItem("isedit"),window.sessionStorage.getItem("singlelist")){var e=JSON.parse(window.sessionStorage.getItem("singlelist"));this.ISBN=e.ISBN,this.BOOKNAME=e.BOOKNAME,this.AUTHOR=e.AUTHOR,this.PUBLISHER=e.PUBLISHER,this.BIDPRICE=e.BIDPRICE,this.QUANTITY=e.QUANTITY,this.TRADINGPRICE=e.TRADINGPRICE,this.IMGURL=e.IMGURL,this.ID=e.ID}}},ae={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"booktop"},[s("div",{staticClass:"scanbox"},[s("mt-field",{staticClass:"isbn",attrs:{label:"ISBN",placeholder:"请输入"},nativeOn:{"!blur":function(t){return e.getisbn(e.ISBN)}},model:{value:e.ISBN,callback:function(t){e.ISBN=t},expression:"ISBN"}}),e._v(" "),s("i",{staticClass:"scan",on:{click:e.scan}})],1),e._v(" "),s("mt-field",{attrs:{label:"图书名称",placeholder:"请输入"},model:{value:e.BOOKNAME,callback:function(t){e.BOOKNAME=t},expression:"BOOKNAME"}}),e._v(" "),s("mt-field",{staticClass:"author",attrs:{label:"作者",placeholder:"请输入"},model:{value:e.AUTHOR,callback:function(t){e.AUTHOR=t},expression:"AUTHOR"}}),e._v(" "),s("mt-field",{staticClass:"publisher",attrs:{label:"出版社",placeholder:"请输入"},model:{value:e.PUBLISHER,callback:function(t){e.PUBLISHER=t},expression:"PUBLISHER"}}),e._v(" "),s("mt-field",{attrs:{label:"标价",placeholder:"请输入"},model:{value:e.BIDPRICE,callback:function(t){e.BIDPRICE=t},expression:"BIDPRICE"}}),e._v(" "),s("mt-field",{attrs:{label:"册数",placeholder:"请输入"},model:{value:e.QUANTITY,callback:function(t){e.QUANTITY=t},expression:"QUANTITY"}}),e._v(" "),s("mt-field",{attrs:{label:"实价",placeholder:"请输入"},model:{value:e.TRADINGPRICE,callback:function(t){e.TRADINGPRICE=t},expression:"TRADINGPRICE"}})],1),e._v(" "),s("div",{staticClass:"bookfixedbottom"},[s("div",{staticClass:"bookfixedbottomleft",on:{click:e.goadd}},[e._v("继续添加")]),e._v(" "),"true"!=e.isedit?s("div",{staticClass:"bookfixedbottommiddle",on:{click:e.add_submit}},[e._v("提交审核")]):s("div",{staticClass:"bookfixedbottommiddle",on:{click:e.add_submit}},[e._v("保 存")]),e._v(" "),s("div",{staticClass:"bookfixedbottomright",on:{click:e.back}},[e._v("返回")])])])},staticRenderFns:[]};var ne=s("VU/8")(oe,ae,!1,function(e){s("35Bh")},"data-v-23961f19",null).exports;i.default.use(n.a);var re=new n.a({routes:[{path:"/",name:"index",component:D},{path:"/bookreimbursement",name:"bookreimbursement",component:z},{path:"/periodicalreimbursement",name:"periodicalreimbursement",component:ee},{path:"/addupload",name:"addupload",component:ie},{path:"/adddetail",name:"adddetail",component:ne}]});re.beforeEach(function(e,t,s){var i=e.fullPath.split("&");i.length>1?s({path:i[0]}):s()});var de=re,le=s("Au9i"),ce=s.n(le),ue=(s("d8/S"),s("NYxO"));i.default.use(ue.a);var he=new ue.a.Store({state:{selectimgs:"",Fundstype:"",selected:""},mutations:{setselectimgs:function(e,t){e.selectimgs=t},setFundstype:function(e,t){e.Fundstype=t},setselected:function(e,t){e.selected=t}}}),fe=(s("RFxO"),s("ibnl")),me=s.n(fe);s("tOCg");i.default.config.productionTip=!1,i.default.prototype.$ajax=R.a,i.default.prototype.$qs=L.a,i.default.use(ce.a),i.default.prototype.Toast=le.Toast,i.default.prototype.Indicator=le.Indicator,i.default.prototype.MessageBox=le.MessageBox,i.default.prototype.util=j,i.default.use(me.a),new i.default({el:"#app",router:de,store:he,components:{App:a},template:"<App/>"})},RFxO:function(e,t){},XuId:function(e,t){},bNY9:function(e,t){},"d8/S":function(e,t){},tOCg:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.e574465457827529512d.js.map