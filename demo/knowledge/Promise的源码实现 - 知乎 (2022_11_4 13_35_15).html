<!DOCTYPE html> <html lang=zh data-hairline=true data-theme=light data-rh=data-theme style><!--
 Page saved with SingleFile 
 url: https://zhuanlan.zhihu.com/p/407883529 
 saved date: Fri Nov 04 2022 13:35:15 GMT+0800 (中国标准时间)
--><meta charset=utf-8><title>Promise的源码实现 - 知乎</title><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=renderer content=webkit><meta name=force-rendering content=webkit><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><meta name=google-site-verification content=FTeR0c8arOPKh8c5DYh_9uu98_zJbaWw53J-Sch9MTg><meta data-rh=true name=keywords content=Promise,异步,同步><meta data-rh=true name=description content="JavaScript异步编程采用单线程模式工作的原因 单线程的优势和弊端 异步编程的内容概要 同步模式与异步模式 同步模式 异步模式 同步模式API和异步模式API的特点 回调函数 —— 所有异步编程方案的根基 Promise ——…"><meta data-rh=true property=og:title content=Promise的源码实现><meta data-rh=true property=og:url content=https://zhuanlan.zhihu.com/p/407883529><meta data-rh=true property=og:description content="JavaScript异步编程采用单线程模式工作的原因 单线程的优势和弊端 异步编程的内容概要 同步模式与异步模式 同步模式 异步模式 同步模式API和异步模式API的特点 回调函数 —— 所有异步编程方案的根基 Promise ——…"><meta data-rh=true property=og:image content><meta data-rh=true property=og:type content=article><meta data-rh=true property=og:site_name content=知乎专栏><link crossorigin rel=search type=application/opensearchdescription+xml href=https://static.zhihu.com/heifetz/search.xml title=知乎><style>:root{--sf-img-5: url("data:image/jpeg;base64,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")}body{font-family:-apple-system,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Microsoft YaHei,Source Han Sans SC,Noto Sans CJK SC,WenQuanYi Micro Hei,sans-serif}button{padding:0;font:inherit;color:inherit;border:none;outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}body,button{margin:0}h1,h2,h3{margin:0;font:inherit}ul{padding:0}li{list-style-type:none}a{color:inherit;text-decoration:none}.CornerAnimayedFlex{width:40px;-webkit-transition:height .2s ease;transition:height .2s ease}.CornerAnimayedFlex--hidden{height:0}.CornerButtons{position:fixed;bottom:0;right:12px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.Button{display:inline-block;padding:0 16px;font-size:14px;line-height:32px;text-align:center;cursor:pointer;background:none;border:1px solid;border-radius:3px}.Button{color:#8590a6}.Button:focus{outline:none;-webkit-transition:-webkit-box-shadow .3s;transition:-webkit-box-shadow .3s;transition:box-shadow .3s;transition:box-shadow .3s,-webkit-box-shadow .3s}.Button:disabled{cursor:default;opacity:.5;pointer-events:none}.Button--blue{color:#056de8;border-color:#056de8}.Button--blue:hover{background-color:rgba(5,109,232,.06)}.Button--primary.Button--blue{color:#fff;background-color:#056de8}.Button--primary.Button--blue:hover{border-color:#0461cf;background-color:#0461cf}.Button--plain{height:auto;padding:0;line-height:inherit;background-color:transparent;border:none;border-radius:0}.Button--link:hover,.Button--plain:hover{background-color:transparent}.Button--plain:hover,html[data-theme=dark] .Button--plain:hover{color:#76839b}.Button--withIcon.Button--plain{padding:0}.Button--withIcon.Button--withLabel .Button-zi{margin-right:4px}@-webkit-keyframes spring-in{0%{-webkit-transform:translate(-50%,-20px);transform:translate(-50%,-20px);opacity:.01}to{-webkit-transform:translate(-50%);transform:translate(-50%);opacity:1}}@keyframes spring-in{0%{-webkit-transform:translate(-50%,-20px);transform:translate(-50%,-20px);opacity:.01}to{-webkit-transform:translate(-50%);transform:translate(-50%);opacity:1}}@-webkit-keyframes spring-out{0%{-webkit-transform:translate(-50%);transform:translate(-50%);opacity:1}to{-webkit-transform:translate(-50%,-20px);transform:translate(-50%,-20px);opacity:0}}@keyframes spring-out{0%{-webkit-transform:translate(-50%);transform:translate(-50%);opacity:1}to{-webkit-transform:translate(-50%,-20px);transform:translate(-50%,-20px);opacity:0}}.InputLike{border-radius:3px;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transition:background .2s,border .2s;transition:background .2s,border .2s}.Popover{position:relative;display:inline-block}.Input-wrapper{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:180px;height:34px;padding:4px 10px;font-size:14px;background:#fff;border:1px solid #ebebeb;border-radius:3px;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transition:background .2s,border .2s;transition:background .2s,border .2s}.Input{-webkit-box-flex:1;-ms-flex:1 1;flex:1 1;padding:0;overflow:hidden;font-family:inherit;font-size:inherit;font-weight:inherit;background:transparent;border:none;resize:none}.Input:disabled{color:#bfbfbf}.Input:focus{outline:none}input.Input{color:#121212;height:24px;line-height:24px}.Input:not(input){line-height:24px}.Input::-webkit-input-placeholder{color:#8590a6}.Input::placeholder{color:#8590a6}.Sticky.is-fixed{position:fixed;z-index:2;-webkit-font-smoothing:subpixel-antialiased}.Sticky.is-fixed{-webkit-box-sizing:border-box;box-sizing:border-box}.Sticky--holder{visibility:hidden}.Avatar{background:#fff}.AppHeader-profileAvatar{vertical-align:top}.AppHeaderProfileMenu-creatorHintPopover{position:absolute;right:0;top:0;z-index:-1}.AppHeaderProfileMenu-creatorHintToggler{height:30px;width:30px}.ztext{word-break:break-word;line-height:1.6}.ztext>:first-child{margin-top:0}.ztext>:last-child{margin-bottom:0}.ztext h2{font-synthesis:style}.ztext h3{font-synthesis:style}.ztext b{font-synthesis:style}.ztext p.ztext-empty-paragraph{margin:-.8em 0}.ztext ol li:before,.ztext ul li:before{width:1em}.ztext ul>li:before{display:table-cell;content:"• ";white-space:pre}.ztext ol>li:before{display:table-cell;text-align:right;counter-increment:ol;content:counter(ol)". ";white-space:pre}.ztext pre{-webkit-overflow-scrolling:touch}@-webkit-keyframes Bounce{0%,to{-webkit-transform:translateY(-100%);transform:translateY(-100%)}50%{-webkit-transform:translateY(100%);transform:translateY(100%)}}@keyframes Bounce{0%,to{-webkit-transform:translateY(-100%);transform:translateY(-100%)}50%{-webkit-transform:translateY(100%);transform:translateY(100%)}}.AppHeader-menu{margin-left:6px}body{color:#121212}body{-webkit-tap-highlight-color:rgba(18,18,18,0)}.WhiteBg-body{background:#fff}.App-main{padding-bottom:46px}@media (max-width:690px){body{background:#fff}.App-main{padding:0}}.ColumnPageHeader-Wrapper{width:100%}.ColumnPageHeader{height:52px;background:#fff}.ColumnPageHeader{background-clip:content-box;-webkit-box-shadow:0 1px 3px rgba(18,18,18,.1)}.ColumnPageHeader-profile{position:absolute;top:50%;left:50%;-webkit-transform:translate(522px,-50%);transform:translate(522px,-50%)}.ColumnPageHeader-content{position:relative;width:1000px;padding:0 16px;margin:0 auto}.ColumnPageHeader-content{display:-webkit-box;display:-ms-flexbox;display:flex;height:52px;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ColumnPageHeader-Button{-webkit-box-flex:1;-ms-flex:1 1;flex:1 1;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ColumnPageHeader-WriteButton{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ColumnPageHeader-WriteButton .Zi--EditSurround{margin-right:4px;margin-left:-3px}.ColumnPageHeader-MenuToggler{height:32px;padding:0 20px}@-webkit-keyframes skeleton-wave{0%{-webkit-transform:translateX(-8000%);transform:translateX(-8000%)}to{-webkit-transform:translateX(10000%);transform:translateX(10000%)}}@keyframes skeleton-wave{0%{-webkit-transform:translateX(-8000%);transform:translateX(-8000%)}to{-webkit-transform:translateX(10000%);transform:translateX(10000%)}}@-webkit-keyframes linear-double{0%{-webkit-transform:translateX(-56%);transform:translateX(-56%)}to{-webkit-transform:translateX(56%);transform:translateX(56%)}}@keyframes linear-double{0%{-webkit-transform:translateX(-56%);transform:translateX(-56%)}to{-webkit-transform:translateX(56%);transform:translateX(56%)}}.FollowButton{min-width:96px}.FollowButton-icon{margin-right:8px;fill:currentColor}.AuthorInfo{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;max-width:654px;position:relative}.AuthorInfo-avatar{vertical-align:top}.AuthorInfo-content{-webkit-box-flex:1;-ms-flex:1 1;flex:1 1;margin-left:14px;overflow:hidden}.AuthorInfo-head{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:15px;line-height:1.1;-ms-flex-negative:0;flex-shrink:0}.AuthorInfo-name{font-weight:600;font-synthesis:style}.AuthorInfo-badge{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:2px;font-size:14px}.AuthorInfo-badgeText{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:#646464}.AuthorInfo-detail{overflow:hidden}.LabelContainer-wrapper{margin:16px 0}.LabelContainer-wrapper:empty{margin:0}.ContentItem-actions{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:10px 20px;margin:0-20px -10px;color:#646464}.ContentItem-actions{background:#fff}.ContentItem-actions{clear:both}.ContentItem-actions>*{-ms-flex-negative:0;flex-shrink:0}.ContentItem-action{margin-left:24px;font-size:14px}.ContentItem-action:first-child{margin-left:0}.ContentItem-time{margin-top:10px;font-size:14px;color:#8590a6}@supports not ((-webkit-backdrop-filter:blur(16px)) or (backdrop-filter:blur(16px))){.VideoCardPlayButton-withFileSize--outer .VideoCardPlayButton-withFileSize{background-color:rgba(18,18,18,.8)}}.TopicList{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.TopicList .Topic:not(:last-child){margin-right:5px}.TopicList .Topic+.Topic{vertical-align:middle}.VoteButton{padding:0 10px;color:#056de8}.VoteButton{background:rgba(5,109,232,.1)}.VoteButton{border-color:transparent}.VoteButton:not(:disabled):hover{background-color:rgba(5,109,232,.15)}.VoteButton:disabled:hover{background:#f6f6f6}.VoteButton-TriangleUp{margin-right:5px}.VoteButton--down{margin-left:4px}.Post-ActionMenuButton{margin-left:24px}.RichContent-actions{background:#fff}.RichContent-actions{width:100vw;bottom:0;left:0}@media (min-width:690px){.RichContent-actions{margin-bottom:10px}}.RichContent-actions .ContentItem-actions{position:relative}.RichContent-actions .ContentItem-actions>:nth-child(n){margin-left:24px}.RichContent-actions .ContentItem-actions>:first-child{margin:0}@media (max-width:690px){.RichContent-actions{font-weight:600;font-synthesis:style;-webkit-box-shadow:none;box-shadow:none}}@-webkit-keyframes Post-SideActions-spread{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}to{-webkit-transform:scale(1.8);transform:scale(1.8);opacity:0}}@keyframes Post-SideActions-spread{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}to{-webkit-transform:scale(1.8);transform:scale(1.8);opacity:0}}.Post-Author{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.Post-Author .AuthorInfo{-webkit-box-flex:1;-ms-flex:1 1;flex:1 1;white-space:nowrap;overflow:hidden}.Post-Author .AuthorInfo-name{color:#444}.Post-Author .AuthorInfo-detail{color:#646464}@-webkit-keyframes slideInUp{0%{-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes slideInUp{0%{-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@-webkit-keyframes fsFadeIn{0%{opacity:0}to{opacity:1}}@keyframes fsFadeIn{0%{opacity:0}to{opacity:1}}@-webkit-keyframes fsFadeOut{0%{opacity:1}to{opacity:0}}@keyframes fsFadeOut{0%{opacity:1}to{opacity:0}}@-webkit-keyframes fsSlideUp{0%{opacity:0;-webkit-transform:translateY(40px);transform:translateY(40px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes fsSlideUp{0%{opacity:0;-webkit-transform:translateY(40px);transform:translateY(40px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes fsSlideDown{0%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}to{opacity:0;-webkit-transform:translateY(40px);transform:translateY(40px)}}@keyframes fsSlideDown{0%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}to{opacity:0;-webkit-transform:translateY(40px);transform:translateY(40px)}}@-webkit-keyframes CircleLoadingBarRotator{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(270deg);transform:rotate(270deg)}}@keyframes CircleLoadingBarRotator{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(270deg);transform:rotate(270deg)}}@-webkit-keyframes CircleLoadingBarDash{0%{stroke-dashoffset:187}50%{stroke-dashoffset:46.75;-webkit-transform:rotate(135deg);transform:rotate(135deg)}to{stroke-dashoffset:187;-webkit-transform:rotate(450deg);transform:rotate(450deg)}}@keyframes CircleLoadingBarDash{0%{stroke-dashoffset:187}50%{stroke-dashoffset:46.75;-webkit-transform:rotate(135deg);transform:rotate(135deg)}to{stroke-dashoffset:187;-webkit-transform:rotate(450deg);transform:rotate(450deg)}}.Post-RichTextContainer{position:relative}.Post-NormalMain>.Post-RichTextContainer{overflow:visible}.BlockTitle{font-weight:600;font-synthesis:style;padding-bottom:12px;margin-top:40px}.BlockTitle{line-height:1.375;font-size:16px;color:#121212}.BlockTitle{border-color:#ebebeb}.BlockTitle{border-bottom-style:solid;border-width:1px}@media (-webkit-min-device-pixel-ratio:2),(min-resolution:192dpi){.BlockTitle{border-width:.5px}}@media (-webkit-min-device-pixel-ratio:3),(min-resolution:288dpi){.BlockTitle{border-width:.33333px}}@media (-webkit-min-device-pixel-ratio:4),(min-resolution:384dpi){.BlockTitle{border-width:.25px}}.Post-content{background:#fff}.Post-content{min-width:1000px}.ContentItem-time{padding:16px 0}@media (max-width:690px){.ContentItem-time{margin-top:10px}}.Post-NormalMain>div,.Post-NormalSub>div{overflow:hidden;width:690px;margin:0 auto}.Post-NormalMain .Post-Header{margin:0 auto;width:690px}.Post-NormalSub .Comments-container{border-top:52px solid transparent;margin:-52px auto 0}.Post-Main,.Post-Sub{-webkit-box-sizing:border-box;box-sizing:border-box}.Post-Main:focus{outline:none}.Post-Main .Post-topicsAndReviewer{display:-webkit-box;display:-ms-flexbox;display:flex}.Post-Main .Post-Title{font-weight:600;font-synthesis:style}.Post-Main .Post-Title{font-size:24px;line-height:1.22;margin:24px 0;word-wrap:break-word}@media (max-width:690px){.Post-Main .Post-Title{margin:16px 0}}.Post-Main .Voters{display:block;margin-top:16px;font-size:14px;color:#8590a6}.Post-Main .Post-Topics{margin-bottom:-10px;padding:16px 0}.Post-Main .Post-Topics .Topic{height:33px;font-size:13px;line-height:33px;overflow:hidden;margin-bottom:10px}.PostItem{height:226px;width:245px;min-width:245px;border-radius:5px;-webkit-box-shadow:0 6px 14px 0 rgba(18,18,18,.06);box-shadow:0 6px 14px 0 rgba(18,18,18,.06)}.PostItem{background:#fff}.PostItem{margin-right:14px;position:relative;overflow:hidden;-webkit-transition:-webkit-transform .3s;transition:-webkit-transform .3s;transition:transform .3s;transition:transform .3s,-webkit-transform .3s}.PostItem:hover{-webkit-transform:scale(1.04);transform:scale(1.04)}.PostItem-TitleImage{height:123px;width:245px;-o-object-fit:cover;object-fit:cover;border-top-left-radius:5px;border-top-right-radius:5px}.PostItem-Title{font-weight:600;font-synthesis:style}.PostItem-Title{font-size:16px;min-width:225px;color:#121212}.PostItem-Title{line-height:22px;margin:12px;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;-webkit-line-clamp:2;-webkit-box-orient:vertical}.PostItem-Footer{position:absolute;bottom:12px;left:12px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;width:100%;font-size:14px;color:#8590a6}.PostItem-Footer{line-height:20px}.PostItem-FooterTitle{margin-right:24px}.PagingButton{width:48px;height:48px;border-radius:100px;background:#fff}.PagingButton{-webkit-box-shadow:0 6px 13px 0 rgba(18,18,18,.06);box-shadow:0 6px 13px 0 rgba(18,18,18,.06)}.PagingButton{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;margin-top:90px}.PagingButton:hover{-webkit-transform:scale(1.04);transform:scale(1.04);z-index:9}.PagingButton:disabled{visibility:hidden}.PagingButton-Next{margin-left:40px}.PagingButton-Previous{margin-right:40px}.Recommendations-Main{background:#f6f6f6}.Recommendations-Main{position:relative;margin:24px auto!important}.Recommendations-List{display:-webkit-box;display:-ms-flexbox;display:flex;margin:32px auto;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}@media (min-width:690px){.Recommendations-BlockTitle{width:690px;margin:24px auto 4px}}@-webkit-keyframes WriteIndexLoading{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes WriteIndexLoading{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.css-1l12z7y{box-shadow:0px 16px 32px rgba(0,0,0,0.04)}.css-1hlrcxk{-webkit-transition-property:fill;transition-property:fill;-webkit-transition-duration:0.25s;transition-duration:0.25s;-webkit-transition-timing-function:ease-in;transition-timing-function:ease-in}.css-1tzrnvf{box-sizing:border-box;margin:0;min-width:0;max-width:100%;background-color:#FFFFFF;width:30px;height:30px;border-radius:2px}.css-1y9jkzv{box-sizing:border-box;margin:0;min-width:0;max-width:100%;background-color:#FFFFFF;width:38px;height:38px;border-radius:50%}.css-1yuhvjn{margin-top:16px}.css-4em6pe{word-break:break-word;line-height:1.6}.css-4em6pe>[data-first-child]{margin-top:0}.css-4em6pe>:last-child{margin-bottom:0}.css-4em6pe h2{clear:left;margin-top:calc((1.4em*2)/1.2);margin-bottom:calc(1.4em/1.2);font-size:1.2em;line-height:1.5;font-weight:600}.css-4em6pe h3{clear:left;margin-top:calc((1.4em*1.5)/1.1);margin-bottom:calc(1.4em/1.1);font-size:1.1em;line-height:1.5;font-weight:600}.css-4em6pe b{font-weight:600}.css-4em6pe p{margin:1.4em 0}.css-4em6pe p.ztext-empty-paragraph+.ztext-empty-paragraph{margin:1.4em 0}.css-4em6pe blockquote{margin:1.4em 0;padding-left:1em;color:#646464;border-left:3px solid #D3D3D3}.css-4em6pe ol,.css-4em6pe ul{margin:1.4em 0;padding:0;width:100%}.css-4em6pe ol li::before,.css-4em6pe ul li::before{width:1em}.css-4em6pe ul{display:table}.css-4em6pe ul>li{display:table-row;list-style:none}.css-4em6pe ul>li::before{display:table-cell;content:"•  ";white-space:pre}.css-4em6pe ol{display:table;counter-reset:ol}.css-4em6pe ol>li{display:table-row;list-style:none}.css-4em6pe ol>li::before{display:table-cell;text-align:right;counter-increment:ol;content:counter(ol)". ";white-space:pre}.css-4em6pe figure{margin:1.4em 0}.css-4em6pe figure .content_image{margin:0 auto}.css-4em6pe .content_image{display:block;max-width:100%;height:auto}.css-4em6pe code{font-family:Menlo,Monaco,Consolas,"Andale Mono","lucida console","Courier New",monospace}.css-4em6pe pre{padding:calc(0.8em/0.9);font-size:0.9em;word-break:initial;word-wrap:initial;white-space:pre;overflow:auto;-webkit-overflow-scrolling:touch;background:#F6F6F6;border-radius:4px}.css-4em6pe pre code{margin:0;padding:0;font-size:inherit;border-radius:0;background-color:inherit}.css-4em6pe .lazy[data-lazy-status="ok"]{-webkit-animation:animation-1yvu044 0.5s ease-in}.css-4em6pe .highlight{margin:1em 0}.css-4em6pe .highlight pre{margin:0}.css-4em6pe .highlight .err{color:#F1403C}.css-4em6pe .highlight .k{font-weight:600}.css-4em6pe .highlight .o{font-weight:600}.css-4em6pe .highlight .c1{font-style:italic;color:#999999}.css-4em6pe .highlight .kc{font-weight:600}.css-4em6pe .highlight .kd{font-weight:600}.css-4em6pe .highlight .kr{font-weight:600}.css-4em6pe .highlight .nb{color:#056DE8}.css-4em6pe .highlight .mi{color:#056DE8}.css-4em6pe .highlight .s2{color:#F1403C}.css-4em6pe .highlight .s1{color:#F1403C}.css-4em6pe .highlight::-webkit-scrollbar{width:6px;height:6px}.css-4em6pe .highlight::-webkit-scrollbar-thumb:horizontal{background-color:rgba(18,18,18,0.5);border-radius:6px}.css-4em6pe .highlight::-webkit-scrollbar-thumb:horizontal:hover{background-color:rgba(18,18,18,0.6)}@-webkit-keyframes animation-1yvu044{from{opacity:0}to{opacity:1}}@keyframes animation-1yvu044{from{opacity:0}to{opacity:1}}.css-1s3a4zw{position:relative;display:inline-block;padding:0 12px;color:#056DE8;vertical-align:top;border-radius:100px;background:rgba(5,109,232,0.1)}.css-1s3a4zw:hover{background-color:rgba(5,109,232,0.15)}.css-1gomreu{position:relative;display:inline-block}@-webkit-keyframes spinnerBladeFade{0%{opacity:.85}50%{opacity:.25}to{opacity:.25}}@keyframes spinnerBladeFade{0%{opacity:.85}50%{opacity:.25}to{opacity:.25}}img:not([src]),img[src=""]{opacity:0}@-webkit-keyframes skeleton-wave{0%{-webkit-transform:translateX(-8000%);transform:translateX(-8000%)}to{-webkit-transform:translateX(10000%);transform:translateX(10000%)}}@keyframes skeleton-wave{0%{-webkit-transform:translateX(-8000%);transform:translateX(-8000%)}to{-webkit-transform:translateX(10000%);transform:translateX(10000%)}}@-webkit-keyframes linear-double{0%{-webkit-transform:translateX(-56%);transform:translateX(-56%)}to{-webkit-transform:translateX(56%);transform:translateX(56%)}}@keyframes linear-double{0%{-webkit-transform:translateX(-56%);transform:translateX(-56%)}to{-webkit-transform:translateX(56%);transform:translateX(56%)}}@-webkit-keyframes rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.css-gdd4kf{padding:0px;font-size:14px;line-height:inherit;text-align:center;cursor:pointer;border:none;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;background:rgb(255,255,255);border-radius:4px;width:40px;height:40px;color:rgb(133,144,166);box-shadow:rgba(18,18,18,0.1) 0px 1px 3px}.css-gdd4kf:focus{outline:none;transition:box-shadow 0.3s ease 0s}.css-gdd4kf:focus-visible{box-shadow:rgb(255,255,255) 0px 0px 0px 2px,rgba(5,109,232,0.3) 0px 0px 0px 4px}.css-gdd4kf:disabled{cursor:default;opacity:0.5}.css-gdd4kf:hover{background:rgb(211,211,211)}.css-8pdeid{position:absolute;top:0px;height:1200px}@-webkit-keyframes animation-p6x5s9{0%{transform:translateX(-100%)}40%{transform:translateX(0px)}60%{transform:translateX(0px)}100%{transform:translateX(100%)}}@keyframes animation-p6x5s9{0%{transform:translateX(-100%)}40%{transform:translateX(0px)}60%{transform:translateX(0px)}100%{transform:translateX(100%)}}.css-plbgu{box-sizing:border-box;min-width:0px}.css-79elbk{position:relative}.css-1fo89v5{box-sizing:border-box;margin:0px 0px 10px;min-width:0px;flex:1 1 auto;display:flex}.css-x0pxoz{box-sizing:border-box;margin:0px;min-width:0px;border-radius:4px;border:1px solid rgb(235,235,235);flex:1 1 auto;padding:8px 12px}.css-z07uxh{box-sizing:border-box;margin:0px;min-width:0px;position:relative;border:1px solid rgb(235,235,235);border-radius:4px;flex-direction:column;-webkit-box-align:stretch;align-items:stretch;display:flex}.css-we6n55{box-sizing:border-box;margin:0px;min-width:0px;position:relative;flex:0 0 auto;padding-left:20px;padding-right:20px;height:50px;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;display:flex}.css-we6n55::before{display:block;content:" ";position:absolute;inset:-50%;pointer-events:none;transform:scale(0.5,0.5);border-bottom:1px solid rgb(235,235,235)}.css-vpssrj{box-sizing:border-box;margin:0px;min-width:0px;font-size:15px;color:rgb(68,68,68);font-weight:600}.css-1k10w8f{box-sizing:border-box;margin:0px;min-width:0px;cursor:default}.css-59erns{box-sizing:border-box;margin:0px;min-width:0px;flex:1 1 auto;display:flex}.css-840pn3{flex:1 1 auto;position:relative}.css-1frn93x{box-sizing:border-box;margin:0px;min-width:0px;padding-top:10px;padding-bottom:10px;min-height:100%}@-webkit-keyframes animation-1alkx44{0%,100%{transform:translateY(-100%)}50%{transform:translateY(100%)}}@keyframes animation-1alkx44{0%,100%{transform:translateY(-100%)}50%{transform:translateY(100%)}}.css-i6bazn{overflow:hidden}.css-ip4bff{font-size:15px;border:none!important;background:none!important}.css-ip4bff .Editable-unstyled{margin:0px!important}.css-ip4bff .RichText{padding:0px}.css-ip4bff .Dropzone{min-height:auto!important}.css-1oi6kgx{box-sizing:border-box;margin:0px 10px 0px 0px;min-width:0px;max-width:100%;background-color:rgb(255,255,255);width:40px;height:40px;border-radius:3px;flex:0 0 auto}.css-194v73m{box-sizing:border-box;margin:0px;min-width:0px;display:flex;padding:10px 20px 14px}.css-1jll2aj{box-sizing:border-box;margin:0px;min-width:0px;flex:0 0 auto}.css-14nvvry{box-sizing:border-box;margin:0px 0px 0px 10px;min-width:0px;flex:1 1 auto}.css-1besdh8{box-sizing:border-box;margin:0px;min-width:0px;-webkit-box-pack:justify;justify-content:space-between;color:rgb(153,153,153);display:flex}.css-swj9d4{box-sizing:border-box;margin:0px;min-width:0px;-webkit-box-align:center;align-items:center;flex:0 1 auto;display:flex}.css-1tww9qq{box-sizing:border-box;margin:0px;min-width:0px;-webkit-box-align:center;align-items:center;height:16px;display:flex}.css-1qe0v6x{box-sizing:border-box;margin:0px;min-width:0px;-webkit-box-align:center;align-items:center;justify-content:stretch;flex-wrap:wrap;flex:1 999999 auto;display:flex;max-height:30px;overflow:hidden}.css-1ssbn0c{height:30px}.css-zgte1c{margin:2px;cursor:pointer;flex-shrink:0}.css-1ygdre8{box-sizing:border-box;margin:4px 0px 0px;min-width:0px;color:rgb(68,68,68);overflow-wrap:break-word;font-size:15px;line-height:21px}.css-dbby2p{box-sizing:border-box;margin:4px 0px 0px;min-width:0px;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;display:flex}.css-82fsyv{box-sizing:border-box;margin:0px;min-width:0px;-webkit-box-align:center;align-items:center;flex:0 0 auto;font-size:14px;color:rgb(153,153,153);display:flex}.css-12cl38p{box-sizing:border-box;margin:0px 4px 0px 0px;min-width:0px}.css-18opwoy{box-sizing:border-box;margin:0px;min-width:0px;-webkit-box-align:center;align-items:center;flex:0 0 auto;display:flex}.css-18opwoy .Button{margin-left:16px}.css-1o56bgb{display:inline-block;padding:0px;font-size:14px;line-height:inherit;color:rgb(133,144,166);text-align:center;cursor:pointer;background:none transparent;border:none;border-radius:0px;height:auto}.css-1o56bgb:focus{outline:none;transition:box-shadow 0.3s ease 0s}.css-1o56bgb:focus-visible{box-shadow:rgb(255,255,255) 0px 0px 0px 2px,rgba(5,109,232,0.3) 0px 0px 0px 4px}.css-1o56bgb:disabled{cursor:default;opacity:0.5}.css-15ro776{margin-right:4px}.css-h1yvwn{display:inline-block;padding:0px;font-size:14px;line-height:inherit;color:rgb(133,144,166);text-align:center;cursor:pointer;background:none transparent;border:none rgb(133,144,166);border-radius:0px;height:auto}.css-h1yvwn:focus{outline:none;transition:box-shadow 0.3s ease 0s}.css-h1yvwn:focus-visible{box-shadow:rgb(255,255,255) 0px 0px 0px 2px,rgba(5,109,232,0.3) 0px 0px 0px 4px}.css-h1yvwn:disabled{cursor:default;opacity:0.5}.css-h1yvwn:hover{background-color:transparent;color:rgb(124,136,160)}.css-1hnxfhy{box-sizing:border-box;margin:0px;min-width:0px;border:2px solid rgb(246,246,246);border-radius:3px;font-size:12px;line-height:24px;font-weight:600;background-color:rgb(246,246,246);display:flex}.css-gjiv4z{box-sizing:border-box;margin:0px;min-width:0px;color:rgb(18,18,18);border-radius:2px;text-align:center;cursor:pointer;width:50px;height:24px;background-color:rgb(255,255,255)}.css-1v9si9f{box-sizing:border-box;margin:0px;min-width:0px;color:rgb(128,128,128);border-radius:2px;text-align:center;cursor:pointer;width:50px;height:24px;background-color:transparent}.css-y06ck6{box-sizing:border-box;margin:0px;min-width:0px;color:rgb(23,81,153);position:relative;display:block}.css-1s1htbw{box-sizing:border-box;margin:0px;min-width:0px;max-width:100%;width:24px;height:24px;border-radius:2px;filter:brightness(0.95);display:block;position:relative;background-color:rgb(246,246,246);flex:0 0 auto;text-indent:-9999px;overflow:hidden}.css-1rd0h6f{box-sizing:border-box;margin:0px;min-width:0px;font-size:15px;font-weight:bold;text-decoration:none;color:rgb(68,68,68);overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.Dropzone{position:relative}.Editable-languageSuggestions{position:fixed;z-index:1}.Editable-languageSuggestionsInput{cursor:pointer}.Editable-languageSuggestionsInput input{cursor:inherit}.Editable-languageSuggestionsInput input:focus{cursor:text}@-webkit-keyframes LoadingBarForward{0%{-webkit-transform:translateX(-100%);transform:translateX(-100%)}40%{-webkit-transform:translateX(0);transform:translateX(0)}60%{-webkit-transform:translateX(0);transform:translateX(0)}to{-webkit-transform:translateX(100%);transform:translateX(100%)}}@keyframes LoadingBarForward{0%{-webkit-transform:translateX(-100%);transform:translateX(-100%)}40%{-webkit-transform:translateX(0);transform:translateX(0)}60%{-webkit-transform:translateX(0);transform:translateX(0)}to{-webkit-transform:translateX(100%);transform:translateX(100%)}}@-webkit-keyframes fxRichTextFadeIn{0%{opacity:0}to{opacity:1}}@keyframes fxRichTextFadeIn{0%{opacity:0}to{opacity:1}}.RichText--clearBoth:after,.RichText--clearBoth:before{clear:both;content:"";display:block}.RichText .lazy[data-lazy-status=ok]{background-color:transparent;-webkit-animation:fxRichTextFadeIn .5s ease-in;animation:fxRichTextFadeIn .5s ease-in}.Editable{padding:0;position:relative}.Editable-content{cursor:text}.Editable .public-DraftEditorPlaceholder-root{color:#8590a6;position:absolute;pointer-events:none}.Editable-styled:first-child,.Editable-unstyled:first-child{margin-top:0}.Editable-styled:last-child,.Editable-unstyled:last-child{margin-bottom:0}</style><meta itemprop=name content=小宇宙 class=sf-hidden><meta itemprop=image content="https://picx1.zhimg.com/v2-2fa47865e895f18258e352ca49cc0d3d_l.jpg?source=172ae18b" class=sf-hidden><meta itemprop=url content=https://www.zhihu.com/people/18060616302 class=sf-hidden><meta itemprop=zhihu:followerCount class=sf-hidden><link crossorigin rel="shortcut icon" type=image/x-icon href="data:image/vnd.microsoft.icon;base64,AAABAAEAICAAAAEAIACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAABAAABMLAAATCwAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/ZQBg/2cAv/9lAP7/ZgD//2YA//9mAf//ZgD//2YA//9mAP//ZgD//2YA//9mAP//ZgD//2YA//9mAf7/ZgH//2YB//9lAP//ZgD//2YB/v9nAP7/agH//2sA//9sAe7/bwC//3EAXwAAAAAAAAAAAAAAAAAAAAD/YAAQ/2YAz/9lAP7/ZgD//2YA//9lAP7/ZgD//2YA//9mAP//ZgD//2YB/v9lAf7/ZgH//2UA//9mAf7/ZgH//2YA//9mAP//ZgH//2YA//9nAf//aAD//2kA//9rAP//bAD//24A//9wAP//cQD+/3QAv/9wABAAAAAAAAAAAP9lAb//ZQH+/2YA//9mAP//ZgH//2YA//9mAP//ZgD//2YA//9mAP//ZgD//2YA//9mAP//ZwH//2YA//9mAf7/ZgD//2YA//9mAP//ZwD//2gA/v9qAP//bAD//2wB/v9uAP//cAD//3IA//9zAP//dQD//3cAzwAAAAD/ZgBf/2YA//9mAP//ZgH+/2YA//9mAP//ZgH//2YA//9lAP7/ZgH//2YB/v9lAP7/ZgD//2UB/v9lAP7/ZgH+/2UB/v9mAP//ZgH//2cA//9pAP//agD//2wA//9uAP//bwD//3AA//9xAf7/dAD//3UA//92AP//eAH//3kAX/9nAL//ZQD//2YB//9mAP//ZgD//2YA//9mAP//ZgD//2UA/v9lAP7/ZgD//2YA//9mAf//ZgD//2YA//9mAP//ZgH//2cB//9nAP//aQD//2sA//9sAP//bgH//28B/v9wAP7/cgH//3MA//91AP7/dgD//3gA//95AP7/ewC//2YB7v9mAf//ZgD//2UA/v9mAf//jUD//59g//+MQP//ZgD//2UA/v9lAf7/ZgH//2YA//9lAP7/ZgD//2UA/v9mAf7/aAD//2kA//9rAP//bAH+/20A/v9vAP//cQH+/3MA//9zAf7/dQD+/3YA//95AP//egD//3sB/v99Af//ZgD//2YB/v9lAP//ZgD//2UA/v+gYP//9e/////////Yv///eSD+/2YA//9mAP//ZgH//2UA/v9mAf//xaD//2gA//9qAf//awD//2wB/v/JoP//lED//3EA//9zAP//dAD//3YB//93AP//eAD+/3oA//97AP//fQH+/38A//9lAP7/ZgH//2YA//9mAP//ZgD//2YA//+CMP//9e/////////s3///ZgD//2YB/v9lAP7/ZgD//6lw////////cxD//2wA//9tAP//bgD///bv////////wpD//30R//91Af7/eAD//3kA//96AP7/fAH//30B/v+AAf//gAD//2YA//9mAP7/ZgD//2YA//9mAP//ZgD//2YA//+fYP////////////+zgP7/ZQH+/2YA//96If//9e////////9+IP//pGD//////////////////////////////////////////////////3wA/v9+Af//gAD//4AA/v+CAP7/ZQD+/2YA//9mAf//ZgH//2UA//9mAf//ZgH+/2YA///FoP///////+zf//95IP//ZwD//9m/////////2r///20B//+lYP//////////////////l0D//9Wv////////////////////////fgD//4AB//+AAf7/ggD+/4QB//9mAP//ZgD//2YA//9mAP//ZgD//2YA//9mAf//ZgH+/3gh/v///////////6Fg//+scP7///////bv//+AIP7/bwD+/6Zg////////3L///3UA//92Af7/eAD//3oA//+LIP////////////+AAP//gQH+/4IB/v+EAP//hQD//2YA//9mAP//ZQD+/2YB//9nAf//ZgD//2UB/v9mAP//ZgD//8ag////////2r///+zf////////rnD//3AA//9xAP//p2D////////dv///dwD+/3kA//95Af7/fAD//40h/v///////////4IA//+DAP//hQD//4YA//+IAP//ZgH+/2YA//9mAP//ZgD//2YA//9mAf//ZQD+/2YA//9nAP//jkD+///////27///fyD//8CQ//9wAP//cQH+/3MA//+oYP///////96///95AP//egD+/3wB//9+Af//jyD/////////////gwD//4UA//+HAf//iAH//4kA//9mAf7/ZgD//2YA//9mAP//ZgH//2YA//9mAP//ZgD+/2gB/v9qAP//9u////////+JMf7/cAH//3EA//9zAP//dAH+/6lg////////3r///3sB//99Af//fQD+/38A//+RIf7///////////+FAf//hwH//4gB/v+KAP//igH+/2YB//9mAf7/ZgH+/2YA//9mAf//cBD//3oh/v97IP7/fSD//34g///kz////////51Q//9xAf7/cwD//3UA//92AP//q2H+///////ev///fQD//34A//9/AP//gAH+/5Ig/////////////4cA//+JAf//iQD+/4sA/v+NAf7/ZgD//2YB//9mAf7/ZgD//2YB/v+9kP///////////////////////////////////////////////////////+7f//+tYP7//////9+///9+Af//gAH+/4EA//+DAP//lCD/////////////iQH//4oB//+MAf//jgH//48A//9mAP//ZgH//2YB/v9mAP//aAD//3wg///av///7N///+3f///t3///9u/////////37///7t///+7f///v3///zp///61g////////37///4AB//+BAP//gwD//4QA/v+VIP////////////+LAf//jAD//44B//+PAP//kQD+/2YB//9mAP//ZwD//2kA//9pAP//awD//20B//9uAP7/cAD//3EA//+5gP///////8uf//93AP//eQH//3oA/v97AP//rmD////////gv///ggD//4MB/v+FAP//hgH+/5ch/v///////////4wA/v+OAP//jwD//5EA//+TAf7/ZgD//2cA//9pAf//agD//2wA//9tAP//bwD//3AA//9yAP//cwD//7mA////////zJ///3kA//97Af//fAD//34A//+vYP///////+C///+EAP//hQD//4cA//+HAf7/mCD/////////////jwD//5AA/v+RAf//kwH+/5QA//9nAP//aQH//2oB/v9sAf7/bQD//5tQ//+vcP7/ehH+/3QB//91AP//uoD////////Nn///ewD//3wB/v9+AP//gAD//7Bh////////4L///4UA//+HAP7/iAD//4oB/v+aIP////////////+QAP//kgD//5MA//+UAP//lwD+/2kA//9qAP//bAD//20A//9vAP//lED////////u3///hyD//3cB//+8gP///////86f//98AP//fgD//4AA//+BAP//sWD////////gv///iAH//4kA//+KAP//jAH//5sg/////////////5IB//+TAf//lQD//5cB/v+YAP//agD+/20B//9uAf//cAH//3EA//9yAP//3L/////////DkP//eAH+/7yA////////z5///34A//+AAf//gQD//4MB/v+yYP///////+G///+JAf//igD//4wA//+OAP//nSD/////////////lAH//5UA//+XAf7/mAD//5oA//9sAf7/bgH+/3AA//9xAP//cwD//3QA/v+pYP////////fv///ev///79/////////37///37///9+////fv///s2D//7Nh////////9+///+G////jv///47///+O////jv/////////////+VAP//lwD+/5gA//+aAP//mwD//24A//9wAP//cQD//3MA/v91AP//dgD//4gg//////////////////////////////////////////////////+0YP//tGD//////////////////////////////////////////////////5gA/v+ZAf//mgD//5wA//+eAf//cQD//3EB/v9zAP//dQD//3YA//94AP//eQH+/9av////////x5D//6BA/v+hQP//oUD//6NA/v+kQP//pUD//4kB//+REf//qUD//6pA//+rQP//rED//61A//+uQP//r0D//7BA//+yQP//mQD//5sA/v+cAf//ngD+/58A//9yAP//dAH//3UA//92AP//eAH+/3kA/v97Af//rWD////////nz///gQD//4IA//+FAf//hgH//4cA/v+JAP//igD+/4wA//+NAP//jwD//5AA//+SAf7/kwD//5YB/v+WAP//mAD//5oA/v+bAP//nQH//54A/v+fAP//oQD//3QA//91Af//dwD//3gA//96Af//ewD//30A//9/AP//t3D///fv//+TIP7/hAD//4UA//+HAP//iAD+/4sA//+MAf//jQD//48A//+RAf//kgH//5QA//+VAP//lwH+/5gB/v+aAP//mwH//50B//+eAP//oAD+/6EA//+jAO//dwG//3cA//95AP//egH+/3sA//99AP//fwD//4AA//+CAf//hAD//4UA//+GAP7/hwH+/4kA//+LAf7/jAD//44B/v+PAP//kQH+/5MA//+VAf7/lQD//5cA//+YAP//mgD//5wB//+dAP//nwH//6AA//+iAf//owH//6QAv/94AGD/eQH//3oA//98Af//fgH//4AA//+AAP//ggH//4MA//+FAP7/hgH//4gA//+KAP//iwH//40A//+OAP//kAD//5EA//+TAP//lQD//5YB/v+XAP//mQD//5sA/v+cAf7/nQH//58A//+gAP//ogH//6MA//+lAP//pgBfAAAAAP96Ac//fAD//34B/v+AAf//gQD//4IB//+DAf7/hgH//4YA/v+IAf7/igH+/4sB/v+NAP//jgD+/5AA/v+RAP//kwD+/5UA//+XAP7/lwD//5kA//+aAP//nAD//54B/v+fAP//oQD//6IB//+kAf7/pQD//6cAvwAAAAAAAAAA/4AAEP99AL//gAH+/4EA//+DAP//hAH+/4UA//+HAf//iQH//4oA//+LAP//jQH+/44A//+QAP//kgH+/5QA/v+UAP//lgD//5gA//+ZAP//mwD//5wA//+dAP//nwH//6EB//+iAf//owD//6UA//+nAM//nwAQAAAAAAAAAAAAAAAAAAAAAP+BAF//gwC//4QA7/+FAP7/hwD//4kB/v+KAP//jAD//40A//+QAf7/kAD//5IB//+UAf//lQD//5cA//+YAP//mgH+/5sA//+dAf7/ngD//58A//+hAP//owH//6QA//+lAL//pgBfAAAAAAAAAAAAAAAA4AAAB4AAAAGAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAABgAAAAeAAAAc="><style>.sf-hidden{display:none!important}</style><link rel=canonical href=https://zhuanlan.zhihu.com/p/407883529><meta http-equiv=content-security-policy content="default-src 'none'; font-src 'self' data:; img-src 'self' data:; style-src 'unsafe-inline'; media-src 'self' data:; script-src 'unsafe-inline' data:; object-src 'self' data:;"><style>img[src="data:,"],source[src="data:,"]{display:none!important}</style><body class="WhiteBg-body PostIndex-body" data-rh=class><img hidden src=data:, alt class=sf-hidden><div id=root><div class=App><div class="LoadingBar css-uzm3ri sf-hidden"></div><div><span style=position:absolute;top:-10000px;left:-10000px role=log aria-live=assertive></span></div><main role=main class=App-main><div class=Post-content data-zop-usertoken='{"userToken":"li-sheng-61-29"}' data-zop='{"authorName":"小宇宙","itemId":407883529,"title":"Promise的源码实现","type":"article"}' data-za-detail-view-path-module=PostItem data-za-extra-module='{"card":{"content":{"type":"Post","token":"407883529"}}}'><div class=ColumnPageHeader-Wrapper><div><div class="Sticky ColumnPageHeader is-fixed css-1l12z7y" style=width:1903px;top:0px;left:0px><div class=ColumnPageHeader-content><a href=https://www.zhihu.com/ aria-label=知乎><svg viewBox="0 0 64 30" fill=#056DE8 width=64 height=30 class=css-1hlrcxk><path d="M29.05 4.582H16.733V25.94h3.018l.403 2.572 4.081-2.572h4.815V4.582zm-5.207 18.69l-2.396 1.509-.235-1.508h-1.724V7.233h6.78v16.04h-2.425zM14.46 14.191H9.982c0-.471.033-.954.039-1.458v-5.5h5.106V5.935a1.352 1.352 0 0 0-.404-.957 1.378 1.378 0 0 0-.968-.396H5.783c.028-.088.056-.177.084-.255.274-.82 1.153-3.326 1.153-3.326a4.262 4.262 0 0 0-2.413.698c-.57.4-.912.682-1.371 1.946-.532 1.453-.997 2.856-1.31 3.693C1.444 8.674.28 11.025.28 11.025a5.85 5.85 0 0 0 2.52-.61c1.119-.593 1.679-1.502 2.054-2.883l.09-.3h2.334v5.5c0 .5-.045.982-.073 1.46h-4.12c-.71 0-1.39.278-1.893.775a2.638 2.638 0 0 0-.783 1.874h6.527a17.717 17.717 0 0 1-.778 3.649 16.796 16.796 0 0 1-3.012 5.273A33.104 33.104 0 0 1 0 28.74s3.13 1.175 5.425-.954c1.388-1.292 2.631-3.814 3.23-5.727a28.09 28.09 0 0 0 1.12-5.229h5.967v-1.37a1.254 1.254 0 0 0-.373-.899 1.279 1.279 0 0 0-.909-.37z"></path><path d="M11.27 19.675l-2.312 1.491 5.038 7.458a6.905 6.905 0 0 0 .672-2.218 3.15 3.15 0 0 0-.28-2.168l-3.118-4.563zM51.449 15.195V5.842c4.181-.205 7.988-.405 9.438-.483l.851-.05c.387-.399.885-2.395.689-3.021-.073-.25-.213-.666-.638-.555a33.279 33.279 0 0 1-4.277.727c-2.766.321-3.97.404-7.804.682-6.718.487-12.709.72-12.709.72a2.518 2.518 0 0 0 .788 1.834 2.567 2.567 0 0 0 1.883.706c2.278-.095 5.598-.25 8.996-.41v9.203h-12.78c0 .703.281 1.377.783 1.874a2.69 2.69 0 0 0 1.892.777h10.105v7.075c0 .887-.464 1.192-1.231 1.214h-3.92a4.15 4.15 0 0 0 .837 1.544 4.2 4.2 0 0 0 1.403 1.067 6.215 6.215 0 0 0 2.71.277c1.36-.066 2.967-.826 2.967-3.57v-7.607h11.28c.342 0 .67-.135.91-.374.242-.239.378-.563.378-.902v-1.375H51.449z"></path><path d="M42.614 8.873a2.304 2.304 0 0 0-1.508-.926 2.334 2.334 0 0 0-1.727.405l-.376.272 4.255 5.85 2.24-1.62-2.884-3.98zM57.35 8.68l-3.125 4.097 2.24 1.663 4.517-5.927-.375-.277a2.32 2.32 0 0 0-1.722-.452 2.327 2.327 0 0 0-1.536.896z"></path></svg></a><div class=ColumnPageHeader-Button><div class=Popover><button title=更多 id=Popover1-toggle aria-haspopup=true aria-expanded=false aria-owns=Popover1-content type=button class="Button ColumnPageHeader-MenuToggler Button--plain"><svg width=24 height=24 viewBox="0 0 24 24" class="Zi Zi--Dots" fill=currentColor><path d="M5.34 12a1.665 1.665 0 1 1-3.33 0 1.665 1.665 0 0 1 3.33 0ZM13.665 12a1.665 1.665 0 1 1-3.33 0 1.665 1.665 0 0 1 3.33 0ZM21.99 12a1.665 1.665 0 1 1-3.33 0 1.665 1.665 0 0 1 3.33 0Z"></path></svg></button></div><button type=button class="Button ColumnPageHeader-WriteButton Button--blue"><svg width=24 height=24 viewBox="0 0 24 24" class="Zi Zi--EditSurround" fill=currentColor><path fill-rule=evenodd d="M3.55 5.97a2.415 2.415 0 0 1 2.415-2.416h7.56a.75.75 0 0 1 0 1.5h-7.56a.915.915 0 0 0-.915.915v12.072c0 .505.41.915.915.915h12.074c.506 0 .915-.41.915-.915v-7.557a.75.75 0 0 1 1.5 0v7.557a2.415 2.415 0 0 1-2.415 2.415H5.965A2.415 2.415 0 0 1 3.55 18.04V5.969Z" clip-rule=evenodd></path><path fill-rule=evenodd d="M20.239 3.77a.75.75 0 0 1 0 1.06l-8.206 8.206a.75.75 0 0 1-1.06-1.06l8.205-8.206a.75.75 0 0 1 1.06 0Z" clip-rule=evenodd></path></svg>写文章</button></div></div><div class=ColumnPageHeader-profile><div class="Popover AppHeader-menu"><button id=Popover4-toggle aria-haspopup=true aria-expanded=false aria-owns=Popover4-content type=button class="Button AppHeader-profileEntry Button--plain"><img class="Avatar AppHeader-profileAvatar css-1tzrnvf" src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50"><rect fill-opacity="0"/></svg>' srcset alt=点击打开李先生的主页 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgb(255,255,255)!important;background-image:var(--sf-img-5)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important" sizes></button></div><div class="Popover AppHeaderProfileMenu-creatorHintPopover"><div class=AppHeaderProfileMenu-creatorHintToggler id=Popover5-toggle aria-haspopup=true aria-expanded=false aria-owns=Popover5-content></div></div></div></div><div class=Sticky--holder style=position:relative;inset:0px;display:block;float:none;margin:0px;height:25.5781px></div></div></div><article class="Post-Main Post-NormalMain" tabindex=-1><header class=Post-Header><h1 class=Post-Title>Promise的源码实现</h1><div class=Post-Author><div class=AuthorInfo itemprop=author itemscope itemtype=http://schema.org/Person><div class=AuthorInfo><span class="UserLink AuthorInfo-avatarWrapper"><div class=css-1gomreu><a href=https://www.zhihu.com/people/18060616302 target=_blank class=UserLink-link data-za-detail-view-element_name=User><img class="Avatar AuthorInfo-avatar css-1y9jkzv" src=data:image/jpeg;base64,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 srcset alt=小宇宙 sizes></a></div></span><div class=AuthorInfo-content><div class=AuthorInfo-head><span class="UserLink AuthorInfo-name"><div class=css-1gomreu><a href=https://www.zhihu.com/people/18060616302 target=_blank class=UserLink-link data-za-detail-view-element_name=User>小宇宙</a></div></span></div><div class=AuthorInfo-detail><div class=AuthorInfo-badge><div class="ztext AuthorInfo-badgeText css-0">一名热爱分析的 前端工程师</div></div></div></div></div></div><button type=button class="Button FollowButton Button--primary Button--blue"><span style=display:inline-flex;align-items:center>​<svg width=1.2em height=1.2em viewBox="0 0 24 24" class="Zi Zi--Plus FollowButton-icon" fill=currentColor><path fill-rule=evenodd d="M13.25 3.25a1.25 1.25 0 1 0-2.5 0v7.5h-7.5a1.25 1.25 0 1 0 0 2.5h7.5v7.5a1.25 1.25 0 1 0 2.5 0v-7.5h7.5a1.25 1.25 0 0 0 0-2.5h-7.5v-7.5Z" clip-rule=evenodd></path></svg></span>关注他</button></div><div class=LabelContainer-wrapper></div><div role=button tabindex=0><span class=Voters><button type=button class="Button Button--plain">6 人赞同了该文章</button></span></div></header><div class=Post-RichTextContainer><div class=css-1yuhvjn><div class="RichText ztext Post-RichText css-4em6pe" options="[object Object]"><h2 data-first-child>JavaScript异步编程</h2><p data-pid=YN31NuDW>采用单线程模式工作的原因<p data-pid=BBXyoVfV>单线程的优势和弊端<p data-pid=3wdXo9jj>异步编程的内容概要<p data-pid=6zol--Vu>同步模式与异步模式<p data-pid=a1zFxAE4>同步模式<p data-pid=VytNwIMG>异步模式<p data-pid=EX5cTshN>同步模式API和异步模式API的特点<p data-pid=eCNUg1bI>回调函数 —— 所有异步编程方案的根基<p data-pid=79EtvJ36>Promise —— 一种更优的异步编程统一方案<p data-pid=qZgo3DEM>Promise概述<p data-pid=DyAh00-0>Promise基本用法<p data-pid=u_N3JNNm>Promise案例<p data-pid=6zZt7XVC>Promise的本质<p data-pid=MV_oZ_pR>Promise链式调用<p data-pid=J1sD1uy6>常见误区<p data-pid=ZRPsNBPf>链式调用的理解<p data-pid=TrJYqlef>Promise异常处理<p data-pid=p8qjalc9>then中回调的onRejected方法<p data-pid=7ucibUQO>.catch()（推荐）<p data-pid=_mC8G7Fv>全局对象上的unhandledrejection事件<p data-pid=GyUfmqvE><b>手写Promise源码</b><p data-pid=gGOZA82s>一、Promise核心逻辑实现<p data-pid=3Zrtsuze>二、在 Promise 类中加入异步逻辑<p data-pid=5es6a1km>三、实现 then 方法多次调用添加多个处理函数<p data-pid=LEFPSmC9>四、实现then方法的链式调用<p data-pid=ZkgFsgsN>五、then方法链式调用识别 Promise 对象自返回<p data-pid=iFa90sJg>六、捕获错误及 then 链式调用其他状态代码补充<p data-pid=Iv1ZsQI7>1. 捕获执行器的错误<p data-pid=EMy6qcsV>2. then执行的时候报错捕获<p data-pid=l2fgNS0r>3. 错误之后的链式调用<p data-pid=lCoav39O>4. 异步状态下链式调用<p data-pid=cNry3xqL>七、将then方法的参数变成可选参数<p data-pid=mc9J-BNl>八、promise.all方法的实现<p data-pid=2PcuSDR->九、Promise.resolve方法的实现<p data-pid=XpSXLbxO>十、finally 方法的实现<p data-pid=x3p3I3Qt>十一、catch方法的实现<p data-pid=GOlHhziI><b>Promise全部代码整合</b><h2>采用单线程模式工作的原因</h2><p data-pid=3k95F4A2>最早js语言就是运行在浏览器端的语言，目的是为了实现页面上的动态交互。实现页面交互的核心就是DOM操作，这就决定了它必须使用单线程模型，否则就会出现很复杂的线程同步问题。 假设在js中有多个线程一起工作，其中一个线程修改了这个DOM元素，同时另一个线程又删除了这个元素，此时浏览器就无法明确该以哪个工作线程为准。所以为了避免线程同步的问题，从一开始，js就设计成了单线程的工作模式。<p data-pid=vQQR1Gub>所以，js执行环境中负责执行代码的线程只有一个。<blockquote data-pid=_alS5qQk> 一个人执行一个任务，如果有多个任务，那任务需要排队，让这个人一个一个去执行。<br> </blockquote><h2>单线程的优势和弊端</h2><p data-pid=WhayKUKU>这种模式最大的优势就是<b>更安全，更简单</b>，缺点也很明确，就是如果中间有一个特别耗时的任务，其他的任务就要等待很长的时间，出现假死的情况。<p data-pid=oXxSpVf6>为了解决这种问题，js有两种任务的执行模式：<b>同步模式（Synchronous）和异步模式（Asynchronous）</b>。<h2>异步编程的内容概要</h2><ul><li data-pid=wJHKzcqe>同步模式与异步模式<li data-pid=fUHmH7OB>事件循环与消息队列（js如何实现异步模式）<li data-pid=Gdnb7iVG>异步编程的几种方式<li data-pid=W4jrC077>Promise异步方案、宏任务/微任务队列<li data-pid=OVE8blZh>Generator异步方案、Async/Await语法糖</ul><h2>同步模式与异步模式</h2><h3>同步模式</h3><p data-pid=JJ3OpIjN><b>同步模式</b> ：指的是代码的任务依次执行，后一个任务必须等待前一个任务结束才能开始执行。程序的执行顺序和代码的编写顺序是完全一致的。在单线程模式下，大多数任务都会以同步模式执行。<div class=highlight><pre><code class=language-js><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'global begin'</span><span class=p>)</span>
<span class=kd>function</span> <span class=nx>bar</span> <span class=p>()</span> <span class=p>{</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'bar task'</span><span class=p>)</span> 
<span class=p>}</span>
<span class=kd>function</span> <span class=nx>foo</span> <span class=p>()</span> <span class=p>{</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'foo task'</span><span class=p>)</span>
    <span class=nx>bar</span><span class=p>()</span>
<span class=p>}</span>
<span class=nx>foo</span><span class=p>()</span>
<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'global end'</span><span class=p>)</span>

<span class=c1>// global begin
</span><span class=c1>// foo task
</span><span class=c1>// bar task
</span><span class=c1>//global end
</span><span class=c1></span>
<span class=c1>// 使用调用栈的逻辑
</span></code></pre></div><p data-pid=jLPzyZ1k>为了避免耗时函数让页面卡顿和假死，所以还有异步模式。<h3>异步模式</h3><p data-pid=wQrEXLMb><b>异步模式</b> 不会去等待这个任务的结束才开始下一个任务，都是开启过后就立即往后执行下一个任务。耗时函数的后续逻辑会通过回调函数的方式定义。在内部，耗时任务完成过后就会自动执行传入的回调函数。<blockquote data-pid=a2guVKVW> 异步模式对于JavaScript语言非常重要，没有它就无法同时处理大量的耗时任务。对于开发者而言。单线程下面的异步最大的难点就是代码执行的顺序混乱。<br> </blockquote><div class=highlight><pre><code class=language-js><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'global begin'</span><span class=p>)</span>
<span class=c1>// 延时器
</span><span class=c1></span><span class=nx>setTimeout</span><span class=p>(</span><span class=kd>function</span> <span class=nx>timer1</span> <span class=p>()</span> <span class=p>{</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'timer1 invoke'</span><span class=p>)</span>
<span class=p>},</span> <span class=mi>1800</span><span class=p>)</span>
<span class=c1>// 延时器中又嵌套了一个延时器
</span><span class=c1></span><span class=nx>setTimeout</span><span class=p>(</span><span class=kd>function</span> <span class=nx>timer2</span> <span class=p>()</span> <span class=p>{</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'timer2 invoke'</span><span class=p>)</span>
    <span class=nx>setTimeout</span><span class=p>(</span><span class=kd>function</span> <span class=nx>inner</span> <span class=p>()</span> <span class=p>{</span>
        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'inner invoke'</span><span class=p>)</span>
    <span class=p>},</span> <span class=mi>1000</span><span class=p>)</span>
<span class=p>},</span> <span class=mi>1000</span><span class=p>)</span>
<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'global end'</span><span class=p>)</span>

<span class=c1>// global begin
</span><span class=c1>// global end
</span><span class=c1>// timer2 invoke
</span><span class=c1>// timer1 invoke
</span><span class=c1>// inner invoke
</span><span class=c1></span>
<span class=c1>//除了调用栈，还用到了消息队列和事件循环
</span></code></pre></div><p data-pid=f452ljlE>js线程某个时刻发起了一个异步调用，它紧接着继续执行其他的任务，此时异步线程会单独执行异步任务，执行过后会将回调放到消息队列中，js主线程执行完任务过后会依次执行消息队列中的任务。<b>这里要强调，js是单线程的，浏览器不是单线程的，有一些API是有单独的线程去做的。</b><blockquote data-pid=gHOGrtiu> 这里的同步和异步不是指写代码的方式，而是运行环境提供的API是以同步或异步模式的方式工作。<br> </blockquote><h3>同步模式API和异步模式API的特点</h3><p data-pid=oVtRSaek><b>同步模式的API的特点</b>就是任务执行完代码才会继续往下走，例如：console.log<p data-pid=nH_IquDB><b>异步模式的API的特点</b>就是下达这个任务开启的指令之后代码就会继续执行，代码不会等待任务的结束<h2>回调函数 —— 所有异步编程方案的根基</h2><p data-pid=uX0uz_RC><b>回调函数</b>：由调用者定义，交给执行者执行的函数<div class=highlight><pre><code class=language-js><span class=c1>// callback就是回调函数
</span><span class=c1>// 就是把函数作为参数传递，缺点是不利于阅读，执行顺序混乱。
</span><span class=c1></span><span class=kd>function</span> <span class=nx>foo</span><span class=p>(</span><span class=nx>callback</span><span class=p>)</span> <span class=p>{</span>
    <span class=nx>setTimeout</span><span class=p>(</span><span class=kd>function</span><span class=p>(){</span>
        <span class=nx>callback</span><span class=p>()</span>
    <span class=p>},</span> <span class=mi>3000</span><span class=p>)</span>
<span class=p>}</span>

<span class=nx>foo</span><span class=p>(</span><span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'这就是一个回调函数'</span><span class=p>)</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'调用者定义这个函数，执行者执行这个函数'</span><span class=p>)</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'其实就是调用者告诉执行者异步任务结束后应该做什么'</span><span class=p>)</span>
<span class=p>})</span>
</code></pre></div><p data-pid=Sfx8Cb7I>还有其他的一些实现异步的方式，例如：<b>事件机制和发布订阅</b>。这些也都是基于回调函数之上的变体。<h2>Promise —— 一种更优的异步编程统一方案</h2><h3>Promise概述</h3><p data-pid=lJB-bIaJ>虽然回调函数是所有异步编程方案的根基。但是如果我们直接使用传统回调方式去完成复杂的异步流程，就会无法避免大量的回调函数嵌套。导致回调地狱的问题。<p data-pid=sSCSycmy>为了避免这个问题。CommonJS社区提出了Promise的规范，ES6中称为语言规范。<p data-pid=PNUEAm2K>Promise是一个对象，用来表述一个异步任务执行之后是成功还是失败。<p class=ztext-empty-paragraph><br><figure data-size=normal><noscript><img src="https://pic1.zhimg.com/v2-4f89913ab376925632be5823a038f938_b.png" data-size="normal" data-caption="" class="content_image"></noscript><div><img src="data:application/octet-stream;base64,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" data-size=normal data-caption class="content_image lazy" data-actualsrc=https://pic1.zhimg.com/v2-4f89913ab376925632be5823a038f938_b.png data-lazy-status=ok></div></figure><p class=ztext-empty-paragraph><br><h3>Promise基本用法</h3><p data-pid=R3fII6Qg>返回resolve<div class=highlight><pre><code class=language-js><span class=kr>const</span> <span class=nx>promise</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Promise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>resolve</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span>
<span class=p>})</span>

<span class=nx>promise</span><span class=p>.</span><span class=nx>then</span><span class=p>((</span><span class=nx>value</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'resolved'</span><span class=p>,</span> <span class=nx>value</span><span class=p>)</span> <span class=c1>// resolve 100
</span><span class=c1></span><span class=p>},(</span><span class=nx>error</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'rejected'</span><span class=p>,</span> <span class=nx>error</span><span class=p>)</span>
<span class=p>})</span>
</code></pre></div><p data-pid=UPkDyHvT>返回reject<div class=highlight><pre><code class=language-js><span class=kr>const</span> <span class=nx>promise</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Promise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>reject</span><span class=p>(</span><span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s1>'promise rejected'</span><span class=p>))</span>
<span class=p>})</span>

<span class=nx>promise</span><span class=p>.</span><span class=nx>then</span><span class=p>((</span><span class=nx>value</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'resolved'</span><span class=p>,</span> <span class=nx>value</span><span class=p>)</span>
<span class=p>},(</span><span class=nx>error</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'rejected'</span><span class=p>,</span> <span class=nx>error</span><span class=p>)</span>
  <span class=c1>// rejected Error: promise rejected
</span><span class=c1></span>  <span class=c1>//  at E:\professer\lagou\Promise\promise-example.js:4:10
</span><span class=c1></span>  <span class=c1>//  at new Promise (&lt;anonymous&gt;)
</span><span class=c1></span><span class=p>})</span>
</code></pre></div><p data-pid=EKge9DH3>即便promise中没有任何的异步操作，then方法的回调函数仍然会进入到事件队列中排队。<h3>Promise案例</h3><p data-pid=lEHcSeUq>使用Promise去封装一个ajax的案例<div class=highlight><pre><code class=language-js><span class=kd>function</span> <span class=nx>ajax</span> <span class=p>(</span><span class=nx>url</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>return</span> <span class=k>new</span> <span class=nb>Promise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>rejects</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
    <span class=c1>// 创建一个XMLHttpRequest对象去发送一个请求
</span><span class=c1></span>    <span class=kr>const</span> <span class=nx>xhr</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>XMLHttpRequest</span><span class=p>()</span>
    <span class=c1>// 先设置一下xhr对象的请求方式是GET，请求的地址就是参数传递的url
</span><span class=c1></span>    <span class=nx>xhr</span><span class=p>.</span><span class=nx>open</span><span class=p>(</span><span class=s1>'GET'</span><span class=p>,</span> <span class=nx>url</span><span class=p>)</span>
    <span class=c1>// 设置返回的类型是json，是HTML5的新特性
</span><span class=c1></span>    <span class=c1>// 我们在请求之后拿到的是json对象，而不是字符串
</span><span class=c1></span>    <span class=nx>xhr</span><span class=p>.</span><span class=nx>responseType</span> <span class=o>=</span> <span class=s1>'json'</span>
    <span class=c1>// html5中提供的新事件,请求完成之后（readyState为4）才会执行
</span><span class=c1></span>    <span class=nx>xhr</span><span class=p>.</span><span class=nx>onload</span> <span class=o>=</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
      <span class=k>if</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>===</span> <span class=mi>200</span><span class=p>)</span> <span class=p>{</span>
        <span class=c1>// 请求成功将请求结果返回
</span><span class=c1></span>        <span class=nx>resolve</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>response</span><span class=p>)</span>
      <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
        <span class=c1>// 请求失败，创建一个错误对象，返回错误文本
</span><span class=c1></span>        <span class=nx>rejects</span><span class=p>(</span><span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>statusText</span><span class=p>))</span>
      <span class=p>}</span>
    <span class=p>}</span>
    <span class=c1>// 开始执行异步请求
</span><span class=c1></span>    <span class=nx>xhr</span><span class=p>.</span><span class=nx>send</span><span class=p>()</span>
  <span class=p>})</span>
<span class=p>}</span>

<span class=nx>ajax</span><span class=p>(</span><span class=s1>'/api/user.json'</span><span class=p>).</span><span class=nx>then</span><span class=p>((</span><span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>res</span><span class=p>)</span>
<span class=p>},</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>error</span><span class=p>)</span>
<span class=p>})</span>
</code></pre></div><h3>Promise的本质</h3><p data-pid=asVvH081>本质上也是使用回调函数的方式去定义异步任务结束后所需要执行的任务。这里的回调函数是通过then方法传递过去的<h3>Promise链式调用</h3><h3>常见误区</h3><ul><li data-pid=5bBrIlrr>嵌套使用的方式是使用Promise最常见的误区。要使用promise的链式调用的方法尽可能保证异步任务的扁平化。</ul><h3>链式调用的理解</h3><ul><li data-pid=JttSEBpj>promise对象then方法，返回了全新的promise对象。可以再继续调用then方法，如果return的不是promise对象，而是一个值，那么这个值会作为resolve的值传递，如果没有值，默认是undefined<li data-pid=Pme91y6G>后面的then方法就是在为上一个then返回的Promise注册回调<li data-pid=r4_v9Oni>前面then方法中回调函数的返回值会作为后面then方法回调的参数<li data-pid=wuDPipFu>如果回调中返回的是Promise，那后面then方法的回调会等待它的结束</ul><h3>Promise异常处理</h3><h3>then中回调的onRejected方法</h3><h3>.catch()（推荐）</h3><p data-pid=ki76mavI>promise中如果有异常，都会调用reject方法，还可以使用.catch()<p data-pid=Q3CX7-ba>使用.catch方法更为常见，因为更加符合链式调用<div class=highlight><pre><code class=language-js><span class=nx>ajax</span><span class=p>(</span><span class=s1>'/api/user.json'</span><span class=p>)</span>
  <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=kd>function</span> <span class=nx>onFulfilled</span><span class=p>(</span><span class=nx>res</span><span class=p>)</span> <span class=p>{</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'onFulfilled'</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span>
  <span class=p>}).</span><span class=k>catch</span><span class=p>(</span><span class=kd>function</span> <span class=nx>onRejected</span><span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'onRejected'</span><span class=p>,</span> <span class=nx>error</span><span class=p>)</span>
  <span class=p>})</span>

<span class=c1>// 相当于
</span><span class=c1></span><span class=nx>ajax</span><span class=p>(</span><span class=s1>'/api/user.json'</span><span class=p>)</span>
  <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=kd>function</span> <span class=nx>onFulfilled</span><span class=p>(</span><span class=nx>res</span><span class=p>)</span> <span class=p>{</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'onFulfilled'</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span>
  <span class=p>})</span>
  <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=kc>undefined</span><span class=p>,</span> <span class=kd>function</span> <span class=nx>onRejected</span><span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'onRejected'</span><span class=p>,</span> <span class=nx>error</span><span class=p>)</span>
  <span class=p>})</span>
</code></pre></div><p data-pid=RhDOFIiE>.catch形式和前面then里面的第二个参数的形式，两者异常捕获的区别：<ul><li data-pid=852mhDru>.catch()是对上一个.then()返回的promise进行处理，不过第一个promise的报错也顺延到了catch中，而thrn的第二个参数形式，只能捕获第一个promise的报错，如果当前then的resolve函数处理中有报错是捕获不到的。</ul><p data-pid=lPxKeIJG><b>所以.catch是给整个promise链条注册的一个失败回调。推荐使用！！！！</b> <h3>全局对象上的unhandledrejection事件</h3><p data-pid=b06VO1ek>还可以在全局对象上注册一个unhandledrejection事件，处理那些代码中没有被手动捕获的promise异常，当然<b>并不推荐使用</b>。<p data-pid=weasDGmn>更合理的是：在代码中明确捕获每一个可能的异常，而不是丢给全局处理<div class=highlight><pre><code class=language-js><span class=c1>// 浏览器
</span><span class=c1></span><span class=nb>window</span><span class=p>.</span><span class=nx>addEventListener</span><span class=p>(</span><span class=s1>'unhandledrejection'</span><span class=p>,</span> <span class=nx>event</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=kr>const</span> <span class=p>{</span> <span class=nx>reason</span><span class=p>,</span> <span class=nx>promise</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>event</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>reason</span><span class=p>,</span> <span class=nx>promise</span><span class=p>)</span>

  <span class=c1>//reason =&gt; Promise 失败原因，一般是一个错误对象
</span><span class=c1></span>  <span class=c1>//promise =&gt; 出现异常的Promise对象
</span><span class=c1></span>
  <span class=nx>event</span><span class=p>.</span><span class=nx>preventDefault</span><span class=p>()</span>
<span class=p>},</span> <span class=kc>false</span><span class=p>)</span>

<span class=c1>// node
</span><span class=c1></span><span class=nx>process</span><span class=p>.</span><span class=nx>on</span><span class=p>(</span><span class=s1>'unhandledRejection'</span><span class=p>,</span> <span class=p>(</span><span class=nx>reason</span><span class=p>,</span> <span class=nx>promise</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>reason</span><span class=p>,</span> <span class=nx>promise</span><span class=p>)</span>

  <span class=c1>//reason =&gt; Promise 失败原因，一般是一个错误对象
</span><span class=c1></span>  <span class=c1>//promise =&gt; 出现异常的Promise对象
</span><span class=c1></span><span class=p>})</span>
</code></pre></div><h2>手写Promise源码</h2><h3>一、Promise核心逻辑实现</h3><p data-pid=4h3we173>首先分析其原理<ol><li data-pid=QY3LoFOc>promise就是一个类<br> 在执行类的时候需要传递一个执行器进去，执行器会立即执行<li data-pid=Xy2k8wY7>Promise中有三种状态，分别为成功-fulfilled 失败-rejected 等待-pending<br> pending -&gt; fulfilled<br> pending -&gt; rejected<br> 一旦状态确定就不可更改<li data-pid=AJLGT0gM>resolve 和 reject函数是用来更改状态的<br> resolve：fulfilled<br> reject：rejected<li data-pid=U7iEzU7t>then方法内部做的事情就是判断状态 如果状态是成功，调用成功回调函数<br> 如果状态是失败，就调用失败回调函数<br> then方法是被定义在原型对象中的<li data-pid=E9Qv-opw>then成功回调有一个参数，表示成功之后的值；then失败回调有一个参数，表示失败后的原因</ol><div class=highlight><pre><code class=language-js><span class=c1>// myPromise.js
</span><span class=c1>// 定义成常量是为了复用且代码有提示
</span><span class=c1></span><span class=kr>const</span> <span class=nx>PENDING</span> <span class=o>=</span> <span class=s1>'pending'</span> <span class=c1>// 等待
</span><span class=c1></span><span class=kr>const</span> <span class=nx>FULFILLED</span> <span class=o>=</span> <span class=s1>'fulfilled'</span> <span class=c1>// 成功
</span><span class=c1></span><span class=kr>const</span> <span class=nx>REJECTED</span> <span class=o>=</span> <span class=s1>'rejected'</span> <span class=c1>// 失败
</span><span class=c1>// 定义一个构造函数
</span><span class=c1></span><span class=kr>class</span> <span class=nx>MyPromise</span> <span class=p>{</span>
  <span class=nx>constructor</span> <span class=p>(</span><span class=nx>exector</span><span class=p>)</span> <span class=p>{</span>
    <span class=c1>// exector是一个执行器，进入会立即执行，并传入resolve和reject方法
</span><span class=c1></span>    <span class=nx>exector</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>resolve</span><span class=p>,</span> <span class=k>this</span><span class=p>.</span><span class=nx>reject</span><span class=p>)</span>
  <span class=p>}</span>

  <span class=c1>// 实例对象的一个属性，初始为等待
</span><span class=c1></span>  <span class=nx>status</span> <span class=o>=</span> <span class=nx>PENDING</span>
  <span class=c1>// 成功之后的值
</span><span class=c1></span>  <span class=nx>value</span> <span class=o>=</span> <span class=kc>undefined</span>
  <span class=c1>// 失败之后的原因
</span><span class=c1></span>  <span class=nx>reason</span> <span class=o>=</span> <span class=kc>undefined</span>

  <span class=c1>// resolve和reject为什么要用箭头函数？
</span><span class=c1></span>  <span class=c1>// 如果直接调用的话，普通函数this指向的是window或者undefined
</span><span class=c1></span>  <span class=c1>// 用箭头函数就可以让this指向当前实例对象
</span><span class=c1></span>  <span class=nx>resolve</span> <span class=o>=</span> <span class=nx>value</span> <span class=p>=&gt;</span> <span class=p>{</span>
    <span class=c1>// 判断状态是不是等待，阻止程序向下执行
</span><span class=c1></span>    <span class=k>if</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>!==</span> <span class=nx>PENDING</span><span class=p>)</span> <span class=k>return</span>
    <span class=c1>// 将状态改成成功
</span><span class=c1></span>    <span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>=</span> <span class=nx>FULFILLED</span>
    <span class=c1>// 保存成功之后的值
</span><span class=c1></span>    <span class=k>this</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=nx>value</span>
  <span class=p>}</span>

  <span class=nx>reject</span> <span class=o>=</span> <span class=nx>reason</span> <span class=p>=&gt;</span> <span class=p>{</span>
    <span class=k>if</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>!==</span> <span class=nx>PENDING</span><span class=p>)</span> <span class=k>return</span>
    <span class=c1>// 将状态改为失败
</span><span class=c1></span>    <span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>=</span> <span class=nx>REJECTED</span>
    <span class=c1>// 保存失败之后的原因
</span><span class=c1></span>    <span class=k>this</span><span class=p>.</span><span class=nx>reason</span> <span class=o>=</span> <span class=nx>reason</span>
  <span class=p>}</span>

  <span class=nx>then</span> <span class=p>(</span><span class=nx>successCallback</span><span class=p>,</span> <span class=nx>failCallback</span><span class=p>)</span> <span class=p>{</span>
    <span class=c1>//判断状态
</span><span class=c1></span>    <span class=k>if</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>===</span> <span class=nx>FULFILLED</span><span class=p>)</span> <span class=p>{</span>
      <span class=c1>// 调用成功回调，并且把值返回
</span><span class=c1></span>      <span class=nx>successCallback</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>value</span><span class=p>)</span>
    <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>===</span> <span class=nx>REJECTED</span><span class=p>)</span> <span class=p>{</span>
      <span class=c1>// 调用失败回调，并且把原因返回
</span><span class=c1></span>      <span class=nx>failCallback</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>reason</span><span class=p>)</span>
    <span class=p>}</span>
  <span class=p>}</span>
<span class=p>}</span>

<span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=nx>MyPromise</span>
<span class=c1>//promise.js
</span><span class=c1></span><span class=kr>const</span> <span class=nx>MyPromise</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>'./myPromise'</span><span class=p>)</span>
<span class=kd>let</span> <span class=nx>promise</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>MyPromise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
   <span class=nx>resolve</span><span class=p>(</span><span class=s1>'success'</span><span class=p>)</span>
   <span class=nx>reject</span><span class=p>(</span><span class=s1>'err'</span><span class=p>)</span>
 <span class=p>})</span>

 <span class=nx>promise</span><span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>value</span> <span class=p>=&gt;</span> <span class=p>{</span>
   <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'resolve'</span><span class=p>,</span> <span class=nx>value</span><span class=p>)</span>
 <span class=p>},</span> <span class=nx>reason</span> <span class=p>=&gt;</span> <span class=p>{</span>
   <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'reject'</span><span class=p>,</span> <span class=nx>reason</span><span class=p>)</span>
 <span class=p>})</span>
</code></pre></div><h3>二、在 Promise 类中加入异步逻辑</h3><p data-pid=Xw_Ssvsy>上面是没有经过异步处理的，如果有异步逻辑加进来，会有一些问题<div class=highlight><pre><code class=language-js><span class=c1>//promise.js
</span><span class=c1></span><span class=kr>const</span> <span class=nx>MyPromise</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>'./myPromise'</span><span class=p>)</span>
<span class=kd>let</span> <span class=nx>promise</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>MyPromise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=c1>// 主线程代码立即执行，setTimeout是异步代码，then会马上执行，
</span><span class=c1></span>  <span class=c1>// 这个时候判断promise状态，状态是pending，然而之前并没有判断等待这个状态
</span><span class=c1></span>  <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
    <span class=nx>resolve</span><span class=p>(</span><span class=s1>'success'</span><span class=p>)</span>
  <span class=p>},</span> <span class=mi>2000</span><span class=p>);</span> 
 <span class=p>})</span>

 <span class=nx>promise</span><span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>value</span> <span class=p>=&gt;</span> <span class=p>{</span>
   <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'resolve'</span><span class=p>,</span> <span class=nx>value</span><span class=p>)</span>
 <span class=p>},</span> <span class=nx>reason</span> <span class=p>=&gt;</span> <span class=p>{</span>
   <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'reject'</span><span class=p>,</span> <span class=nx>reason</span><span class=p>)</span>
 <span class=p>})</span>
<span class=c1>// myPromise.js
</span><span class=c1></span><span class=kr>const</span> <span class=nx>PENDING</span> <span class=o>=</span> <span class=s1>'pending'</span>
<span class=kr>const</span> <span class=nx>FULFILLED</span> <span class=o>=</span> <span class=s1>'fulfilled'</span>
<span class=kr>const</span> <span class=nx>REJECTED</span> <span class=o>=</span> <span class=s1>'rejected'</span>
<span class=kr>class</span> <span class=nx>MyPromise</span> <span class=p>{</span>
  <span class=nx>constructor</span> <span class=p>(</span><span class=nx>exector</span><span class=p>)</span> <span class=p>{</span>
    <span class=nx>exector</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>resolve</span><span class=p>,</span> <span class=k>this</span><span class=p>.</span><span class=nx>reject</span><span class=p>)</span>
  <span class=p>}</span>


  <span class=nx>status</span> <span class=o>=</span> <span class=nx>PENDING</span>
  <span class=nx>value</span> <span class=o>=</span> <span class=kc>undefined</span>
  <span class=nx>reason</span> <span class=o>=</span> <span class=kc>undefined</span>
  <span class=c1>// 定义一个成功回调参数
</span><span class=c1></span>  <span class=nx>successCallback</span> <span class=o>=</span> <span class=kc>undefined</span>
  <span class=c1>// 定义一个失败回调参数
</span><span class=c1></span>  <span class=nx>failCallback</span> <span class=o>=</span> <span class=kc>undefined</span>

  <span class=nx>resolve</span> <span class=o>=</span> <span class=nx>value</span> <span class=p>=&gt;</span> <span class=p>{</span>
    <span class=k>if</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>!==</span> <span class=nx>PENDING</span><span class=p>)</span> <span class=k>return</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>=</span> <span class=nx>FULFILLED</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=nx>value</span>
    <span class=c1>// 判断成功回调是否存在，如果存在就调用
</span><span class=c1></span>    <span class=k>this</span><span class=p>.</span><span class=nx>successCallback</span> <span class=o>&amp;&amp;</span> <span class=k>this</span><span class=p>.</span><span class=nx>successCallback</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>value</span><span class=p>)</span>
  <span class=p>}</span>

  <span class=nx>reject</span> <span class=o>=</span> <span class=nx>reason</span> <span class=p>=&gt;</span> <span class=p>{</span>
    <span class=k>if</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>!==</span> <span class=nx>PENDING</span><span class=p>)</span> <span class=k>return</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>=</span> <span class=nx>REJECTED</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>reason</span> <span class=o>=</span> <span class=nx>reason</span>
    <span class=c1>// 判断失败回调是否存在，如果存在就调用
</span><span class=c1></span>    <span class=k>this</span><span class=p>.</span><span class=nx>failCallback</span> <span class=o>&amp;&amp;</span> <span class=k>this</span><span class=p>.</span><span class=nx>failCallback</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>reason</span><span class=p>)</span>
  <span class=p>}</span>

  <span class=nx>then</span> <span class=p>(</span><span class=nx>successCallback</span><span class=p>,</span> <span class=nx>failCallback</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>if</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>===</span> <span class=nx>FULFILLED</span><span class=p>)</span> <span class=p>{</span>
      <span class=nx>successCallback</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>value</span><span class=p>)</span>
    <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>===</span> <span class=nx>REJECTED</span><span class=p>)</span> <span class=p>{</span>
      <span class=nx>failCallback</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>reason</span><span class=p>)</span>
    <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
      <span class=c1>// 等待
</span><span class=c1></span>      <span class=c1>// 因为并不知道状态，所以将成功回调和失败回调存储起来
</span><span class=c1></span>      <span class=c1>// 等到执行成功失败函数的时候再传递
</span><span class=c1></span>      <span class=k>this</span><span class=p>.</span><span class=nx>successCallback</span> <span class=o>=</span> <span class=nx>successCallback</span>
      <span class=k>this</span><span class=p>.</span><span class=nx>failCallback</span> <span class=o>=</span> <span class=nx>failCallback</span>
    <span class=p>}</span>
  <span class=p>}</span>
<span class=p>}</span>

<span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=nx>MyPromise</span>
</code></pre></div><h3>三、实现 then 方法多次调用添加多个处理函数</h3><p data-pid=UQFONW5P>promise的then方法是可以被多次调用的。这里如果有三个then的调用，如果是同步回调，那么直接返回当前的值就行；如果是异步回调，那么保存的成功失败的回调，需要用不同的值保存，因为都互不相同。之前的代码需要改进。<div class=highlight><pre><code class=language-js><span class=c1>//promise.js
</span><span class=c1></span><span class=kr>const</span> <span class=nx>MyPromise</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>'./myPromise'</span><span class=p>)</span>
<span class=kd>let</span> <span class=nx>promise</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>MyPromise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
    <span class=nx>resolve</span><span class=p>(</span><span class=s1>'success'</span><span class=p>)</span>
  <span class=p>},</span> <span class=mi>2000</span><span class=p>);</span> 
 <span class=p>})</span>

 <span class=nx>promise</span><span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>value</span> <span class=p>=&gt;</span> <span class=p>{</span>
   <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
   <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'resolve'</span><span class=p>,</span> <span class=nx>value</span><span class=p>)</span>
 <span class=p>})</span>

 <span class=nx>promise</span><span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>value</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'resolve'</span><span class=p>,</span> <span class=nx>value</span><span class=p>)</span>
<span class=p>})</span>

<span class=nx>promise</span><span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>value</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'resolve'</span><span class=p>,</span> <span class=nx>value</span><span class=p>)</span>
<span class=p>})</span>
</code></pre></div><p data-pid=KsILjEPb>保存到数组中，最后统一执行<div class=highlight><pre><code class=language-js><span class=c1>// myPromise.js
</span><span class=c1></span><span class=kr>const</span> <span class=nx>PENDING</span> <span class=o>=</span> <span class=s1>'pending'</span>
<span class=kr>const</span> <span class=nx>FULFILLED</span> <span class=o>=</span> <span class=s1>'fulfilled'</span>
<span class=kr>const</span> <span class=nx>REJECTED</span> <span class=o>=</span> <span class=s1>'rejected'</span>
<span class=kr>class</span> <span class=nx>MyPromise</span> <span class=p>{</span>
  <span class=nx>constructor</span> <span class=p>(</span><span class=nx>exector</span><span class=p>)</span> <span class=p>{</span>
    <span class=nx>exector</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>resolve</span><span class=p>,</span> <span class=k>this</span><span class=p>.</span><span class=nx>reject</span><span class=p>)</span>
  <span class=p>}</span>


  <span class=nx>status</span> <span class=o>=</span> <span class=nx>PENDING</span>
  <span class=nx>value</span> <span class=o>=</span> <span class=kc>undefined</span>
  <span class=nx>reason</span> <span class=o>=</span> <span class=kc>undefined</span>
  <span class=c1>// 定义一个成功回调参数，初始化一个空数组
</span><span class=c1></span>  <span class=nx>successCallback</span> <span class=o>=</span> <span class=p>[]</span>
  <span class=c1>// 定义一个失败回调参数，初始化一个空数组
</span><span class=c1></span>  <span class=nx>failCallback</span> <span class=o>=</span> <span class=p>[]</span>

  <span class=nx>resolve</span> <span class=o>=</span> <span class=nx>value</span> <span class=p>=&gt;</span> <span class=p>{</span>
    <span class=k>if</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>!==</span> <span class=nx>PENDING</span><span class=p>)</span> <span class=k>return</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>=</span> <span class=nx>FULFILLED</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=nx>value</span>
    <span class=c1>// 判断成功回调是否存在，如果存在就调用
</span><span class=c1></span>    <span class=c1>// 循环回调数组. 把数组前面的方法弹出来并且直接调用
</span><span class=c1></span>    <span class=c1>// shift方法是在数组中删除值，每执行一个就删除一个，最终变为0
</span><span class=c1></span>    <span class=k>while</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>successCallback</span><span class=p>.</span><span class=nx>length</span><span class=p>)</span> <span class=k>this</span><span class=p>.</span><span class=nx>successCallback</span><span class=p>.</span><span class=nx>shift</span><span class=p>()(</span><span class=k>this</span><span class=p>.</span><span class=nx>value</span><span class=p>)</span>
  <span class=p>}</span>

  <span class=nx>reject</span> <span class=o>=</span> <span class=nx>reason</span> <span class=p>=&gt;</span> <span class=p>{</span>
    <span class=k>if</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>!==</span> <span class=nx>PENDING</span><span class=p>)</span> <span class=k>return</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>=</span> <span class=nx>REJECTED</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>reason</span> <span class=o>=</span> <span class=nx>reason</span>
    <span class=c1>// 判断失败回调是否存在，如果存在就调用
</span><span class=c1></span>    <span class=c1>// 循环回调数组. 把数组前面的方法弹出来并且直接调用
</span><span class=c1></span>    <span class=k>while</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>failCallback</span><span class=p>.</span><span class=nx>length</span><span class=p>)</span> <span class=k>this</span><span class=p>.</span><span class=nx>failCallback</span><span class=p>.</span><span class=nx>shift</span><span class=p>()(</span><span class=k>this</span><span class=p>.</span><span class=nx>reason</span><span class=p>)</span>
  <span class=p>}</span>

  <span class=nx>then</span> <span class=p>(</span><span class=nx>successCallback</span><span class=p>,</span> <span class=nx>failCallback</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>if</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>===</span> <span class=nx>FULFILLED</span><span class=p>)</span> <span class=p>{</span>
      <span class=nx>successCallback</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>value</span><span class=p>)</span>
    <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>===</span> <span class=nx>REJECTED</span><span class=p>)</span> <span class=p>{</span>
      <span class=nx>failCallback</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>reason</span><span class=p>)</span>
    <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
      <span class=c1>// 等待
</span><span class=c1></span>      <span class=c1>// 将成功回调和失败回调都保存在数组中
</span><span class=c1></span>      <span class=k>this</span><span class=p>.</span><span class=nx>successCallback</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=nx>successCallback</span><span class=p>)</span>
      <span class=k>this</span><span class=p>.</span><span class=nx>failCallback</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=nx>failCallback</span><span class=p>)</span>
    <span class=p>}</span>
  <span class=p>}</span>
<span class=p>}</span>

<span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=nx>MyPromise</span>
</code></pre></div><h3>四、实现then方法的链式调用</h3><p data-pid=NeUHNv9H>then方法要链式调用那么就需要返回一个promise对象， then方法的return返回值作为下一个then方法的参数<p data-pid=cghXtwRg>then方法还一个return一个promise对象，那么如果是一个promise对象，那么就需要判断它的状态<div class=highlight><pre><code class=language-js><span class=c1>// promise.js
</span><span class=c1></span><span class=kr>const</span> <span class=nx>MyPromise</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>'./myPromise'</span><span class=p>)</span>
<span class=kd>let</span> <span class=nx>promise</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>MyPromise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
<span class=c1>// 目前这里只处理同步的问题
</span><span class=c1></span>    <span class=nx>resolve</span><span class=p>(</span><span class=s1>'success'</span><span class=p>)</span>
<span class=p>})</span>

<span class=kd>function</span> <span class=nx>other</span> <span class=p>()</span> <span class=p>{</span>
   <span class=k>return</span> <span class=k>new</span> <span class=nx>MyPromise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>=&gt;{</span>
        <span class=nx>resolve</span><span class=p>(</span><span class=s1>'other'</span><span class=p>)</span>
   <span class=p>})</span>
<span class=p>}</span>
<span class=nx>promise</span><span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>value</span> <span class=p>=&gt;</span> <span class=p>{</span>
   <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
   <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'resolve'</span><span class=p>,</span> <span class=nx>value</span><span class=p>)</span>
   <span class=k>return</span> <span class=nx>other</span><span class=p>()</span>
<span class=p>}).</span><span class=nx>then</span><span class=p>(</span><span class=nx>value</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'resolve'</span><span class=p>,</span> <span class=nx>value</span><span class=p>)</span>
<span class=p>})</span>
<span class=c1>// myPromise.js
</span><span class=c1></span><span class=kr>const</span> <span class=nx>PENDING</span> <span class=o>=</span> <span class=s1>'pending'</span>
<span class=kr>const</span> <span class=nx>FULFILLED</span> <span class=o>=</span> <span class=s1>'fulfilled'</span>
<span class=kr>const</span> <span class=nx>REJECTED</span> <span class=o>=</span> <span class=s1>'rejected'</span>
<span class=kr>class</span> <span class=nx>MyPromise</span> <span class=p>{</span>
  <span class=nx>constructor</span> <span class=p>(</span><span class=nx>exector</span><span class=p>)</span> <span class=p>{</span>
    <span class=nx>exector</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>resolve</span><span class=p>,</span> <span class=k>this</span><span class=p>.</span><span class=nx>reject</span><span class=p>)</span>
  <span class=p>}</span>

  <span class=nx>status</span> <span class=o>=</span> <span class=nx>PENDING</span>
  <span class=nx>value</span> <span class=o>=</span> <span class=kc>undefined</span>
  <span class=nx>reason</span> <span class=o>=</span> <span class=kc>undefined</span>
  <span class=nx>successCallback</span> <span class=o>=</span> <span class=p>[]</span>
  <span class=nx>failCallback</span> <span class=o>=</span> <span class=p>[]</span>

  <span class=nx>resolve</span> <span class=o>=</span> <span class=nx>value</span> <span class=p>=&gt;</span> <span class=p>{</span>
    <span class=k>if</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>!==</span> <span class=nx>PENDING</span><span class=p>)</span> <span class=k>return</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>=</span> <span class=nx>FULFILLED</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=nx>value</span>
    <span class=k>while</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>successCallback</span><span class=p>.</span><span class=nx>length</span><span class=p>)</span> <span class=k>this</span><span class=p>.</span><span class=nx>successCallback</span><span class=p>.</span><span class=nx>shift</span><span class=p>()(</span><span class=k>this</span><span class=p>.</span><span class=nx>value</span><span class=p>)</span>
  <span class=p>}</span>

  <span class=nx>reject</span> <span class=o>=</span> <span class=nx>reason</span> <span class=p>=&gt;</span> <span class=p>{</span>
    <span class=k>if</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>!==</span> <span class=nx>PENDING</span><span class=p>)</span> <span class=k>return</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>=</span> <span class=nx>REJECTED</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>reason</span> <span class=o>=</span> <span class=nx>reason</span>
    <span class=k>while</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>failCallback</span><span class=p>.</span><span class=nx>length</span><span class=p>)</span> <span class=k>this</span><span class=p>.</span><span class=nx>failCallback</span><span class=p>.</span><span class=nx>shift</span><span class=p>()(</span><span class=k>this</span><span class=p>.</span><span class=nx>reason</span><span class=p>)</span>
  <span class=p>}</span>

  <span class=nx>then</span> <span class=p>(</span><span class=nx>successCallback</span><span class=p>,</span> <span class=nx>failCallback</span><span class=p>)</span> <span class=p>{</span>
    <span class=c1>// then方法返回第一个promise对象
</span><span class=c1></span>    <span class=kd>let</span> <span class=nx>promise2</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>MyPromise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
      <span class=k>if</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>===</span> <span class=nx>FULFILLED</span><span class=p>)</span> <span class=p>{</span>
        <span class=c1>// x是上一个promise回调函数的return返回值
</span><span class=c1></span>        <span class=c1>// 判断 x 的值时普通值还是promise对象
</span><span class=c1></span>        <span class=c1>// 如果是普通纸 直接调用resolve
</span><span class=c1></span>        <span class=c1>// 如果是promise对象 查看promise对象返回的结果
</span><span class=c1></span>        <span class=c1>// 再根据promise对象返回的结果 决定调用resolve还是reject
</span><span class=c1></span>        <span class=kd>let</span> <span class=nx>x</span> <span class=o>=</span> <span class=nx>successCallback</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>value</span><span class=p>)</span>
        <span class=nx>resolvePromise</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span> <span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span>
      <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>===</span> <span class=nx>REJECTED</span><span class=p>)</span> <span class=p>{</span>
        <span class=nx>failCallback</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>reason</span><span class=p>)</span>
      <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
        <span class=k>this</span><span class=p>.</span><span class=nx>successCallback</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=nx>successCallback</span><span class=p>)</span>
        <span class=k>this</span><span class=p>.</span><span class=nx>failCallback</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=nx>failCallback</span><span class=p>)</span>
      <span class=p>}</span>
    <span class=p>});</span>
    <span class=k>return</span> <span class=nx>promise2</span>
  <span class=p>}</span>
<span class=p>}</span>

<span class=kd>function</span> <span class=nx>resolvePromise</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span> <span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>{</span>
  <span class=c1>// 判断x是不是其实例对象
</span><span class=c1></span>  <span class=k>if</span><span class=p>(</span><span class=nx>x</span> <span class=k>instanceof</span> <span class=nx>MyPromise</span><span class=p>)</span> <span class=p>{</span>
    <span class=c1>// promise 对象
</span><span class=c1></span>    <span class=c1>// x.then(value =&gt; resolve(value), reason =&gt; reject(reason))
</span><span class=c1></span>    <span class=c1>// 简化之后
</span><span class=c1></span>    <span class=nx>x</span><span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span>
  <span class=p>}</span> <span class=k>else</span><span class=p>{</span>
    <span class=c1>// 普通值
</span><span class=c1></span>    <span class=nx>resolve</span><span class=p>(</span><span class=nx>x</span><span class=p>)</span>
  <span class=p>}</span>
<span class=p>}</span>

<span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=nx>MyPromise</span>
</code></pre></div><h3>五、then方法链式调用识别 Promise 对象自返回</h3><p data-pid=XwnWvfia>如果then方法返回的是自己的promise对象，则会发生promise的嵌套，这个时候程序会报错<div class=highlight><pre><code class=language-js><span class=kd>var</span> <span class=nx>promise</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Promise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>resolve</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span>
<span class=p>})</span>
<span class=kd>var</span> <span class=nx>p1</span> <span class=o>=</span> <span class=nx>promise</span><span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>value</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>value</span><span class=p>)</span>
  <span class=k>return</span> <span class=nx>p1</span>
<span class=p>})</span>

<span class=c1>// 100
</span><span class=c1>// Uncaught (in promise) TypeError: Chaining cycle detected for promise #&lt;Promise&gt;
</span></code></pre></div><p data-pid=4RfV3-_R>所以为了避免这种情况，我们需要改造一下then方法<div class=highlight><pre><code class=language-js><span class=c1>// myPromise.js
</span><span class=c1></span><span class=kr>const</span> <span class=p>{</span> <span class=nx>rejects</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s2>"assert"</span><span class=p>)</span>

<span class=kr>const</span> <span class=nx>PENDING</span> <span class=o>=</span> <span class=s1>'pending'</span>
<span class=kr>const</span> <span class=nx>FULFILLED</span> <span class=o>=</span> <span class=s1>'fulfilled'</span>
<span class=kr>const</span> <span class=nx>REJECTED</span> <span class=o>=</span> <span class=s1>'rejected'</span>
<span class=kr>class</span> <span class=nx>MyPromise</span> <span class=p>{</span>
  <span class=nx>constructor</span> <span class=p>(</span><span class=nx>exector</span><span class=p>)</span> <span class=p>{</span>
    <span class=nx>exector</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>resolve</span><span class=p>,</span> <span class=k>this</span><span class=p>.</span><span class=nx>reject</span><span class=p>)</span>
  <span class=p>}</span>


  <span class=nx>status</span> <span class=o>=</span> <span class=nx>PENDING</span>
  <span class=nx>value</span> <span class=o>=</span> <span class=kc>undefined</span>
  <span class=nx>reason</span> <span class=o>=</span> <span class=kc>undefined</span>
  <span class=nx>successCallback</span> <span class=o>=</span> <span class=p>[]</span>
  <span class=nx>failCallback</span> <span class=o>=</span> <span class=p>[]</span>

  <span class=nx>resolve</span> <span class=o>=</span> <span class=nx>value</span> <span class=p>=&gt;</span> <span class=p>{</span>
    <span class=k>if</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>!==</span> <span class=nx>PENDING</span><span class=p>)</span> <span class=k>return</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>=</span> <span class=nx>FULFILLED</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=nx>value</span>
    <span class=k>while</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>successCallback</span><span class=p>.</span><span class=nx>length</span><span class=p>)</span> <span class=k>this</span><span class=p>.</span><span class=nx>successCallback</span><span class=p>.</span><span class=nx>shift</span><span class=p>()(</span><span class=k>this</span><span class=p>.</span><span class=nx>value</span><span class=p>)</span>
  <span class=p>}</span>

  <span class=nx>reject</span> <span class=o>=</span> <span class=nx>reason</span> <span class=p>=&gt;</span> <span class=p>{</span>
    <span class=k>if</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>!==</span> <span class=nx>PENDING</span><span class=p>)</span> <span class=k>return</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>=</span> <span class=nx>REJECTED</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>reason</span> <span class=o>=</span> <span class=nx>reason</span>
    <span class=k>while</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>failCallback</span><span class=p>.</span><span class=nx>length</span><span class=p>)</span> <span class=k>this</span><span class=p>.</span><span class=nx>failCallback</span><span class=p>.</span><span class=nx>shift</span><span class=p>()(</span><span class=k>this</span><span class=p>.</span><span class=nx>reason</span><span class=p>)</span>
  <span class=p>}</span>

  <span class=nx>then</span> <span class=p>(</span><span class=nx>successCallback</span><span class=p>,</span> <span class=nx>failCallback</span><span class=p>)</span> <span class=p>{</span>
    <span class=kd>let</span> <span class=nx>promise2</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>MyPromise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
      <span class=k>if</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>===</span> <span class=nx>FULFILLED</span><span class=p>)</span> <span class=p>{</span>
        <span class=c1>// 因为new Promise需要执行完成之后才有promise2，同步代码中没有pormise2，
</span><span class=c1></span>        <span class=c1>// 所以这部分代码需要异步执行
</span><span class=c1></span>        <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
          <span class=kd>let</span> <span class=nx>x</span> <span class=o>=</span> <span class=nx>successCallback</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>value</span><span class=p>)</span>
          <span class=c1>//需要判断then之后return的promise对象和原来的是不是一样的，
</span><span class=c1></span>          <span class=c1>//判断x和promise2是否相等，所以给resolvePromise中传递promise2过去
</span><span class=c1></span>          <span class=nx>resolvePromise</span><span class=p>(</span><span class=nx>promise2</span><span class=p>,</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span>
        <span class=p>},</span> <span class=mi>0</span><span class=p>);</span>
      <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>===</span> <span class=nx>REJECTED</span><span class=p>)</span> <span class=p>{</span>
        <span class=nx>failCallback</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>reason</span><span class=p>)</span>
      <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
        <span class=k>this</span><span class=p>.</span><span class=nx>successCallback</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=nx>successCallback</span><span class=p>)</span>
        <span class=k>this</span><span class=p>.</span><span class=nx>failCallback</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=nx>failCallback</span><span class=p>)</span>
      <span class=p>}</span>
    <span class=p>});</span>
    <span class=k>return</span> <span class=nx>promise2</span>
  <span class=p>}</span>
<span class=p>}</span>

<span class=kd>function</span> <span class=nx>resolvePromise</span><span class=p>(</span><span class=nx>promise2</span><span class=p>,</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>{</span>
  <span class=c1>// 如果相等了，说明return的是自己，抛出类型错误并返回
</span><span class=c1></span>  <span class=k>if</span> <span class=p>(</span><span class=nx>promise2</span> <span class=o>===</span> <span class=nx>x</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>return</span> <span class=nx>reject</span><span class=p>(</span><span class=k>new</span> <span class=nx>TypeError</span><span class=p>(</span><span class=s1>'Chaining cycle detected for promise #&lt;Promise&gt;'</span><span class=p>))</span>
  <span class=p>}</span>
  <span class=k>if</span><span class=p>(</span><span class=nx>x</span> <span class=k>instanceof</span> <span class=nx>MyPromise</span><span class=p>)</span> <span class=p>{</span>
    <span class=nx>x</span><span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span>
  <span class=p>}</span> <span class=k>else</span><span class=p>{</span>
    <span class=nx>resolve</span><span class=p>(</span><span class=nx>x</span><span class=p>)</span>
  <span class=p>}</span>
<span class=p>}</span>

<span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=nx>MyPromise</span>
<span class=c1>// promise.js
</span><span class=c1></span><span class=kr>const</span> <span class=nx>MyPromise</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>'./myPromise'</span><span class=p>)</span>
<span class=kd>let</span> <span class=nx>promise</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>MyPromise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
    <span class=nx>resolve</span><span class=p>(</span><span class=s1>'success'</span><span class=p>)</span>
<span class=p>})</span>

<span class=c1>// 这个时候将promise定义一个p1，然后返回的时候返回p1这个promise
</span><span class=c1></span><span class=kd>let</span> <span class=nx>p1</span> <span class=o>=</span> <span class=nx>promise</span><span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>value</span> <span class=p>=&gt;</span> <span class=p>{</span>
   <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
   <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'resolve'</span><span class=p>,</span> <span class=nx>value</span><span class=p>)</span>
   <span class=k>return</span> <span class=nx>p1</span>
<span class=p>})</span>

<span class=c1>// 运行的时候会走reject
</span><span class=c1></span><span class=nx>p1</span><span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>value</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'resolve'</span><span class=p>,</span> <span class=nx>value</span><span class=p>)</span>
<span class=p>},</span> <span class=nx>reason</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>reason</span><span class=p>.</span><span class=nx>message</span><span class=p>)</span>
<span class=p>})</span>

<span class=c1>// 1
</span><span class=c1>// resolve success
</span><span class=c1>// 3
</span><span class=c1>// Chaining cycle detected for promise #&lt;Promise&gt;
</span></code></pre></div><h3>六、捕获错误及 then 链式调用其他状态代码补充</h3><p data-pid=9j_69XQo>目前我们在Promise类中没有进行任何处理，所以我们需要捕获和处理错误。<h3>1. 捕获执行器的错误</h3><p data-pid=N_irmgMF>捕获执行器中的代码，如果执行器中有代码错误，那么promise的状态要弄成错误状态<div class=highlight><pre><code class=language-js><span class=c1>// myPromise.js
</span><span class=c1></span><span class=nx>constructor</span> <span class=p>(</span><span class=nx>exector</span><span class=p>)</span> <span class=p>{</span>
    <span class=c1>// 捕获错误，如果有错误就执行reject
</span><span class=c1></span>    <span class=k>try</span> <span class=p>{</span>
        <span class=nx>exector</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>resolve</span><span class=p>,</span> <span class=k>this</span><span class=p>.</span><span class=nx>reject</span><span class=p>)</span>
    <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>this</span><span class=p>.</span><span class=nx>reject</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span>
    <span class=p>}</span>
<span class=p>}</span>
<span class=c1>// promise.js
</span><span class=c1></span><span class=kr>const</span> <span class=nx>MyPromise</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>'./myPromise'</span><span class=p>)</span>
<span class=kd>let</span> <span class=nx>promise</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>MyPromise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
    <span class=c1>// resolve('success')
</span><span class=c1></span>    <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s1>'执行器错误'</span><span class=p>)</span>
<span class=p>})</span>

<span class=nx>promise</span><span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>value</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'resolve'</span><span class=p>,</span> <span class=nx>value</span><span class=p>)</span>
<span class=p>},</span> <span class=nx>reason</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>reason</span><span class=p>.</span><span class=nx>message</span><span class=p>)</span>
<span class=p>})</span>

<span class=c1>//2
</span><span class=c1>//执行器错误
</span></code></pre></div><h3>2. then执行的时候报错捕获</h3><div class=highlight><pre><code class=language-js><span class=c1>// myPromise.js
</span><span class=c1></span><span class=nx>then</span> <span class=p>(</span><span class=nx>successCallback</span><span class=p>,</span> <span class=nx>failCallback</span><span class=p>)</span> <span class=p>{</span>
    <span class=kd>let</span> <span class=nx>promise2</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Promise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
        <span class=k>if</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>===</span> <span class=nx>FULFILLED</span><span class=p>)</span> <span class=p>{</span>
            <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
                <span class=c1>// 如果回调中报错的话就执行reject
</span><span class=c1></span>                <span class=k>try</span> <span class=p>{</span>
                    <span class=kd>let</span> <span class=nx>x</span> <span class=o>=</span> <span class=nx>successCallback</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>value</span><span class=p>)</span>
                    <span class=nx>resolvePromise</span><span class=p>(</span><span class=nx>promise2</span><span class=p>,</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span>
                <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
                    <span class=nx>reject</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span>
                <span class=p>}</span>
            <span class=p>},</span> <span class=mi>0</span><span class=p>);</span>
        <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>===</span> <span class=nx>REJECTED</span><span class=p>)</span> <span class=p>{</span>
            <span class=nx>failCallback</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>reason</span><span class=p>)</span>
        <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
            <span class=k>this</span><span class=p>.</span><span class=nx>successCallback</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=nx>successCallback</span><span class=p>)</span>
            <span class=k>this</span><span class=p>.</span><span class=nx>failCallback</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=nx>failCallback</span><span class=p>)</span>
        <span class=p>}</span>
    <span class=p>});</span>
    <span class=k>return</span> <span class=nx>promise2</span>
<span class=p>}</span>
<span class=c1>// promise.js
</span><span class=c1></span><span class=kr>const</span> <span class=nx>MyPromise</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>'./myPromise'</span><span class=p>)</span>
<span class=kd>let</span> <span class=nx>promise</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>MyPromise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
    <span class=nx>resolve</span><span class=p>(</span><span class=s1>'success'</span><span class=p>)</span>
    <span class=c1>// throw new Error('执行器错误')
</span><span class=c1></span> <span class=p>})</span>

<span class=c1>// 第一个then方法中的错误要在第二个then方法中捕获到
</span><span class=c1></span><span class=nx>promise</span><span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>value</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'resolve'</span><span class=p>,</span> <span class=nx>value</span><span class=p>)</span>
  <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s1>'then error'</span><span class=p>)</span>
<span class=p>},</span> <span class=nx>reason</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>reason</span><span class=p>.</span><span class=nx>message</span><span class=p>)</span>
<span class=p>}).</span><span class=nx>then</span><span class=p>(</span><span class=nx>value</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>value</span><span class=p>);</span>
<span class=p>},</span> <span class=nx>reason</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mi>4</span><span class=p>)</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>reason</span><span class=p>.</span><span class=nx>message</span><span class=p>)</span>
<span class=p>})</span>

<span class=c1>// 1
</span><span class=c1>// resolve success
</span><span class=c1>// 4
</span><span class=c1>// then error
</span></code></pre></div><h3>3. 错误之后的链式调用</h3><div class=highlight><pre><code class=language-js><span class=c1>// myPromise.js
</span><span class=c1></span><span class=nx>then</span> <span class=p>(</span><span class=nx>successCallback</span><span class=p>,</span> <span class=nx>failCallback</span><span class=p>)</span> <span class=p>{</span>
    <span class=kd>let</span> <span class=nx>promise2</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Promise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
        <span class=k>if</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>===</span> <span class=nx>FULFILLED</span><span class=p>)</span> <span class=p>{</span>
            <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
                <span class=k>try</span> <span class=p>{</span>
                    <span class=kd>let</span> <span class=nx>x</span> <span class=o>=</span> <span class=nx>successCallback</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>value</span><span class=p>)</span>
                    <span class=nx>resolvePromise</span><span class=p>(</span><span class=nx>promise2</span><span class=p>,</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span>
                <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
                    <span class=nx>reject</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span>
                <span class=p>}</span>
            <span class=p>},</span> <span class=mi>0</span><span class=p>)</span>
        <span class=c1>// 在状态是reject的时候对返回的promise进行处理
</span><span class=c1></span>        <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>===</span> <span class=nx>REJECTED</span><span class=p>)</span> <span class=p>{</span>
            <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
                <span class=c1>// 如果回调中报错的话就执行reject
</span><span class=c1></span>                <span class=k>try</span> <span class=p>{</span>
                    <span class=kd>let</span> <span class=nx>x</span> <span class=o>=</span> <span class=nx>failCallback</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>reason</span><span class=p>)</span>
                    <span class=nx>resolvePromise</span><span class=p>(</span><span class=nx>promise2</span><span class=p>,</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span>
                <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
                    <span class=nx>reject</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span>
                <span class=p>}</span>
            <span class=p>},</span> <span class=mi>0</span><span class=p>)</span>
        <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
            <span class=k>this</span><span class=p>.</span><span class=nx>successCallback</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=nx>successCallback</span><span class=p>)</span>
            <span class=k>this</span><span class=p>.</span><span class=nx>failCallback</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=nx>failCallback</span><span class=p>)</span>
        <span class=p>}</span>
    <span class=p>});</span>
    <span class=k>return</span> <span class=nx>promise2</span>
<span class=p>}</span>
<span class=c1>//promise.js
</span><span class=c1></span><span class=kr>const</span> <span class=nx>MyPromise</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>'./myPromise'</span><span class=p>)</span>
<span class=kd>let</span> <span class=nx>promise</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>MyPromise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
    <span class=c1>// resolve('success')
</span><span class=c1></span>    <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s1>'执行器错误'</span><span class=p>)</span>
 <span class=p>})</span>

 <span class=c1>// 第一个then方法中的错误要在第二个then方法中捕获到
</span><span class=c1></span> <span class=nx>promise</span><span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>value</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'resolve'</span><span class=p>,</span> <span class=nx>value</span><span class=p>)</span>
<span class=p>},</span> <span class=nx>reason</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>reason</span><span class=p>.</span><span class=nx>message</span><span class=p>)</span>
  <span class=k>return</span> <span class=mi>100</span>
<span class=p>}).</span><span class=nx>then</span><span class=p>(</span><span class=nx>value</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>value</span><span class=p>);</span>
<span class=p>},</span> <span class=nx>reason</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mi>4</span><span class=p>)</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>reason</span><span class=p>.</span><span class=nx>message</span><span class=p>)</span>
<span class=p>})</span>

<span class=c1>// 2
</span><span class=c1>// 执行器错误
</span><span class=c1>// 3
</span><span class=c1>// 100
</span></code></pre></div><h3>4. 异步状态下链式调用</h3><p data-pid=-8Vr0P7a>还是要处理一下如果promise里面有异步的时候，then的链式调用的问题。<div class=highlight><pre><code class=language-js><span class=c1>// myPromise.js
</span><span class=c1></span><span class=kr>const</span> <span class=nx>PENDING</span> <span class=o>=</span> <span class=s1>'pending'</span>
<span class=kr>const</span> <span class=nx>FULFILLED</span> <span class=o>=</span> <span class=s1>'fulfilled'</span>
<span class=kr>const</span> <span class=nx>REJECTED</span> <span class=o>=</span> <span class=s1>'rejected'</span>
<span class=kr>class</span> <span class=nx>MyPromise</span> <span class=p>{</span>
  <span class=nx>constructor</span> <span class=p>(</span><span class=nx>exector</span><span class=p>)</span> <span class=p>{</span>
    <span class=c1>// 捕获错误，如果有错误就执行reject
</span><span class=c1></span>    <span class=k>try</span> <span class=p>{</span>
      <span class=nx>exector</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>resolve</span><span class=p>,</span> <span class=k>this</span><span class=p>.</span><span class=nx>reject</span><span class=p>)</span>
    <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
      <span class=k>this</span><span class=p>.</span><span class=nx>reject</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span>
    <span class=p>}</span>
  <span class=p>}</span>


  <span class=nx>status</span> <span class=o>=</span> <span class=nx>PENDING</span>
  <span class=nx>value</span> <span class=o>=</span> <span class=kc>undefined</span>
  <span class=nx>reason</span> <span class=o>=</span> <span class=kc>undefined</span>
  <span class=nx>successCallback</span> <span class=o>=</span> <span class=p>[]</span>
  <span class=nx>failCallback</span> <span class=o>=</span> <span class=p>[]</span>

  <span class=nx>resolve</span> <span class=o>=</span> <span class=nx>value</span> <span class=p>=&gt;</span> <span class=p>{</span>
    <span class=k>if</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>!==</span> <span class=nx>PENDING</span><span class=p>)</span> <span class=k>return</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>=</span> <span class=nx>FULFILLED</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=nx>value</span>
    <span class=c1>// 异步回调传值
</span><span class=c1></span>    <span class=c1>// 调用的时候不需要传值，因为下面push到里面的时候已经处理好了
</span><span class=c1></span>    <span class=k>while</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>successCallback</span><span class=p>.</span><span class=nx>length</span><span class=p>)</span> <span class=k>this</span><span class=p>.</span><span class=nx>successCallback</span><span class=p>.</span><span class=nx>shift</span><span class=p>()()</span>
  <span class=p>}</span>

  <span class=nx>reject</span> <span class=o>=</span> <span class=nx>reason</span> <span class=p>=&gt;</span> <span class=p>{</span>
    <span class=k>if</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>!==</span> <span class=nx>PENDING</span><span class=p>)</span> <span class=k>return</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>=</span> <span class=nx>REJECTED</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>reason</span> <span class=o>=</span> <span class=nx>reason</span>
    <span class=c1>// 异步回调传值
</span><span class=c1></span>    <span class=c1>// 调用的时候不需要传值，因为下面push到里面的时候已经处理好了
</span><span class=c1></span>    <span class=k>while</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>failCallback</span><span class=p>.</span><span class=nx>length</span><span class=p>)</span> <span class=k>this</span><span class=p>.</span><span class=nx>failCallback</span><span class=p>.</span><span class=nx>shift</span><span class=p>()()</span>
  <span class=p>}</span>

  <span class=nx>then</span> <span class=p>(</span><span class=nx>successCallback</span><span class=p>,</span> <span class=nx>failCallback</span><span class=p>)</span> <span class=p>{</span>
    <span class=kd>let</span> <span class=nx>promise2</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>MyPromise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
      <span class=k>if</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>===</span> <span class=nx>FULFILLED</span><span class=p>)</span> <span class=p>{</span>
        <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
          <span class=c1>// 如果回调中报错的话就执行reject
</span><span class=c1></span>          <span class=k>try</span> <span class=p>{</span>
            <span class=kd>let</span> <span class=nx>x</span> <span class=o>=</span> <span class=nx>successCallback</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>value</span><span class=p>)</span>
            <span class=nx>resolvePromise</span><span class=p>(</span><span class=nx>promise2</span><span class=p>,</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span>
          <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
            <span class=nx>reject</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span>
          <span class=p>}</span>
        <span class=p>},</span> <span class=mi>0</span><span class=p>)</span>
      <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>===</span> <span class=nx>REJECTED</span><span class=p>)</span> <span class=p>{</span>
        <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
          <span class=c1>// 如果回调中报错的话就执行reject
</span><span class=c1></span>          <span class=k>try</span> <span class=p>{</span>
            <span class=kd>let</span> <span class=nx>x</span> <span class=o>=</span> <span class=nx>failCallback</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>reason</span><span class=p>)</span>
            <span class=nx>resolvePromise</span><span class=p>(</span><span class=nx>promise2</span><span class=p>,</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span>
          <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
            <span class=nx>reject</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span>
          <span class=p>}</span>
        <span class=p>},</span> <span class=mi>0</span><span class=p>)</span>
      <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
        <span class=c1>// 处理异步的成功错误情况
</span><span class=c1></span>        <span class=k>this</span><span class=p>.</span><span class=nx>successCallback</span><span class=p>.</span><span class=nx>push</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
          <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
            <span class=c1>// 如果回调中报错的话就执行reject
</span><span class=c1></span>            <span class=k>try</span> <span class=p>{</span>
              <span class=kd>let</span> <span class=nx>x</span> <span class=o>=</span> <span class=nx>successCallback</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>value</span><span class=p>)</span>
              <span class=nx>resolvePromise</span><span class=p>(</span><span class=nx>promise2</span><span class=p>,</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span>
            <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
              <span class=nx>reject</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span>
            <span class=p>}</span>
          <span class=p>},</span> <span class=mi>0</span><span class=p>)</span>
        <span class=p>})</span>
        <span class=k>this</span><span class=p>.</span><span class=nx>failCallback</span><span class=p>.</span><span class=nx>push</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
          <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
            <span class=c1>// 如果回调中报错的话就执行reject
</span><span class=c1></span>            <span class=k>try</span> <span class=p>{</span>
              <span class=kd>let</span> <span class=nx>x</span> <span class=o>=</span> <span class=nx>failCallback</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>reason</span><span class=p>)</span>
              <span class=nx>resolvePromise</span><span class=p>(</span><span class=nx>promise2</span><span class=p>,</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span>
            <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
              <span class=nx>reject</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span>
            <span class=p>}</span>
          <span class=p>},</span> <span class=mi>0</span><span class=p>)</span>
        <span class=p>})</span>
      <span class=p>}</span>
    <span class=p>});</span>
    <span class=k>return</span> <span class=nx>promise2</span>
  <span class=p>}</span>
<span class=p>}</span>

<span class=kd>function</span> <span class=nx>resolvePromise</span><span class=p>(</span><span class=nx>promise2</span><span class=p>,</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>if</span> <span class=p>(</span><span class=nx>promise2</span> <span class=o>===</span> <span class=nx>x</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>return</span> <span class=nx>reject</span><span class=p>(</span><span class=k>new</span> <span class=nx>TypeError</span><span class=p>(</span><span class=s1>'Chaining cycle detected for promise #&lt;Promise&gt;'</span><span class=p>))</span>
  <span class=p>}</span>
  <span class=k>if</span><span class=p>(</span><span class=nx>x</span> <span class=k>instanceof</span> <span class=nx>MyPromise</span><span class=p>)</span> <span class=p>{</span>
    <span class=nx>x</span><span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span>
  <span class=p>}</span> <span class=k>else</span><span class=p>{</span>
    <span class=nx>resolve</span><span class=p>(</span><span class=nx>x</span><span class=p>)</span>
  <span class=p>}</span>
<span class=p>}</span>

<span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=nx>MyPromise</span>
<span class=c1>// promise.js
</span><span class=c1></span><span class=kr>const</span> <span class=nx>MyPromise</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>'./myPromise'</span><span class=p>)</span>
<span class=kd>let</span> <span class=nx>promise</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>MyPromise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=c1>// 一个异步方法
</span><span class=c1></span>  <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;{</span>
    <span class=nx>resolve</span><span class=p>(</span><span class=s1>'succ'</span><span class=p>)</span>
  <span class=p>},</span><span class=mi>2000</span><span class=p>)</span>
<span class=p>})</span>

 <span class=nx>promise</span><span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>value</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'resolve'</span><span class=p>,</span> <span class=nx>value</span><span class=p>)</span>
  <span class=k>return</span> <span class=s1>'aaa'</span>
<span class=p>},</span> <span class=nx>reason</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>reason</span><span class=p>.</span><span class=nx>message</span><span class=p>)</span>
  <span class=k>return</span> <span class=mi>100</span>
<span class=p>}).</span><span class=nx>then</span><span class=p>(</span><span class=nx>value</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>value</span><span class=p>);</span>
<span class=p>},</span> <span class=nx>reason</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mi>4</span><span class=p>)</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>reason</span><span class=p>.</span><span class=nx>message</span><span class=p>)</span>
<span class=p>})</span>

<span class=c1>// 1
</span><span class=c1>// resolve succ
</span><span class=c1>// 3
</span><span class=c1>// aaa
</span></code></pre></div><h3>七、将then方法的参数变成可选参数</h3><p data-pid=uobW6kma>then方法的两个参数都是可选参数，我们可以不传参数。 下面的参数可以传递到最后进行返回<div class=highlight><pre><code class=language-js><span class=kd>var</span> <span class=nx>promise</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Promise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
      <span class=nx>resolve</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span>
    <span class=p>})</span>
    <span class=nx>promise</span>
      <span class=p>.</span><span class=nx>then</span><span class=p>()</span>
      <span class=p>.</span><span class=nx>then</span><span class=p>()</span>
      <span class=p>.</span><span class=nx>then</span><span class=p>()</span>
      <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>value</span> <span class=p>=&gt;</span> <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>value</span><span class=p>))</span>
<span class=c1>// 在控制台最后一个then中输出了100
</span><span class=c1></span>
<span class=c1>// 这个相当于
</span><span class=c1></span><span class=nx>promise</span>
  <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>value</span> <span class=p>=&gt;</span> <span class=nx>value</span><span class=p>)</span>
  <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>value</span> <span class=p>=&gt;</span> <span class=nx>value</span><span class=p>)</span>
  <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>value</span> <span class=p>=&gt;</span> <span class=nx>value</span><span class=p>)</span>
  <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>value</span> <span class=p>=&gt;</span> <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>value</span><span class=p>))</span>
</code></pre></div><p data-pid=q7sSjN6x>所以我们修改一下then方法<div class=highlight><pre><code class=language-js><span class=c1>// myPromise.js
</span><span class=c1></span><span class=nx>then</span> <span class=p>(</span><span class=nx>successCallback</span><span class=p>,</span> <span class=nx>failCallback</span><span class=p>)</span> <span class=p>{</span>
    <span class=c1>// 这里进行判断，如果有回调就选择回调，如果没有回调就传一个函数，把参数传递
</span><span class=c1></span>    <span class=nx>successCallback</span> <span class=o>=</span> <span class=nx>successCallback</span> <span class=o>?</span> <span class=nx>successCallback</span> <span class=o>:</span> <span class=nx>value</span> <span class=p>=&gt;</span> <span class=nx>value</span>
    <span class=c1>// 错误函数也是进行赋值，把错误信息抛出
</span><span class=c1></span>    <span class=nx>failCallback</span> <span class=o>=</span> <span class=nx>failCallback</span> <span class=o>?</span> <span class=nx>failCallback</span> <span class=o>:</span> <span class=nx>reason</span> <span class=p>=&gt;</span> <span class=p>{</span><span class=k>throw</span> <span class=nx>reason</span><span class=p>}</span>
    <span class=kd>let</span> <span class=nx>promise2</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Promise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
        <span class=p>...</span>
    <span class=p>})</span>
    <span class=p>...</span>
<span class=p>}</span>


<span class=c1>// 简化也可以这样写
</span><span class=c1></span><span class=nx>then</span> <span class=p>(</span><span class=nx>successCallback</span> <span class=o>=</span> <span class=nx>value</span> <span class=p>=&gt;</span> <span class=nx>value</span><span class=p>,</span> <span class=nx>failCallback</span> <span class=o>=</span> <span class=nx>reason</span> <span class=p>=&gt;</span> <span class=p>{</span><span class=k>throw</span> <span class=nx>reason</span><span class=p>})</span> <span class=p>{</span>
    <span class=err>···</span>
<span class=p>}</span>
</code></pre></div><p data-pid=DgW1ZpCd>resolve之后<div class=highlight><pre><code class=language-js><span class=c1>// promise.js
</span><span class=c1></span><span class=kr>const</span> <span class=nx>MyPromise</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>'./myPromise'</span><span class=p>)</span>
<span class=kd>let</span> <span class=nx>promise</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>MyPromise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>resolve</span><span class=p>(</span><span class=s1>'succ'</span><span class=p>)</span>
<span class=p>})</span>

<span class=nx>promise</span><span class=p>.</span><span class=nx>then</span><span class=p>().</span><span class=nx>then</span><span class=p>().</span><span class=nx>then</span><span class=p>(</span><span class=nx>value</span> <span class=p>=&gt;</span> <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>value</span><span class=p>))</span>

<span class=c1>// succ
</span></code></pre></div><p data-pid=hJBKWB_g>reject之后<div class=highlight><pre><code class=language-js><span class=c1>// promise.js
</span><span class=c1></span><span class=kr>const</span> <span class=nx>MyPromise</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>'./myPromise'</span><span class=p>)</span>
<span class=kd>let</span> <span class=nx>promise</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>MyPromise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>reject</span><span class=p>(</span><span class=s1>'err'</span><span class=p>)</span>
<span class=p>})</span>

 <span class=nx>promise</span><span class=p>.</span><span class=nx>then</span><span class=p>().</span><span class=nx>then</span><span class=p>().</span><span class=nx>then</span><span class=p>(</span><span class=nx>value</span> <span class=p>=&gt;</span> <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>value</span><span class=p>),</span> <span class=nx>reason</span> <span class=p>=&gt;</span> <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>reason</span><span class=p>))</span>

<span class=c1>// err
</span></code></pre></div><h3>八、promise.all方法的实现</h3><p data-pid=IoS0k2bV>promise.all方法是解决异步并发问题的<div class=highlight><pre><code class=language-js><span class=c1>// 如果p1是两秒之后执行的，p2是立即执行的，那么根据正常的是p2在p1的前面。
</span><span class=c1>// 如果我们在all中指定了执行顺序，那么会根据我们传递的顺序进行执行。
</span><span class=c1></span><span class=kd>function</span> <span class=nx>p1</span> <span class=p>()</span> <span class=p>{</span>
  <span class=k>return</span> <span class=k>new</span> <span class=nb>Promise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
    <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
      <span class=nx>resolve</span><span class=p>(</span><span class=s1>'p1'</span><span class=p>)</span>
    <span class=p>},</span> <span class=mi>2000</span><span class=p>)</span>
  <span class=p>})</span>
<span class=p>}</span>

<span class=kd>function</span> <span class=nx>p2</span> <span class=p>()</span> <span class=p>{</span>
  <span class=k>return</span> <span class=k>new</span> <span class=nb>Promise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
    <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
      <span class=nx>resolve</span><span class=p>(</span><span class=s1>'p2'</span><span class=p>)</span>
    <span class=p>},</span><span class=mi>0</span><span class=p>)</span>
  <span class=p>})</span>
<span class=p>}</span>

<span class=nb>Promise</span><span class=p>.</span><span class=nx>all</span><span class=p>([</span><span class=s1>'a'</span><span class=p>,</span> <span class=s1>'b'</span><span class=p>,</span> <span class=nx>p1</span><span class=p>(),</span> <span class=nx>p2</span><span class=p>(),</span> <span class=s1>'c'</span><span class=p>]).</span><span class=nx>then</span><span class=p>(</span><span class=nx>result</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>result</span><span class=p>)</span>
  <span class=c1>// ["a", "b", "p1", "p2", "c"]
</span><span class=c1></span><span class=p>})</span>
</code></pre></div><p data-pid=A9wj596w>分析一下： - all方法接收一个数组，数组中可以是普通值也可以是promise对象 - 数组中值得顺序一定是我们得到的结果的顺序 - promise返回值也是一个promise对象，可以调用then方法 - 如果数组中所有值是成功的，那么then里面就是成功回调，如果有一个值是失败的，那么then里面就是失败的 - 使用all方法是用类直接调用，那么all一定是一个静态方法<div class=highlight><pre><code class=language-js><span class=c1>//myPromise.js
</span><span class=c1></span><span class=kr>static</span> <span class=nx>all</span> <span class=p>(</span><span class=nx>array</span><span class=p>)</span> <span class=p>{</span>
    <span class=c1>//  结果数组
</span><span class=c1></span>    <span class=kd>let</span> <span class=nx>result</span> <span class=o>=</span> <span class=p>[]</span>
    <span class=c1>// 计数器
</span><span class=c1></span>    <span class=kd>let</span> <span class=nx>index</span> <span class=o>=</span> <span class=mi>0</span>
    <span class=k>return</span> <span class=k>new</span> <span class=nx>MyPromise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
      <span class=kd>let</span> <span class=nx>addData</span> <span class=o>=</span> <span class=p>(</span><span class=nx>key</span><span class=p>,</span> <span class=nx>value</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
        <span class=nx>result</span><span class=p>[</span><span class=nx>key</span><span class=p>]</span> <span class=o>=</span> <span class=nx>value</span>
        <span class=nx>index</span> <span class=o>++</span>
        <span class=c1>// 如果计数器和数组长度相同，那说明所有的元素都执行完毕了，就可以输出了
</span><span class=c1></span>        <span class=k>if</span><span class=p>(</span><span class=nx>index</span> <span class=o>===</span> <span class=nx>array</span><span class=p>.</span><span class=nx>length</span><span class=p>)</span> <span class=p>{</span>
          <span class=nx>resolve</span><span class=p>(</span><span class=nx>result</span><span class=p>)</span>
        <span class=p>}</span>
      <span class=p>}</span>
      <span class=c1>// 对传递的数组进行遍历
</span><span class=c1></span>      <span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=nx>array</span><span class=p>.</span><span class=nx>lengt</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
        <span class=kd>let</span> <span class=nx>current</span> <span class=o>=</span> <span class=nx>array</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span>
        <span class=k>if</span> <span class=p>(</span><span class=nx>current</span> <span class=k>instanceof</span> <span class=nx>MyPromise</span><span class=p>)</span> <span class=p>{</span>
          <span class=c1>// promise对象就执行then，如果是resolve就把值添加到数组中去，如果是错误就执行reject返回
</span><span class=c1></span>          <span class=nx>current</span><span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>value</span> <span class=p>=&gt;</span> <span class=nx>addData</span><span class=p>(</span><span class=nx>i</span><span class=p>,</span> <span class=nx>value</span><span class=p>),</span> <span class=nx>reason</span> <span class=p>=&gt;</span> <span class=nx>reject</span><span class=p>(</span><span class=nx>reason</span><span class=p>))</span>
        <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
          <span class=c1>// 普通值就加到对应的数组中去
</span><span class=c1></span>          <span class=nx>addData</span><span class=p>(</span><span class=nx>i</span><span class=p>,</span> <span class=nx>array</span><span class=p>[</span><span class=nx>i</span><span class=p>])</span>
        <span class=p>}</span>
      <span class=p>}</span>
    <span class=p>})</span>
<span class=p>}</span>
<span class=c1>// promise.js
</span><span class=c1></span><span class=kr>const</span> <span class=nx>MyPromise</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>'./myPromise'</span><span class=p>)</span>
<span class=kd>function</span> <span class=nx>p1</span> <span class=p>()</span> <span class=p>{</span>
  <span class=k>return</span> <span class=k>new</span> <span class=nx>MyPromise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
    <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
      <span class=nx>resolve</span><span class=p>(</span><span class=s1>'p1'</span><span class=p>)</span>
    <span class=p>},</span> <span class=mi>2000</span><span class=p>)</span>
  <span class=p>})</span>
<span class=p>}</span>

<span class=kd>function</span> <span class=nx>p2</span> <span class=p>()</span> <span class=p>{</span>
  <span class=k>return</span> <span class=k>new</span> <span class=nx>MyPromise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
    <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
      <span class=nx>resolve</span><span class=p>(</span><span class=s1>'p2'</span><span class=p>)</span>
    <span class=p>},</span><span class=mi>0</span><span class=p>)</span>
  <span class=p>})</span>
<span class=p>}</span>

<span class=nb>Promise</span><span class=p>.</span><span class=nx>all</span><span class=p>([</span><span class=s1>'a'</span><span class=p>,</span> <span class=s1>'b'</span><span class=p>,</span> <span class=nx>p1</span><span class=p>(),</span> <span class=nx>p2</span><span class=p>(),</span> <span class=s1>'c'</span><span class=p>]).</span><span class=nx>then</span><span class=p>(</span><span class=nx>result</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>result</span><span class=p>)</span>
  <span class=c1>// ["a", "b", "p1", "p2", "c"]
</span><span class=c1></span><span class=p>})</span>
</code></pre></div><h3>九、Promise.resolve方法的实现</h3><ul><li data-pid=T2tGtONI>如果参数就是一个promise对象，直接返回，如果是一个值，那么需要生成一个promise对象，把值进行返回<li data-pid=mLPEkMQ4>是Promise类的一个静态方法</ul><div class=highlight><pre><code class=language-js><span class=c1>// myPromise.js
</span><span class=c1></span><span class=kr>static</span> <span class=nx>resolve</span> <span class=p>(</span><span class=nx>value</span><span class=p>)</span> <span class=p>{</span>
    <span class=c1>// 如果是promise对象，就直接返回
</span><span class=c1></span>    <span class=k>if</span><span class=p>(</span><span class=nx>value</span> <span class=k>instanceof</span> <span class=nx>MyPromise</span><span class=p>)</span> <span class=k>return</span> <span class=nx>value</span>
    <span class=c1>// 如果是值就返回一个promise对象，并返回值
</span><span class=c1></span>    <span class=k>return</span> <span class=k>new</span> <span class=nx>MyPromise</span><span class=p>(</span><span class=nx>resolve</span> <span class=p>=&gt;</span> <span class=nx>resolve</span><span class=p>(</span><span class=nx>value</span><span class=p>))</span>
<span class=p>}</span>
<span class=c1>// promise.js
</span><span class=c1></span><span class=kr>const</span> <span class=nx>MyPromise</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>'./myPromise'</span><span class=p>)</span>
<span class=kd>function</span> <span class=nx>p1</span> <span class=p>()</span> <span class=p>{</span>
  <span class=k>return</span> <span class=k>new</span> <span class=nx>MyPromise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
    <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
      <span class=nx>resolve</span><span class=p>(</span><span class=s1>'p1'</span><span class=p>)</span>
    <span class=p>},</span> <span class=mi>2000</span><span class=p>)</span>
  <span class=p>})</span>
<span class=p>}</span>


<span class=nb>Promise</span><span class=p>.</span><span class=nx>resolve</span><span class=p>(</span><span class=mi>100</span><span class=p>).</span><span class=nx>then</span><span class=p>(</span><span class=nx>value</span> <span class=p>=&gt;</span> <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>value</span><span class=p>))</span>
<span class=nb>Promise</span><span class=p>.</span><span class=nx>resolve</span><span class=p>(</span><span class=nx>p1</span><span class=p>()).</span><span class=nx>then</span><span class=p>(</span><span class=nx>value</span> <span class=p>=&gt;</span> <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>value</span><span class=p>))</span>
<span class=c1>// 100
</span><span class=c1>// 2s 之后输出 p1
</span></code></pre></div><h3>十、finally 方法的实现</h3><ul><li data-pid=49M342Wg>无论当前最终状态是成功还是失败，finally都会执行<li data-pid=uwlG3PIh>我们可以在finally方法之后调用then方法拿到结果<li data-pid=wEct7d0B>这个函数是在原型对象上用的</ul><div class=highlight><pre><code class=language-js><span class=c1>// myPromise.js
</span><span class=c1></span><span class=k>finally</span> <span class=p>(</span><span class=nx>callback</span><span class=p>)</span> <span class=p>{</span>
    <span class=c1>// 如何拿到当前的promise的状态，使用then方法，而且不管怎样都返回callback
</span><span class=c1></span>    <span class=c1>// 而且then方法就是返回一个promise对象，那么我们直接返回then方法调用之后的结果即可
</span><span class=c1></span>    <span class=c1>// 我们需要在回调之后拿到成功的回调，所以需要把value也return
</span><span class=c1></span>    <span class=c1>// 失败的回调也抛出原因
</span><span class=c1></span>    <span class=c1>// 如果callback是一个异步的promise对象，我们还需要等待其执行完毕，所以需要用到静态方法resolve
</span><span class=c1></span>    <span class=k>return</span> <span class=k>this</span><span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>value</span> <span class=p>=&gt;</span> <span class=p>{</span>
      <span class=c1>// 把callback调用之后返回的promise传递过去，并且执行promise，且在成功之后返回value
</span><span class=c1></span>      <span class=k>return</span> <span class=nx>MyPromise</span><span class=p>.</span><span class=nx>resolve</span><span class=p>(</span><span class=nx>callback</span><span class=p>()).</span><span class=nx>then</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=nx>value</span><span class=p>)</span>
    <span class=p>},</span> <span class=nx>reason</span> <span class=p>=&gt;</span> <span class=p>{</span>
      <span class=c1>// 失败之后调用的then方法，然后把失败的原因返回出去。
</span><span class=c1></span>      <span class=k>return</span> <span class=nx>MyPromise</span><span class=p>.</span><span class=nx>resolve</span><span class=p>(</span><span class=nx>callback</span><span class=p>()).</span><span class=nx>then</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span> <span class=k>throw</span> <span class=nx>reason</span> <span class=p>})</span>
    <span class=p>})</span>
<span class=p>}</span>
<span class=c1>// promise.js
</span><span class=c1></span><span class=kr>const</span> <span class=nx>MyPromise</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>'./myPromise'</span><span class=p>)</span>
<span class=kd>function</span> <span class=nx>p1</span> <span class=p>()</span> <span class=p>{</span>
  <span class=k>return</span> <span class=k>new</span> <span class=nx>MyPromise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
    <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
      <span class=nx>resolve</span><span class=p>(</span><span class=s1>'p1'</span><span class=p>)</span>
    <span class=p>},</span> <span class=mi>2000</span><span class=p>)</span>
  <span class=p>})</span>
<span class=p>}</span>

<span class=kd>function</span> <span class=nx>p2</span> <span class=p>()</span> <span class=p>{</span>
  <span class=k>return</span> <span class=k>new</span> <span class=nx>MyPromise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
    <span class=nx>reject</span><span class=p>(</span><span class=s1>'p2 reject'</span><span class=p>)</span>
  <span class=p>})</span>
<span class=p>}</span>

<span class=nx>p2</span><span class=p>().</span><span class=k>finally</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'finallyp2'</span><span class=p>)</span>
  <span class=k>return</span> <span class=nx>p1</span><span class=p>()</span>
<span class=p>}).</span><span class=nx>then</span><span class=p>(</span><span class=nx>value</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>value</span><span class=p>)</span>
<span class=p>},</span> <span class=nx>reason</span> <span class=p>=&gt;</span> <span class=p>{</span>
  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>reason</span><span class=p>)</span>
<span class=p>})</span>

<span class=c1>// finallyp2
</span><span class=c1>// 两秒之后执行p2 reject
</span></code></pre></div><h3>十一、catch方法的实现</h3><ul><li data-pid=uyGj-D1T>catch方法是为了捕获promise对象的所有错误回调的<li data-pid=s-d_pKMi>直接调用then方法，然后成功的地方传递undefined，错误的地方传递reason<li data-pid=AbX9Yshy>catch方法是作用在原型对象上的方法</ul><div class=highlight><pre><code class=language-js><span class=c1>// myPromise.js
</span><span class=c1></span><span class=k>catch</span> <span class=p>(</span><span class=nx>failCallback</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>return</span> <span class=k>this</span><span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=kc>undefined</span><span class=p>,</span> <span class=nx>failCallback</span><span class=p>)</span>
<span class=p>}</span>
<span class=c1>// promise.js
</span><span class=c1></span><span class=kr>const</span> <span class=nx>MyPromise</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>'./myPromise'</span><span class=p>)</span>

<span class=kd>function</span> <span class=nx>p2</span> <span class=p>()</span> <span class=p>{</span>
  <span class=k>return</span> <span class=k>new</span> <span class=nx>MyPromise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
    <span class=nx>reject</span><span class=p>(</span><span class=s1>'p2 reject'</span><span class=p>)</span>
  <span class=p>})</span>
<span class=p>}</span>

<span class=nx>p2</span><span class=p>()</span>
  <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>value</span> <span class=p>=&gt;</span> <span class=p>{</span>
    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>value</span><span class=p>)</span>
  <span class=p>})</span>
  <span class=p>.</span><span class=k>catch</span><span class=p>(</span><span class=nx>reason</span> <span class=p>=&gt;</span> <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>reason</span><span class=p>))</span>

<span class=c1>// p2 reject
</span></code></pre></div><h3>Promise全部代码整合</h3><div class=highlight><pre><code class=language-js><span class=c1>// myPromise.js
</span><span class=c1></span><span class=kr>const</span> <span class=nx>PENDING</span> <span class=o>=</span> <span class=s1>'pending'</span>
<span class=kr>const</span> <span class=nx>FULFILLED</span> <span class=o>=</span> <span class=s1>'fulfilled'</span>
<span class=kr>const</span> <span class=nx>REJECTED</span> <span class=o>=</span> <span class=s1>'rejected'</span>
<span class=kr>class</span> <span class=nx>MyPromise</span> <span class=p>{</span>
  <span class=nx>constructor</span> <span class=p>(</span><span class=nx>exector</span><span class=p>)</span> <span class=p>{</span>
      <span class=c1>//try catch 用来捕获执行器执行时候报错
</span><span class=c1></span>    <span class=k>try</span> <span class=p>{</span>
      <span class=nx>exector</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>resolve</span><span class=p>,</span> <span class=k>this</span><span class=p>.</span><span class=nx>reject</span><span class=p>)</span>
    <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
      <span class=k>this</span><span class=p>.</span><span class=nx>reject</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span>
    <span class=p>}</span>
  <span class=p>}</span>


  <span class=nx>status</span> <span class=o>=</span> <span class=nx>PENDING</span>   <span class=c1>//初始状态
</span><span class=c1></span>  <span class=nx>value</span> <span class=o>=</span> <span class=kc>undefined</span>  <span class=c1>//接收成功函数值
</span><span class=c1></span>  <span class=nx>reason</span> <span class=o>=</span> <span class=kc>undefined</span>    <span class=c1>//失败函数值
</span><span class=c1></span>  <span class=nx>successCallback</span> <span class=o>=</span> <span class=p>[]</span>  <span class=c1>//成功函数列表
</span><span class=c1></span>  <span class=nx>failCallback</span> <span class=o>=</span> <span class=p>[]</span>     <span class=c1>//失败函数列表
</span><span class=c1></span>
  <span class=nx>resolve</span> <span class=o>=</span> <span class=nx>value</span> <span class=p>=&gt;</span> <span class=p>{</span>
      <span class=c1>//先判断状态是否为 PENDING  如果不是  说明状态以及改变 直接返回
</span><span class=c1></span>      <span class=c1>//如果 不是  就将当前状态 改为FULFILLED
</span><span class=c1></span>      <span class=c1>//将值传进来的值  赋值给this.value
</span><span class=c1></span>      <span class=c1>//通过while循环 将成功回调函数依次执行 去除第一个函数执行完毕之后 就从数组里删除 依次执行
</span><span class=c1></span>    <span class=k>if</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>!==</span> <span class=nx>PENDING</span><span class=p>)</span> <span class=k>return</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>=</span> <span class=nx>FULFILLED</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=nx>value</span>
    <span class=k>while</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>successCallback</span><span class=p>.</span><span class=nx>length</span><span class=p>)</span> <span class=k>this</span><span class=p>.</span><span class=nx>successCallback</span><span class=p>.</span><span class=nx>shift</span><span class=p>()()</span>
  <span class=p>}</span>

  <span class=nx>reject</span> <span class=o>=</span> <span class=nx>reason</span> <span class=p>=&gt;</span> <span class=p>{</span>
      <span class=c1>//先判断状态是否为 PENDING  如果不是  说明状态以及改变 直接返回
</span><span class=c1></span>      <span class=c1>//如果 不是  就将当前状态 改为REJECTED
</span><span class=c1></span>      <span class=c1>//将值传进来的值  赋值给this.reason
</span><span class=c1></span>      <span class=c1>//通过while循环 将失败回调函数依次执行 去除第一个函数执行完毕之后 就从数组里删除 依次执行
</span><span class=c1></span>    <span class=k>if</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>!==</span> <span class=nx>PENDING</span><span class=p>)</span> <span class=k>return</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>=</span> <span class=nx>REJECTED</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>reason</span> <span class=o>=</span> <span class=nx>reason</span>
    <span class=k>while</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>failCallback</span><span class=p>.</span><span class=nx>length</span><span class=p>)</span> <span class=k>this</span><span class=p>.</span><span class=nx>failCallback</span><span class=p>.</span><span class=nx>shift</span><span class=p>()()</span>
  <span class=p>}</span>

  <span class=nx>then</span> <span class=p>(</span><span class=nx>successCallback</span> <span class=o>=</span> <span class=nx>value</span> <span class=p>=&gt;</span> <span class=nx>value</span><span class=p>,</span> <span class=nx>failCallback</span> <span class=o>=</span> <span class=nx>reason</span> <span class=p>=&gt;</span> <span class=p>{</span><span class=k>throw</span> <span class=nx>reason</span><span class=p>})</span> <span class=p>{</span>
      <span class=c1>//then方法 接收两个参数  一个成功 一个失败
</span><span class=c1></span>    <span class=kd>let</span> <span class=nx>promise2</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Promise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
      <span class=k>if</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>===</span> <span class=nx>FULFILLED</span><span class=p>)</span> <span class=p>{</span>
          <span class=c1>//当状态为FULFILLED 时 就直接执行
</span><span class=c1></span>          <span class=c1>//加上定时器是为了能够获取到promise2
</span><span class=c1></span>          <span class=c1>//将成功函数处理完的值  以及promise2 resolve reject  传给resolvePromise 同一处理
</span><span class=c1></span>        <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
          <span class=k>try</span> <span class=p>{</span>
            <span class=kd>let</span> <span class=nx>x</span> <span class=o>=</span> <span class=nx>successCallback</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>value</span><span class=p>)</span>
            <span class=nx>resolvePromise</span><span class=p>(</span><span class=nx>promise2</span><span class=p>,</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span>
          <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
            <span class=nx>reject</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span>
          <span class=p>}</span>
        <span class=p>},</span> <span class=mi>0</span><span class=p>)</span>
      <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>status</span> <span class=o>===</span> <span class=nx>REJECTED</span><span class=p>)</span> <span class=p>{</span>
          <span class=c1>//当状态为REJECTED 时 就直接执行
</span><span class=c1></span>          <span class=c1>//加上定时器是为了能够获取到promise2
</span><span class=c1></span>          <span class=c1>//将失败函数处理完的值  以及promise2 resolve reject  传给resolvePromise 同一处理
</span><span class=c1></span>        <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
          <span class=k>try</span> <span class=p>{</span>
            <span class=kd>let</span> <span class=nx>x</span> <span class=o>=</span> <span class=nx>failCallback</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>reason</span><span class=p>)</span>
            <span class=nx>resolvePromise</span><span class=p>(</span><span class=nx>promise2</span><span class=p>,</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span>
          <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
            <span class=nx>reject</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span>
          <span class=p>}</span>
        <span class=p>},</span> <span class=mi>0</span><span class=p>)</span>
      <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
          <span class=c1>//当状态为PENDING的时候 说明函数是异步的
</span><span class=c1></span>          <span class=c1>//所以我们将成功函数 加入成功函数列表
</span><span class=c1></span>        <span class=k>this</span><span class=p>.</span><span class=nx>successCallback</span><span class=p>.</span><span class=nx>push</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
          <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
            <span class=k>try</span> <span class=p>{</span>
              <span class=kd>let</span> <span class=nx>x</span> <span class=o>=</span> <span class=nx>successCallback</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>value</span><span class=p>)</span>
              <span class=nx>resolvePromise</span><span class=p>(</span><span class=nx>promise2</span><span class=p>,</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span>
            <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
              <span class=nx>reject</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span>
            <span class=p>}</span>
          <span class=p>},</span> <span class=mi>0</span><span class=p>)</span>
        <span class=p>})</span>
          <span class=c1>//当状态为PENDING的时候 说明函数是异步的
</span><span class=c1></span>          <span class=c1>//所以我们将失败函数 加入失败函数列表
</span><span class=c1></span>        <span class=k>this</span><span class=p>.</span><span class=nx>failCallback</span><span class=p>.</span><span class=nx>push</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
          <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
            <span class=k>try</span> <span class=p>{</span>
              <span class=kd>let</span> <span class=nx>x</span> <span class=o>=</span> <span class=nx>failCallback</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>reason</span><span class=p>)</span>
              <span class=nx>resolvePromise</span><span class=p>(</span><span class=nx>promise2</span><span class=p>,</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span>
            <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>e</span><span class=p>)</span> <span class=p>{</span>
              <span class=nx>reject</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span>
            <span class=p>}</span>
          <span class=p>},</span> <span class=mi>0</span><span class=p>)</span>
        <span class=p>})</span>
      <span class=p>}</span>
    <span class=p>});</span>
      <span class=c1>//返回一个promise2
</span><span class=c1></span>    <span class=k>return</span> <span class=nx>promise2</span>
  <span class=p>}</span>

  <span class=k>finally</span> <span class=p>(</span><span class=nx>callback</span><span class=p>)</span> <span class=p>{</span>
    <span class=c1>// 如何拿到当前的promise的状态，使用then方法，而且不管怎样都返回callback
</span><span class=c1></span>    <span class=c1>// 而且then方法就是返回一个promise对象，那么我们直接返回then方法调用之后的结果即可
</span><span class=c1></span>    <span class=c1>// 我们需要在回调之后拿到成功的回调，所以需要把value也return
</span><span class=c1></span>    <span class=c1>// 失败的回调也抛出原因
</span><span class=c1></span>    <span class=c1>// 如果callback是一个异步的promise对象，我们还需要等待其执行完毕，所以需要用到静态方法resolve
</span><span class=c1></span>    <span class=k>return</span> <span class=k>this</span><span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>value</span> <span class=p>=&gt;</span> <span class=p>{</span>
      <span class=c1>// 把callback调用之后返回的promise传递过去，并且执行promise，且在成功之后返回value
</span><span class=c1></span>      <span class=k>return</span> <span class=nx>MyPromise</span><span class=p>.</span><span class=nx>resolve</span><span class=p>(</span><span class=nx>callback</span><span class=p>()).</span><span class=nx>then</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=nx>value</span><span class=p>)</span>
    <span class=p>},</span> <span class=nx>reason</span> <span class=p>=&gt;</span> <span class=p>{</span>
      <span class=c1>// 失败之后调用的then方法，然后把失败的原因返回出去。
</span><span class=c1></span>      <span class=k>return</span> <span class=nx>MyPromise</span><span class=p>.</span><span class=nx>resolve</span><span class=p>(</span><span class=nx>callback</span><span class=p>()).</span><span class=nx>then</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span> <span class=k>throw</span> <span class=nx>reason</span> <span class=p>})</span>
    <span class=p>})</span>
  <span class=p>}</span>

  <span class=k>catch</span> <span class=p>(</span><span class=nx>failCallback</span><span class=p>)</span> <span class=p>{</span>
      <span class=c1>//catch方法 用来捕获promise执行中的错误 可以直接调用then方法来执行  因为then方法接收两个参数 而我们是为了捕获错误，所以第一个参数传递一个undefined
</span><span class=c1></span>    <span class=k>return</span> <span class=k>this</span><span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=kc>undefined</span><span class=p>,</span> <span class=nx>failCallback</span><span class=p>)</span>
  <span class=p>}</span>

  <span class=kr>static</span> <span class=nx>all</span> <span class=p>(</span><span class=nx>array</span><span class=p>)</span> <span class=p>{</span>
      <span class=c1>//all方法是所有的执行完毕之后 执行 定义一个数组来接收处理过的结果  index用来判断是否全部执行完毕
</span><span class=c1></span>    <span class=kd>let</span> <span class=nx>result</span> <span class=o>=</span> <span class=p>[]</span>
    <span class=kd>let</span> <span class=nx>index</span> <span class=o>=</span> <span class=mi>0</span>
    <span class=k>return</span> <span class=k>new</span> <span class=nx>MyPromise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
        <span class=c1>//定义一个add函数  用来添加处理之后的结果  保证结果数组的顺序 跟调用顺序一致
</span><span class=c1></span>      <span class=kd>let</span> <span class=nx>addData</span> <span class=o>=</span> <span class=p>(</span><span class=nx>key</span><span class=p>,</span> <span class=nx>value</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
        <span class=nx>result</span><span class=p>[</span><span class=nx>key</span><span class=p>]</span> <span class=o>=</span> <span class=nx>value</span>
        <span class=nx>index</span> <span class=o>++</span>
          <span class=c1>//当result数组长度  跟传进来的数组长度一致时候  说明执行完毕  就直接调用resolve方法 将处理完的结果数组返回
</span><span class=c1></span>        <span class=k>if</span><span class=p>(</span><span class=nx>index</span> <span class=o>===</span> <span class=nx>array</span><span class=p>.</span><span class=nx>length</span><span class=p>)</span> <span class=p>{</span>
          <span class=nx>resolve</span><span class=p>(</span><span class=nx>result</span><span class=p>)</span>
        <span class=p>}</span>
      <span class=p>}</span>
      <span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=nx>array</span><span class=p>.</span><span class=nx>lengt</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
        <span class=kd>let</span> <span class=nx>current</span> <span class=o>=</span> <span class=nx>array</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span>
        <span class=c1>//遍历传进来的数组  如果是promise对象  就直接调用then方法 将函数处理过后的结果返回
</span><span class=c1></span>        <span class=c1>//如果是普通值就直接添加到结果数组里面
</span><span class=c1></span>        <span class=k>if</span> <span class=p>(</span><span class=nx>current</span> <span class=k>instanceof</span> <span class=nx>MyPromise</span><span class=p>)</span> <span class=p>{</span>
          <span class=nx>current</span><span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>value</span> <span class=p>=&gt;</span> <span class=nx>addData</span><span class=p>(</span><span class=nx>i</span><span class=p>,</span> <span class=nx>value</span><span class=p>),</span> <span class=nx>reason</span> <span class=p>=&gt;</span> <span class=nx>reject</span><span class=p>(</span><span class=nx>reason</span><span class=p>))</span>
        <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
          <span class=nx>addData</span><span class=p>(</span><span class=nx>i</span><span class=p>,</span> <span class=nx>array</span><span class=p>[</span><span class=nx>i</span><span class=p>])</span>
        <span class=p>}</span>
      <span class=p>}</span>
    <span class=p>})</span>
  <span class=p>}</span>

  <span class=kr>static</span> <span class=nx>resolve</span> <span class=p>(</span><span class=nx>value</span><span class=p>)</span> <span class=p>{</span>
      <span class=c1>//静态resolve方法  如果是promise就直接返回
</span><span class=c1></span>    <span class=k>if</span><span class=p>(</span><span class=nx>value</span> <span class=k>instanceof</span> <span class=nx>MyPromise</span><span class=p>)</span> <span class=k>return</span> <span class=nx>value</span>
      <span class=c1>//普通的就直接返回一个promise对象 并传递一个resolve函数 将参数放到resolve里面
</span><span class=c1></span>    <span class=k>return</span> <span class=k>new</span> <span class=nx>MyPromise</span><span class=p>(</span><span class=nx>resolve</span> <span class=p>=&gt;</span> <span class=nx>resolve</span><span class=p>(</span><span class=nx>value</span><span class=p>))</span>
  <span class=p>}</span>
<span class=p>}</span>

<span class=kd>function</span> <span class=nx>resolvePromise</span><span class=p>(</span><span class=nx>promise2</span><span class=p>,</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>if</span> <span class=p>(</span><span class=nx>promise2</span> <span class=o>===</span> <span class=nx>x</span><span class=p>)</span> <span class=p>{</span>  <span class=c1>//如果是返回了本身 就会死循环 这时候就抛出一个类型错误
</span><span class=c1></span>    <span class=k>return</span> <span class=nx>reject</span><span class=p>(</span><span class=k>new</span> <span class=nx>TypeError</span><span class=p>(</span><span class=s1>'Chaining cycle detected for promise #&lt;Promise&gt;'</span><span class=p>))</span>
  <span class=p>}</span>
  <span class=k>if</span><span class=p>(</span><span class=nx>x</span> <span class=k>instanceof</span> <span class=nx>MyPromise</span><span class=p>)</span> <span class=p>{</span>  <span class=c1>//如果返回的是一个promise ，那我们就可以直接调用本身的then方法 把参数resolve，和reject穿进去执行
</span><span class=c1></span>    <span class=nx>x</span><span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span>
  <span class=p>}</span> <span class=k>else</span><span class=p>{</span>
      <span class=c1>//如果是普通值  我们就调用resolve方法  将值传进去
</span><span class=c1></span>    <span class=nx>resolve</span><span class=p>(</span><span class=nx>x</span><span class=p>)</span>
  <span class=p>}</span>
<span class=p>}</span>
<span class=c1>//最后将我们自己创建的MyPromise对象导出
</span><span class=c1></span><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=nx>MyPromise</span>
</code></pre></div><p class=ztext-empty-paragraph><br><p class=ztext-empty-paragraph><br><p data-pid=oiA2lSSw><b> 如果有误，欢迎评论区指正!</b><p data-pid=r6oUXGjo><b> 喜欢 或者 感觉对你有帮助的 记得点赞！ 收藏 ~ 加关注呦</b></p></div></div></div><div role=button tabindex=0 class=ContentItem-time>编辑于 2021-09-18 19:37</div><div class=Post-topicsAndReviewer><div class="TopicList Post-Topics"><div class="Tag Topic css-1s3a4zw" data-za-detail-view-path-module=TopicItem data-za-extra-module='{"card":{"content":{"type":"Topic","token":"20022534"}}}'><span class=Tag-content><a class=TopicLink href=https://www.zhihu.com/topic/20022534 target=_blank><div class=css-1gomreu>Promise</div></a></span></div><div class="Tag Topic css-1s3a4zw" data-za-detail-view-path-module=TopicItem data-za-extra-module='{"card":{"content":{"type":"Topic","token":"19571217"}}}'><span class=Tag-content><a class=TopicLink href=https://www.zhihu.com/topic/19571217 target=_blank><div class=css-1gomreu>异步</div></a></span></div><div class="Tag Topic css-1s3a4zw" data-za-detail-view-path-module=TopicItem data-za-extra-module='{"card":{"content":{"type":"Topic","token":"19586368"}}}'><span class=Tag-content><a class=TopicLink href=https://www.zhihu.com/topic/19586368 target=_blank><div class=css-1gomreu>同步</div></a></span></div></div></div><div><div class="Sticky RichContent-actions is-bottom"><div class=ContentItem-actions data-za-detail-view-path-module=BottomBar data-za-extra-module='{"card":{"content":{"type":"Post","id":"407883529"}}}'><span><button aria-label="赞同 6 " aria-live=polite type=button class="Button VoteButton VoteButton--up"><span style=display:inline-flex;align-items:center>​<svg width=10 height=10 viewBox="0 0 24 24" class="Zi Zi--TriangleUp VoteButton-TriangleUp" fill=currentColor><path fill-rule=evenodd d="M13.792 3.681c-.781-1.406-2.803-1.406-3.584 0l-7.79 14.023c-.76 1.367.228 3.046 1.791 3.046h15.582c1.563 0 2.55-1.68 1.791-3.046l-7.79-14.023Z" clip-rule=evenodd></path></svg></span>赞同 6</button><button aria-label=反对 aria-live=polite type=button class="Button VoteButton VoteButton--down"><span style=display:inline-flex;align-items:center>​<svg width=10 height=10 viewBox="0 0 24 24" class="Zi Zi--TriangleDown" fill=currentColor><path fill-rule=evenodd d="M13.792 20.319c-.781 1.406-2.803 1.406-3.584 0L2.418 6.296c-.76-1.367.228-3.046 1.791-3.046h15.582c1.563 0 2.55 1.68 1.791 3.046l-7.79 14.023Z" clip-rule=evenodd></path></svg></span></button></span><button type=button class="Button BottomActions-CommentBtn Button--plain Button--withIcon Button--withLabel"><span style=display:inline-flex;align-items:center>​<svg width=1.2em height=1.2em viewBox="0 0 24 24" class="Zi Zi--Comment Button-zi" fill=currentColor><path fill-rule=evenodd d="M12 2.75a9.25 9.25 0 1 0 4.737 17.197l2.643.817a1 1 0 0 0 1.25-1.25l-.8-2.588A9.25 9.25 0 0 0 12 2.75Z" clip-rule=evenodd></path></svg></span>1 条评论</button><div class="Popover ShareMenu"><div class=ShareMenu-toggler id=Popover2-toggle aria-haspopup=true aria-expanded=false aria-owns=Popover2-content><button type=button class="Button Button--plain Button--withIcon Button--withLabel"><span style=display:inline-flex;align-items:center>​<svg width=1.2em height=1.2em viewBox="0 0 24 24" class="Zi Zi--Share Button-zi" fill=currentColor><path d="M19.47 1.914a.8.8 0 0 1 1.204.778l-1.872 16.386a.9.9 0 0 1-1.204.743l-4.615-1.692a.7.7 0 0 0-.831.28l-1.927 3.02c-.43.674-1.474.369-1.474-.43v-3.865a.8.8 0 0 1 .179-.504l5.808-7.148a.595.595 0 0 0-.897-.781l-5.93 6.354a1.1 1.1 0 0 1-1.258.252L2.57 13.46a.8.8 0 0 1-.08-1.415l16.98-10.13Z"></path></svg></span>分享</button></div></div><button aria-live=polite type=button class="Button ContentItem-action Button--plain Button--withIcon Button--withLabel"><span style=display:inline-flex;align-items:center>​<svg width=1.2em height=1.2em viewBox="0 0 24 24" class="Zi Zi--Heart Button-zi" fill=currentColor><path fill-rule=evenodd d="M12.004 4.934c1.015-.944 2.484-1.618 3.98-1.618 3.48 0 6.53 3.265 6.15 7.614-.11 1.254-.686 2.55-1.458 3.753-.778 1.215-1.79 2.392-2.845 3.419-1.054 1.028-2.168 1.923-3.161 2.566a9.96 9.96 0 0 1-1.41.777c-.418.182-.862.32-1.268.32s-.848-.137-1.267-.317a9.918 9.918 0 0 1-1.407-.771c-.992-.64-2.103-1.53-3.156-2.555-1.052-1.024-2.062-2.2-2.84-3.417-.77-1.208-1.346-2.51-1.456-3.775-.38-4.349 2.67-7.614 6.15-7.614 1.484 0 2.983.673 3.988 1.618Z" clip-rule=evenodd></path></svg></span>喜欢</button><button type=button class="Button Button--plain Button--withIcon Button--withLabel"><span style=display:inline-flex;align-items:center>​<svg width=1.2em height=1.2em viewBox="0 0 24 24" class="Zi Zi--Star Button-zi" fill=currentColor><path d="M10.484 3.307c.673-1.168 2.358-1.168 3.032 0l2.377 4.122a.25.25 0 0 0 .165.12l4.655.987c1.319.28 1.84 1.882.937 2.884l-3.186 3.535a.25.25 0 0 0-.063.193l.5 4.733c.142 1.34-1.222 2.33-2.453 1.782l-4.346-1.938a.25.25 0 0 0-.204 0l-4.346 1.938c-1.231.549-2.595-.442-2.453-1.782l.5-4.733a.25.25 0 0 0-.064-.193L2.35 11.42c-.903-1.002-.382-2.604.937-2.884l4.655-.987a.25.25 0 0 0 .164-.12l2.378-4.122Z"></path></svg></span>收藏</button><button type=button class="Button ContentItem-action Button--plain Button--withIcon Button--withLabel"><span style=display:inline-flex;align-items:center>​<svg width=1.2em height=1.2em viewBox="0 0 24 24" class="Zi Zi--Deliver Button-zi" fill=currentColor><g fill-rule=evenodd clip-rule=evenodd><path d="M7.821 12a.75.75 0 0 1 .75-.75h6.857a.75.75 0 0 1 0 1.5H8.571a.75.75 0 0 1-.75-.75ZM8.965 8a.75.75 0 0 1 .75-.75h4.571a.75.75 0 0 1 0 1.5H9.715a.75.75 0 0 1-.75-.75Z"></path><path d="M7.527 3.15a2.35 2.35 0 0 0-2.309 1.91L3.165 15.84a.85.85 0 0 0-.015.16v2.5a2.35 2.35 0 0 0 2.35 2.35h13a2.35 2.35 0 0 0 2.35-2.35V16a.848.848 0 0 0-.015-.16L18.78 5.06a2.35 2.35 0 0 0-2.308-1.91H7.527Zm0 1.7a.65.65 0 0 0-.639.528l-1.88 9.872h13.984l-1.88-9.872a.65.65 0 0 0-.64-.528H7.528Z"></path></g></svg></span>申请转载</button><div class=Post-ActionMenuButton><div class=Popover><div id=Popover3-toggle aria-haspopup=true aria-expanded=false aria-owns=Popover3-content><button type=button class="Button Button--plain Button--withIcon Button--iconOnly"><span style=display:inline-flex;align-items:center>​<svg width=1.2em height=1.2em viewBox="0 0 24 24" class="Zi Zi--Dots Button-zi" fill=currentColor><path d="M5.34 12a1.665 1.665 0 1 1-3.33 0 1.665 1.665 0 0 1 3.33 0ZM13.665 12a1.665 1.665 0 1 1-3.33 0 1.665 1.665 0 0 1 3.33 0ZM21.99 12a1.665 1.665 0 1 1-3.33 0 1.665 1.665 0 0 1 3.33 0Z"></path></svg></span></button></div></div></div></div></div></div></article><div class="Post-Sub Post-NormalSub"><div style=overflow:unset data-za-detail-view-path-module=CommentList data-za-extra-module={}><div class="Comments-container css-plbgu"><div class=css-79elbk><div><div class=css-1fo89v5><img class="Avatar css-1oi6kgx" src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50"><rect fill-opacity="0"/></svg>' srcset style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgb(255,255,255)!important;background-image:var(--sf-img-5)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important" sizes><div class=css-x0pxoz><div class=css-i6bazn><div class=css-0><div class="InputLike css-ip4bff Editable"><div class="Dropzone Editable-content RichText RichText--editable RichText--clearBoth ztext" style=min-height:38px><div class=DraftEditor-root><div class=public-DraftEditorPlaceholder-root><div class=public-DraftEditorPlaceholder-inner id=placeholder-bcd3t style=white-space:pre-wrap>评论千万条，友善第一条</div></div><div class=DraftEditor-editorContainer><div aria-describedby=placeholder-bcd3t class="notranslate public-DraftEditor-content" contenteditable=true spellcheck=true tabindex=0 style=outline:none;user-select:text;white-space:pre-wrap;overflow-wrap:break-word role=textbox><div data-contents=true><div class=Editable-unstyled data-block=true data-editor=bcd3t data-offset-key=9cbko-0-0><div data-offset-key=9cbko-0-0 class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr"><span data-offset-key=9cbko-0-0><br data-text=true></span></div></div></div></div></div></div></div><div></div><input multiple type=file accept=image/webp,image/jpg,image/jpeg,image/png,image/gif style=display:none value></div></div></div></div></div></div><div class=css-z07uxh><div class=css-we6n55><div class=css-vpssrj><div class=css-1k10w8f>1 条评论</div></div><div class=css-59erns></div><div class=css-1hnxfhy><div class=css-gjiv4z>默认</div><div class=css-1v9si9f>最新</div></div></div><div class=css-840pn3><div class=css-1frn93x><div><div class=css-194v73m><div class=css-1jll2aj><div class=css-1gomreu><a href=https://www.zhihu.com/people/21f5e15b86bd2fe75edec595a75853ff target=_blank class=css-y06ck6><img class="Avatar css-1s1htbw" src=data:image/jpeg;base64,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 srcset alt=jsonSheep loading=lazy sizes></a></div></div><div class=css-14nvvry><div class=css-1besdh8><div class=css-swj9d4><div class=css-1tww9qq><div class=css-1gomreu><a href=https://www.zhihu.com/people/21f5e15b86bd2fe75edec595a75853ff target=_blank class=css-1rd0h6f>jsonSheep</a></div><div class=css-1qe0v6x><div class=css-1ssbn0c></div></div></div></div><svg width=16 height=16 viewBox="0 0 24 24" class="ZDI ZDI--Dots24 css-zgte1c" fill=currentColor><path d="M5.34 12a1.665 1.665 0 1 1-3.33 0 1.665 1.665 0 0 1 3.33 0ZM13.665 12a1.665 1.665 0 1 1-3.33 0 1.665 1.665 0 0 1 3.33 0ZM21.99 12a1.665 1.665 0 1 1-3.33 0 1.665 1.665 0 0 1 3.33 0Z"></path></svg></div><div class="CommentContent css-1ygdre8">then方法里应该new MyPromise，这样就完美了。</div><div class=css-dbby2p><div class=css-82fsyv><div class=css-12cl38p>04-26</div></div><div class=css-18opwoy><button type=button class="Button css-1o56bgb"><span style=display:inline-flex;align-items:center>​<svg width=1.2em height=1.2em viewBox="0 0 24 24" class="ZDI ZDI--ChatBubbleFill24 css-15ro776" fill=currentColor><path fill-rule=evenodd d="M12 2.75a9.25 9.25 0 1 0 4.737 17.197l2.643.817a1 1 0 0 0 1.25-1.25l-.8-2.588A9.25 9.25 0 0 0 12 2.75Z" clip-rule=evenodd></path></svg></span>回复</button><button type=button class="Button css-h1yvwn" style=transform:none><span style=display:inline-flex;align-items:center>​<svg width=1.2em height=1.2em viewBox="0 0 24 24" class="ZDI ZDI--ThumbFill24 css-15ro776" fill=currentColor><path d="M8.5 4.078c0-1.834 1.986-2.979 3.573-2.06a4.826 4.826 0 0 1 2.379 4.71l-.114 1.022h3.581c2.53 0 4.334 2.454 3.58 4.868l-1.823 5.833a3.784 3.784 0 0 1-3.848 2.64c-2.372-.147-6.042-.341-8.828-.341H4.5A1.75 1.75 0 0 1 2.75 19V9.5c0-.967.784-1.75 1.75-1.75h.637a3.418 3.418 0 0 0 3.19-2.191c.115-.296.173-.611.173-.928v-.553Z"></path></svg></span>赞</button></div></div></div></div></div><div></div></div></div></div></div></div></div><div role=complementary aria-label=推荐阅读 class=Recommendations-Main style=width:1903px><h3 class="BlockTitle Recommendations-BlockTitle">推荐阅读</h3><ul class=Recommendations-List><button class="PagingButton PagingButton-Previous" disabled data-za-detail-view-path-module=Unknown data-za-detail-view-path-module_name=推荐阅读 data-za-extra-module={}><svg width=40 height=40 viewBox="0 0 24 24" fill=#d3d3d3 class="Zi Zi--ArrowLeft"><path fill-rule=evenodd d="m10.752 12 4.025-3.78a.684.684 0 0 0 0-1.01.796.796 0 0 0-1.075 0l-4.42 4.15a.866.866 0 0 0 0 1.28l4.42 4.15a.796.796 0 0 0 1.075 0 .684.684 0 0 0 0-1.01L10.752 12Z" clip-rule=evenodd></path></svg></button><a href=https://zhuanlan.zhihu.com/p/29632791 class=PostItem><div><img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAEPAjADAREAAhEBAxEB/8QAHAABAAMBAQEBAQAAAAAAAAAAAAUGBwgDBAIB/8QASBAAAQMDAQUEBQYLBgcBAAAAAAECAwQFEQYHEiExkRNBUWEUInGBoTI1cnSxshUXIzM2QlJTc5PSNFSSosHhFiRDVmOj0fD/xAAbAQEAAwADAQAAAAAAAAAAAAAABAUGAgMHAf/EADgRAQABAwICBQoGAgMBAQAAAAABAgMRBAUSITFBUWFxBhMzgZGhscHR8BQVIjI04SNSFiRCU/H/2gAMAwEAAhEDEQA/AI89NedAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAndMaarNRrUJRTUkXYbu928m5nezjHBc8iFq9db0mOOJnPZCVpdHXqc8ExGO1Y/xT6h/eW/+a7+kg/n2l7J9n9p35Jqe2Pb/R+KfUP7y3/zXf0j8+0vZPs/s/JNT2x7f6eU2yzUUbVVjaOVfBk3H4ohyp33Sz05j1ONWy6mOjE+tWr1p28WbjcrfPAz94qbzPZvJlM+8sLGssaj0VUT8fYg3tJesekpmPvtRJJRwAAAAAAAAAAAAAAAAAAetLA6pqYYI8I+V6MbnllVwca6oopmqepyppmqqKY62zP2SW38Gdm2sqvTkZ+dVU3Fdj9nHLPnnzMnHlBf85maY4ezr9rTTsVrgxxTxdvV7GLzRuhmfE9MPY5Wr7UNbTMVREwzExNM4l+D6+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABuWxOunqtN1MM8j5Ep592PeXO61Wou6nlnPUxu/WqaL8VUxjMc2r2S7VXZmmqeiXjth1BdLK62NtdY+mbO2TtN1qZXG7jiqZTmvI57Jo7Oo46rtOcY+bjvOqu2OCLdWM5+Si2faNqCgqWOnqvToM+tFOicU8nImUX4eSlzf2bTXacU08M9sfRU2d21Nuc1TxR2S3G21tHqGxxVLGsmpKqP1o5ERU8Fa5OXBcopjbtuvS3ZonlVT95au1co1NqKo5xLENpuk2abuUc1Ei/g6qysaLx7Nyc2Z8O9P9smx2jcJ1duaa/3R7+9ld00MaWuKqP2z7u5Sy3VYAAAAAAAAAAAAAAAAAfqN7o3tfG5WvaqK1yLhUXxPkxExiSJmJzDQn7Vrw61LTpT0zatWbnpSZz9Ld5Z+Ge7uKKNgsRXxZnHZ/a5ne702+HEZ7WdqqqqqqqqrxVVL5TAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA2nYT8y3L6yn3TJ+UXpaPD5tPsPoq/FHbfPz9l+jN9rDv8nei56vm6d/6bfr+TJzSs83HYdI9+l6tj1VWR1bkZnuy1qqnUx/lBTFOopmOuPnLV7FVM2JieqflD024tRdJUyqnFKtuP8AA8+bBP8A2Z8PnD7vn8ePH5SxOgoaq41CQUFPLUTLyZExXL7eHd5mtuXaLVPFcnEd7LW7dd2eGiMymL5o+72O1xV9yhjhikkSPc7RHPaqoqplE4d3iQ9PudjU3ZtWpzMJV/b72ntxcuRiJfbaNnuoLpRpUx07II3pliTv3HOTxROfXB1Xt50tmrgmcz3OyztWpu08cRiO9XLnbqu11slHcYHwVEfymO+1FTgqeaFhZv0X6IrtzmJQrtquzVNFyMS86OlqK2dkFJBLPO/5LI2q5V9yHKu5Tap4q5xDjRRVcnhojMrdSbMdSVESPfTwQZ/VlmTPwyVde+aSicZmfCFlRs+qqjMxEetH3rQ9/tET5amhc+BvFZYFSRETxVE4onmqHdY3XS354aaufZPJ03tt1FmM1U8u7mrRYoIBabRoHUFzgdMyiWniRMo6pXs972IvH4YK29u2lszwzVme7msLO2am7HFFOI7+SCtdsrbrVtpbdTSVE6pndYnJPFV5InmpMv37enp47k4hDtWa71XBbjMrX+LDUno3a9hT7+M9l26b3s8M+8rvzzScWMz44+5WP5NquHOI8MqhXUdTQVUlNWQSQTxrhzHphU//AHiWlu5RdpiuicxKtuW6rdU01xiYSun9JXm/M7S30TnU+cds9UYz3KvP3ZImq3HT6acXKufZ1pGn0N/Uc7dPLt6kjdtneorbTLO6kZURtTLvR376t93NfcinRZ3nS3quGKsT3u69tWptRxYz4KiWquf1rVc5GtRVcq4RETKqp8mcc5IjPKFptugdQV9I+p9D9Gia1XItS7s1djwbz6ohW3d30tuqKOLM93NYWtr1Nynj4cR38lVLNXvalp5quojgpYZJZpFwyONu85y+SHCuum3TNVc4iHKiiquqKaYzK5QbL9SSQJI+Gmicv/TfMm98Mp8Spq3zSUziJmfUs6dm1UxmYiPW+Jmz/Ui18dI+3ujV+cSq5FjTHerkzg7p3jScE1xX6uv2OqNq1XHFE0+vqVmqgfS1U1PLjtInrG7C5TKLhSxoqiumKo6JQa6Zoqmmep5HJxWezaE1DdYmyw0KwwOTKSVDkjRfcvH34K6/uulsTw1VZnu5/wBJ9nbNTejMU4jv5PurtmmpKWJHspoanxbDKiqnuXGfcdNvfNJXOJmY8Ydtez6qiMxGfCVOqIZaeZ8NRE+KVi4cx7Va5q+CovItaK4uRxUzmFZVTNM4qjEvM5PgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABtOwn5luX1lPumT8ovS0eHzafYfRV+L4tu1PPKtokihkfHG2Xfe1qqjfkc17uR2eT1dNPnImec4+br36iqeCYjoz8mZWe0115rG01tppJ5VVM7qcG+bl5IntNDqNTa01PHcnEKGzYuX6uG3GZdFaKsTNOafpqFrmvl4vme3k5688eScETyQwmu1c6u9Nzq6vBtNFpo0tmLfX1+LMNr+pYK+501spFZPT0T9+ZUX1Xyct3KeCZTh4r4Gh2TRVW7c3a+U1dHgot41lNyuLVPOKenxWPZxrKmudzdaqSzQW6Hs1kZ2T0XimM54JnnzIG6bbXZt+eruTVOev8A/U3bdfRdr8zTbimO5btVQW5beysvColJQSJVK1UyjnIioiKnfxdy71wVekqu8c0Wf3VRhZaqm3wRXd6KeasWHalaq+SVlyY63qjvybnZe17fNUTgvw8yx1OxX7cRNr9Xb1IGn3qzcmYufp96gbQ7rDq3VlMyysfP+TbTMdu7vau3lXgi8UT1scS72vT1aHTTN/l1+Cn3G/TrNREWefV4tKpaGg2eaPqKlI0kqWsRZZOSzSLwRM9zcry7kyvPJnrl27uuqijOI6u6PqvKLVvbNNNeMz198/Rj9frHUFbWLUyXarjdnKMhkWNjePJGpw68TV29u01ungiiJ8YzLN3Nw1FyrimuY8OTVdmGtZb8x9vuap6fEzfbIiY7VvflPFOHtM3u+2Rpv8tr9s+5oNr3GdT/AI7n7o96B2uaOhpYnXy2RpG1XIlTE1PVRV5PRO7jwX258SZsm5VVz+Guznsn5Ie77fTRH4i3HjHzVnRmsKbTcCN/AkFTU9orlq1fiTcXHqplFx7lT2Fhrttuaur0kxHZ1IOi19Glj0cTPb1uhMpNBlq4R7eC+1DE9Etl+6GOzawtWjKRbVpWmjrJ2/n62VfVe9PZxd396Indk09G3X9wq89qp4Y6ojs+TNTr7Ohp8zpozPXPf80/s919JqGufb7nDFFVq1XxvhyjXonNuFVVRccefjy74O57TGko87anMdeUzb90nU1+buRierCY1zYLNcUprpfHthgoVVZX5x2jO5iqnH5WOXHmicyNt+r1Fris2IzNXR3T2+z75JGu0ti7i7enEU9PfHZ7VIum1eSByU+n7bTRUkXqsWdF4tTwa1U3U96lxY2CKo4tRXM1T2fWc5Vd3fJpnhsURER2/SOhoGhtTR6otDqrsuwnif2ckecoi4yiovgqL9pSbhoZ0d3gzmJ5wuNBrI1dvjxiY6WP7WLRFadWyejtRsdUxKhGpyaqqqOx70VfeanZdRVf00cXTTyZvdrEWdRPD0TzfvRWsaTT0cEf4Fgkn317Ws3vyisVeScOGPbxwcdfttzVTM+cmI6o6svui3CjTREebiZ7etvVev8AyFSqfunfYpjLf748WtufsnwcoHpbz5tux2zw0emX3Zse/W1W+jVVOKMaqojU9qoq9PAx++amq5qIsZxTGPf1tTs2nposeexmqc+5l1y1TfayufPPcqyOTeX1IpXRtZ5I1F4Gjs7fprVEU00RMeGVDd1uouVzVVXMT44ahsn1jU3l8trusna1UbO0imVMOe1FwqL4qmU49/Ezu87bRpoi9ajET0wvtp19d+ZtXZzMdEsi1B8/XL6zL99TUab0NHhHwZzUelq8Z+LRNk2lKaWmXUF2Y10Uar6O1/yU3eci+OFyiexV8Ch3nX1xV+Fs9M9Pr6l1tGhomn8Td6I6PqgdV7Qbvda2RLfVTUNA12ImQuVj3Ine5yccr4cvtJuj2ixYojzlPFV15+UIer3W9eqngnhp6sLTsr1vXV9y/BF4lWoWRqrBM5PWRUTKtVe9MIq5Xjw788K3edst2bfn7MYx0wsNq3G5cr8zdnOeiUzta01Dc7HNc4I2tr6Nu+r0TCvjT5SL44Tins8yLs2tqsXos1T+mr4pG76Om7am7TH6qfgwg2jJgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG07CfmW5fWU+6ZPyi9LR4fNp9h9FX4pDadq24aXmtv4PjpnpUNkV6StV3yd3GMKnipH2nb7Wtiubkzyx0et3bprrmkmnzeOeen1Ko3a9XozC2uk3vFHuROhZz5PWs/vlX/n1zH7IQF82h3+7wOgdPHSROTDm0rVZvJ5uVVXopM0+zaaxPFjM9/wB4RL+66i9HDnEdyoFqrV72L/po36vJ/oU2+/xfXC22X+T6pXvba5zdIRo1yojqtiKiLzTdcvHoUuwRE6qfCfkt98n/AK8eMfNhJs2SX/YtQMqdWPqXplKSBz2/SXDU+CqUm/XZo03BH/qf7XGyWor1HFPVC5bcpHN0tSNa5Ua+rajk8fUcpVeT8ROoqnu+cLPfZmLFMd/ylhxsGUTWjK59u1Va6li43Z2td9Fy7rvgqkTX2ou6euju+HNK0V2bV+iqO10jeKSO4WurpJUzHNE6Nye1DA2Lk2rlNcdUttetxct1UT1w5UVFRcLwVD0l5+6qofmeD6u37p5vc9LPj83oFv0UeDlU9IefrVsuVU15acLj1np/63FbvH8Ov1fGFhtf8uj1/CWsbYf0Hqv4kf3kM1sf8unwn4NBvH8afGHPpt2PbFsG/sd3/iR/Y4y3lF+636/k0uwftr9SJ27NRL5bnY9ZaZUVfY5f/pJ8np/w1x3/ACR9+j/LTPczM0CidWT8bRJn9wv3Tzan0seL0Cr0fqcpnpLz9uOxq9U1Vp5tr32trKRzl3FXi5jnZ3k964X3eKGN33TV27/nsfpq+LWbLqKa7PmuuPg+vWGzq332WSrpXrRVz+LnNblki+Lm+Pmnvydeh3m7pYiiuOKn3w56zabWoma6f01e5mFTZ9Q6EusVe6nROyVUZUMTfidlMYXw58lwaOnU6Xcrc2s9PV0T9+Chq0+p2+5FzHR19Mffiq9VO+pqZp5VRZJXq92ExxVcqWNFMUUxTHRCBVVNdU1T1ukY4qa0aFSOric+lpqH8tG3g57UZ6yd3FeJgJqrv6vNE4qmrl7eTbRTTZ0uKozEU8/ZzZr/AMSaA/7aqv8AC3+s0X4Pc/8A7R9+pR/i9u/+U/fre9Bq/RFBVxVdFYKuGoiVVY9jW5Thj9vwU6rm3bhdpmiu7ExP32OdvX6C3VFdFuYmPvtStx2qWWroKmn9CuH5aJ0fFrMcUVP2iNa2HUUVxVxRynv+iRc3uxXRNPDPOO76sXNazAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABtOwn5luX1lPumT8ovS0eHzafYfRV+KO2+fn7L9Gb7WHf5O9Fz1fN07/ANNv1/Jk5pWeAAF72L/po36vJ/oU2+/xfXC22X+T6pXnbd+iEP1xn3XlN5P/AMmfCfjC23z+PHj9WFmyZNpewupay/V9M75UtPvNX6Lk4f5vgZ/yhpnzNNXZPxXmxVxF2qnthcdstF6Vo18rUVVpp2TLjw4tX7xVbHd4NVwz1xMfP5LPerfHpsx1TE/JgZtWQfRbmq+4UrWplzpWoieK5Q67s4omZ7HO3Ga4iO11Jc6qOittVVTLiOGJ0jl8kTJ5zZom5cpojpmW+u1xbomueqHKaqqrleKqelPPnVVD8zwfV2/dPN7npZ8fm9At+ijwcqnpDz9adl36d2n6b/uOK3d/4Vfq+MJ+1/y6PvqlrO2H9B6r+JH95DNbH/Lp8J+DQ7x/Gnxhz6bdj2xbBv7Hd/4kf2OMt5Rfut+v5NLsH7a/Ui9u3z3bPq6/eUkeT3oq/H5I+++lo8GYmhUTqub5nf8AV1+6ebU+ljxegT6P1OVD0l5+k4aO6Wyio73CklPBJIrYKlj0Rd5M5TguU5LzI1V2xfqq01XOY6Yd8W7tqmm/HKOqWhaY2rTRrHT6hh7RnBPSoUw5PNzeS+7HsUo9ZsFM5q0847p+U/X2rnS73MYpvxnvj6NTpamivNvSWnfDVUc7VTKYc1yclRU+Copm7lFyxXiqJiqGhprt36M086ZYBtH09Hp3UToKbe9Enb20KL+qiqqK3PfhU6YNvtesnV2OKr90cp+rHblpI0t7hp6J5w36BsN0sUTVw6Gqp0Rcd7XN/wBzFVTVYvTPXTPwlrqYi9ajsmPjDmO72+e1XOpoapu7NA9WO88clTyVOPvPQrF6m/bi5T0Swt61VZrm3V0w+Q7XWm9M6cqb+2vfBJHDFSQLM6STO75N4cs4XoQtXraNLwxVGZqnCVpdJVqeKaZxFMZQhNRQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADb9h1NLFpyrmkY5rJqj8mqpjeRGoiqnimcp7lMf5QXKar9NMdUNVsVExZqqnrl8W3ekkko7VVMY5Y4nyRvcnJu9u4z0U7fJ25EVV0TPOce51b9bmaaK46ssdNWzQAAv2xaJ79Yq9rFVjKd+85E4JnCIUu/VxGlxPbC32SJnU57pXzbNSy1OjldAzfSGoZK/CZw3Dkz8UKTYrlNGqxV1xMLfebdVWmzHVOWCm1ZFJ6bu0lkvlJcIkVVhflzf2mrwcnvRVI+s08amzVanrd+lvzp7tNyOp0hFJQ6ksSuie2agrIlaqp4KmFTyVPgqGBmm5pL3PlVTLbxNvVWuXOmqHOuqtPVunLnJS1jHLHlexmx6srfFF8fFO43ej1lvV24ronn1x2MVq9JXpa5or9U9qZ2Y6cqbxqGmqliclBSSJLLKvBFc3ijU8Vzj3ETd9ZTp7M0Z/VVGI+qVtekqv3orx+mnpXXbJqeOnofwHSyItTPh1Rj9RnNG+1eHu9pUbFoZrr/ABFcco6PH+lpvWsimn8PTPOenwYyxjnvaxjVc9y4RqJlVXwNZMxEZlmIiZnEOraWJzbbDC7g9sSMX27uDzaqqJuTV3vQaaZiiKe5ypPE+CeSGVqtkjcrHNVMKiouFQ9IpqiqIqjol5/VTNMzTPUtWyuGSXXVsWNjnJGr3vVE+Sm45Mr71TqV281RTpK89ePisNqpmdVRjv8Ag1ja5FJJoet7Nqu3HxvdhM4RHJlTM7LVFOspz3/Bod3pmdLVju+Lno3LGtk2ERvS23WRWqkbpWNa7uVURcp8U6mU8o6o46I68S02wxPBXPfCL27RPS6WuVWr2awuaju7KOyqfFCR5O1R5uunryj79TPnKJ6sMygifPPHDE1XySORjWomVVVXCIaGqqKYmqeiFFTTNUxEdbquWNy298KcXLErE9uMHm8VRx8Xe9AmmeDh7nKcjHRyOZI1Wvaqtc1yYVFTuU9JiYmMw8/mJicS2LTliTUWyKnomq1s6Pkkgc7kj0e7GfJeKe8ymq1f4TcpudXKJ8MQ0um0v4rb4o6+ePHLI6+iqbfVSUtbA+CeNcOY9MKn+3mai3dou0xXROYlnLluq1VNFcYmGq7Bm1SMurnI/wBBVWbufk9pxzjzxjPuM35RTb/R/tz9jQbDFf6/9eXtQO2e5w12qWU8LmvSjhSN6p3PVVVU93D4kzYbNVvTzVV/6nPqRN6vRcv8NP8A5j3rrsh1HFcLIy1zSIlbRJutaq8Xxdyp7OXTxKne9HNq756mP01fFabPq4u2vNVT+qn4JbWui6HU8TZHqtNXsTDJ2NzlPByd6fFCLoNzuaKcRzp7Poka7brerjM8qu36qBBsiurqndnuFCynz8tm+52PoqiJ8S8q8obPDmmmc+r4/wBKenYb3FiqqMev796U1pJb9E6RdYLW7eq65q9o5yor1YvBzne3G6ie3wIu3xd3HU/ibv7aejx6o+aRrpt6DTfh7XTV0/X5MgNUzYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACY07fn2N07o7fbqx0u7xq4O03MZ+TxTGc8fYhE1WkjU4ia6qcdk49qTptTOnzMUxOe2MrW3a1fWNRraK1NROCIkUiIn+crZ8n9PPOaqvbH0WEb5qI6KafZP1fyXave5Y3Ry0VqexyYVronqip5pvn2Ng09M5iqr2x9Cd8vzGJpp9k/VUr/eVvMkD1oLfRdk1Wo2jg7JHe3iuSy0um/DxMcU1Z7ZyrtRqPPzE8MU47IwiiUjicwL5RbT7pQwpFRWuy08f7MVO9idEeUtzY7NyeKuuqZ75j6LejebtuMUUUxHhP1fQu1u/KiotHbFRf/FJ/WcP+P6b/AGq9sfRy/PNR/rT7J+qoahvT73UsqJKKhpXtbhUpYezR/Hm7iuVLPS6WNNTwxVM+M5V2p1E6irimmI8IwiiUjp7TGqrppuR62+VqwvXL4JfWY5fHHNF80VCDrNvs6uP8kc4646UvS667pZ/xzy7OpfG7XYpotytsbX8sok6Ki+5WlPPk9VTOaLnu/tbxvsVRiu37/wCkTeNqdyqKZKe00cFtjxjeRe0cn0eCInQkWNhtU1cV6qavd9+1Hvb1dqp4bVMU+/79jPppZJ5XyzyPklequc965Vyr3qq8y9ooiiMUxiFNVVNU5npT+mNV1GnY3JSW+2zTK9XpPPArpW8E4I5FTCcORB1Wgp1c/rrqiOyJ5ezCZpddVpo/TTEz2zHNYvxuX7+62z+VJ/WQf+P6b/ar2x9E3891H+tPv+qC1JrKq1BTvirbbamSuVF9IigVJUwvJHK5eBM0u20aWrNFdWOyZ5ezCHqdfXqacV0U57Yjn7cpC27SLlbIEhoLXZoGoiIvZ07mq7zXD0ypHubJauzxXK6p9cfR32t3u2oxRRTHq/t9q7Wr6qYWjtap3osUn9Z1/wDH9N/tV7Y+js/PNR/rT7J+qt1up31l4guElos6PiRUWFtN+Slzni9ufWXj49yE6jQxRam1Fyrn155x4IVesmu5F2aKeXVjlPisMO1a8wRNigoLTGxqYaxkL0RPYiPIVWw6eqc1VVTPjH0Tad7v0xiKaYjwn6vzV7UbvWQrDVW6zzRO5slge5q+5Xn2jYrFueKiuqJ7pj6Ple9Xq44aqaZjwn6oiw6yqbJ2jqS2WlZHyuk7R9Ou+3P6rVRyYanchJ1O2UanEV11YxjGeXw6UbT7hVp88FFOfD++hOfjcv391tn8qT+sif8AH9N/tV7Y+iX+e6j/AFp9/wBVe1Lqyo1FEjay32yKXfR6zwQK2VcZ4K5XLw48idpNvp0s5orqmOyZ5ezCFqtdVqY/XTTE9sRzSdg2h19hsNLbaKkpndi9znSSqrt9FVVxhMY588kbU7Nb1N6q7XVPPsd+n3W5p7UWqKY5dqYqNp1DcGMbd9M0tXu8lfI1+F8kcxcdSJTsdy1ObN6Y++6Uqrebd3ldtRP34Piu+06tloUorHRxWuFE3UWNd5zU8G8ERvT2YO6xsVumvzl+qa5++ntdV7ea6qeCzTwR99HYz97nPe5z3K5zlyqquVVS8iIiMQppnPOXrR1U9FVR1NJK+GeNd5j2LhUU410U3KZorjMS5UV1W6oqpnEw0mz7XKyCFjLrQMqnpwWaJ/ZqvmrcKmfZgz9/yeoqnNqrHd0ryzvtdMYu057+h+7jteqnwOZbrXFBKqcJJZVkx7kRPtPlrydoic3K8x3Rj6lzfq5jFujE985+jNK+sqLhVy1VbK+aeRd573rlV/28jQW7dFqmKKIxEKS5cqu1TXXOZl4HY4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOh85PmToORk6DkZOg5GToORk6DkZOg5GToORk6DkZOg5GToORk6DkZOg5GToORk6DkZOg5GToORk6DkZOg5GToORk6DkZOg5GToORk6DkZOg5GToORk6DkZOg5GToORk6DkZOg5GToORk6DkZOg5GToORk6DkZOg5GToORk6DkZOg5GToORk6DkZOg5GToORk6DkZOg5GToORk6DkZOg5GToORk6DkZOg5GToORk6DkZOg5GToORk6DkZOg5GToORk6DkZOg5GToORk6DkZOg5GToORk6DkZOg5GToORk6DkZOg5GX/9k=" srcset class=PostItem-TitleImage alt=十五行代码带你搞懂Promise sizes><h1 class=PostItem-Title>十五行代码带你搞懂Promise</h1><div class=PostItem-Footer><span>浪子</span><span class=PostItem-FooterTitle></span></div></div></a><a href=https://zhuanlan.zhihu.com/p/367755513 class=PostItem><div><img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCACFAMgDAREAAhEBAxEB/8QAGwAAAgMBAQEAAAAAAAAAAAAAAwQBAgUGAAf/xAA6EAACAQMDAgMGAwcFAAMBAAABAgMABBEFEiExQRNRYQYUInGBkTKhwQcjQrHR4fAVM1Ji8SVjosL/xAAZAQADAQEBAAAAAAAAAAAAAAAAAQIDBAX/xAAmEQACAgICAgMBAAIDAAAAAAAAAQIREiEDMUFRBBMiYRQjMnGh/9oADAMBAAIRAxEAPwDER6oQUEUAFCgikM8Y89BSA8LcsOlAFXtiBRYAGiKmgCVBoAKKBknk0ASEJoAsUwKAICmgCcUAQFNAiGWgCpyKAK80Aez3oAgmgCAaAJoAsTigChbHegQNpfWgBeKUHoaoBpDmgYzHUgMKhPQUh0GCfDU2VRDJk07CgUlvkZosVAGhweKYqEL6+S0+DOZMZx5fOmIzF1ZyxO/GKANjTr5bxSOjqOR+tJjQ+UzQMssRpWFENEaLCjwjOKLCipQigQNlPlTAGQaBEFTigChBpgQBigDxkC0ADaYedACtxeLEhYmgRkT6jNNwp2LQ2UkUinkiOQxyPWmI1rLUlchX+FvXvTA14J0OORUsY/FNHjqKllIZj8OXgGodlDC2uRxSsdFXtCRiiwoydXvIdMXw8b7hlyq9l9TVrZL0cTcyvPIZJGLMTkmrMwOOenSmA5bzS2siyxkqwPBoGdhplymoWiyoV3gYdR/CaylplrY+Iqmx0W8EEUWOihhxTsVFHQd6LCgDIvmKdiooUXzFOxUQEVulFhQvNJHEDk9Ka2SzOuNSiXoaqhCMmohuRmmIEb2aThFoGKXAd2+KTLenQVLZSQvtxyzcep/wUrHQyRkZIyPMVZJdFDLlSKBDEdw8XG/IpgMRXsq5y5INABE1O5jcFXPHSikFm5pvtISu244I6ms5QNIyIv8A2qlxts0CjvI45+gqVEHJo5m7uZJ5JJpZC7sclm6mtKIsR3jHTmmIjtkc9sUAGjZ8+Zo0OmHhne2kEsMjRSZxlTxSewNqL2ncLtuYsN/zTv8ASpwRWRoQa0jqCCCvY0sAyPSavGFJ3UYA5CEuvKc4Bz5VWAshY6uerAg+lPEVgW1aR+ADToVnk1OUKQjUqQWJz3M02QW69aoALRk9ck0m0NJsusSKu5gMeuf5VGe9FYa2yGnTGyMfFjnqT9qLBRBBJX5OAO5PJ/tUOSWy1FvVA3tAxJJyPlzRGeTCUMUUVZRyEIrW0ZUMwO27aV2npTAOIi34lUfKlkOgsMaJ8UjgL29aqxUWku4YuEVMkccc1IwUUzu7F+mMc9AaKCyJpVRMkk4FFMG0KyvgBRkcVSJAA88DNABMHxNoPQZNIC24jHHpUlbCiVSMc59KYFcsWGVJHcUWKggLRD4Gx3I3Uk9lNaLeKZFbIO4dhVWRRC7lTcfhGOSadhRQKHOVy5+1FhR6RCgBZgM9hSAIvhxx7nfB8hSsdEwyo4wsYAY7V5xk1LspUQ9zDECoQM3Yg4BrNwk/JqpxS6KeM7x7zAo3YwAOCKqv6QpfwIrjGBbKoHmazr2zVv0iPDkkbLEjPQAYAqXKilGz2z4PgG71PT71Ku9jdHo7i0dvC8F8Af7qvnHzFDnNbBccHqg7wvAFNneAFhgNypHp+dC51JbQ38etpi81vqUKrkiUHsOSfTB57VUeaDZMuGaXsg3rgeHLC0c3bd0+1aqd+bMnCtNAhGxfcRkmnkTi6sPlFyFycHGatNEtC9y4298+pqiBZ2LBccgdTQBdY3AJKkfSlkisWEgjaTewOATik3QJWWEUzPt4OfIdKWSorF2F93kUcjBzipUkU4s8FcLyc844otPQqfYdQqxqrEjPrUN27NVSVC80rpIcZ2bjyO4rWO1bMZa0BM+TjDcdBVaI2XhndpANu59pIG37/lSoqwxR52/2yxwc8cCpfJGPbGoTl0hiDS3uMGQYGPwqMkH1ziuXk+Uo6R18fxG9yNG20m2jk8RnT4GwNxwoPrXG/mTXR1R+JB/8ha4gto7NriBUXccKsh6jOMjFaw5eSfJgzKXHxRhlEV95C264kEztn4VXBUD71tOLu7ozhJVTVjVotrcO6OGc4yAqlTnz5rmnPkSs3hDjk6BqsIR438ISqTkFiR6cd6rOV34Eow6fYGX3vcGQxEdRsXJqlKL7sTjJdUDlRraIkQxTxMMhwMEH6UReT7oTTir7QCziZ3E8kkcJDZCscgfkT/5Ws5KKxWyYRv8AT0bQWS4h2zXEcg+LJUDbkdOc5FcLai7SOtRyW2L3Vqg8OOWSNkY8DBzx/wBv0zWsOR3aMpQTVNho9Nhk3NHctkZBGzkfStV8j+Gf+OvZR9GbdiKZTzzkVS5/aE/j+mL3OiyAcSp15zxWsfkIyl8V+AMGm3S5ZFUjp1Ax96cuaD7JjwTQ4mkTFNzzQJxz8ecVk/kRukjVfHk1uiY9Lwn+/CVJxnnk+nFD+R/Aj8f2xpNPRUIW5AbH/D/P8FYPn/huuBeyHsIt3xXIO8Zxt/vVL5DqqJfx99gpLWzjIVpS2OSAv96a5peEJ8MfLFvCsh8YjkcZ5JbGflTfJydE4cfZfwYJX2iE5Byd2RgevP60vs5Eux/XBvo9/p6N8CxBjuwdpJHzGT/nNH3SW2w+qL0kGAtrON0a2jWcnZ0OPUZ+lRnOe1LRWPHDuOy8d0jq5S1eMsNqKiknj06Y464rP65tpXZf2Rim2qKsXhnRWJWQHaxZ93AHbHHr3rePBffRlLn9dlDsBJjYnaoJBJIIx5dK1fHFdmanJ9CM99PHMQDFK2P+A69xWa44tX0P7JLzZMc90pYi2jVWXLARjbnyyKJRg13/AOlxlNbotasSjSE/vmJHHCgVE/XgcOr8gnknXc0lwr5PAUBsVSxekiW5LyTFfTx2jNIwz1X4ftSlxpy0C5ZKOxWK7ntLzwmlKKOq4rWUFKNonNwnTGJ3KSDbNFiTllI/Sph+ltdFSdPTJkSCBG/fNwNy46K2B0NJZN9FNRj5BWsU9y5typl8Qjw0bz+dbOC7WjBS7T2aFuGspDHcytGqgFUYgnPbJ8vnXPOFq0rOiMt03oaN/FY3k0gkdyyDxCvJHpx9fvWajOcUmXlGEm0MJqFk8fxKrH/hsA/I81k1ypmyfG0JPfJJIS9mMRnhDjLD5Y/WutcbrTOV8m6cSh1i18RV90YhcDd0J/z1qXwzrsHzwT6Lm/sVkfMci7cBv+vAz34/tR9XJQ1y8dlzqNgwAQkt3J5xjt1rP65rtFvl4/AM3dqq4C7lIydoKn68+dWoTZD5IIlbq2kgdljTIPO7k4+v8qThNSGpwaGFe3CSE7FC4z6dMfy6VLjN9GilxrsFNqdtDDukVZdxAUjGMc9KS4pt0hT5YRV9iEE8o/epbyyE5zkEZz9P8xW7g5aOVTSd0PXEdxcRRiS1a3f8W934x8s+QNLj4XFvejTk5VJdbFcxwStL4qbNhK7+2P1OOnP8q3iq0jnk7tsTklmljVtnhKPhAbg+pH3q21fZKv0QzFR4cTqVjc7ix+31xWVX+mW2lpeCYIIQAY5g0kgH4s5LUpyflaLhGHhjIZJEWO4b4EAGFbPPesad3A1yTVNiBYzzAWqSBBwCzCuhLGP6Zzptv8lRHJBhmkIA74H9flVqKkujO3HRMFzM0rRsyLnoxbH1Jp/VHsf2voND4csYSZVMgwAW6mueSadro6o1JU0U8B5rtXktt6r8K4bAA+VapNRpMzauW10bAtptRhEf7uERnklO3lgVyP8A1O2dVPkVdGhZ6DLh1mu4HjTPhlFwc47+VZ/5MU7SY1wNp2zI1SxEd8v712xneXbqw+f0rs4eXJbOTm4sWqArMjJF40XiY44OTwfz4rVxM1KuzX9nPZi29oruVRcSQlPhQ5DDI9COnHWqqkZuVsm40NrS8lhls7hjCcM4yUK9NxIHA68+lZxjTo0nN1dm4nsrJpd3tWys7zxGyWmJdUHng9vvWlo5m5WI6veCxuzHcaPZkrgh4UOwgjrg8flQkvAnOXRrWWiXvu6yxadpalvwxvEhLf8A54+9DY1kzcs9MsmaOa40ixV0OCvhrwfPIFTZSvyAm9nbAak0kemW8gbJBklIXPXGBzR2UrXTCP7P6cJD/wDH2fALNhX2KBzzlvlxinSByk+2clqFrblYVS0mtXkP7lY5VZSR6EZxz0J709IjNhL/AENNNgto71roTycFRtII6nnGO/5U7E3XYay9kNQ1hZb1JJlU5C+9MACPTjp9KVGmTPL+z+eVTMbtQrMcyLLuXPHoOcn8qVBbPRexlwJJltrxJpVIV/E+EjPcHB7A1LgmWuSlQW5/ZjNHGxguYpg2Dtb4M5HToe/FOmJSXoydQ/Z7eWlr70zIfCi3kB8kYIz9h/KnTFaOd8CC3Rw5Jy20srDjjPHrVYWGVIzphskIDMFX17471WCJyYdZI3tVM0jNK+Qp6AChRrSG5XtizAJuB5PA8vSqJREMkjIV2BSCMN3GawaRtFutjsAkQs/jeIgXjPH0ov8Ahov+wtpOsk5ZpjEVOSc4z6VlzddWXxu33Qa2nurWYJFIHQ5wS/B+eO/FZTUJR2qKWcHSdoZ1E297ucAJJjlQcgHA7fSo4ZSga8kY8hg2jKsTwg/Fu3J6Y/z+Vem/Z5a9Hbfs6u2TWTb79ofDMPP4Sf1pSWrJT2d9qmpwosQtJI5VaYB2jYHz64rPTKejI1K7dUl2k/BBgY8qIoli8im600v03W47d6fTE1asBqGrvY3FpDGx2g8/U1UY2mwcqaRsNcSSxl0PDgGsixRb2f31IznqDVVoL2MX2qTacjCMnc8mScdAAKcVYSdFtLks9SWJ5bWLx1bcJNgzkd/nQ1QKmrNeaJJtQW7nQFbVcR5H8RHX8z96B1s57VvaKafUY7C2fbl9vXAqlHVsiUt0g9zfCx0yzs4TlVbDHzPU/c5pdg3WgGn6kf8AWpAeA/gk/XcP/wCqbWhJ7NuW8ePT1yx3Ko59Qx/pUl2WSeKbSpJJ0DlNyYPTDDNAWfHtZgS21i4jQKU42qF4571oiTN92Ey8kqWboBxn50x96QK4jkjKRhyVTouPM/8AlCG0UkfYzEttw3PGOKEJmuIrQRggAnGdo4J+VedlOz08YVsViu4LQblhwhyBvzmtZRnPVnPDkjDdERCG9LSwAo+cBdu4fQ9qv9R/MhXGX6Wmem01nw9vPuYDjAwR6HtRGXhoJcd7TC2OnXexjexSKuOCF3sDUzlC/wAsIxlX6H9N0r2ZuJVjvL2/SQ5BVFXAx2yc1ouV+UYvjXhm1rPs8mnxWk+hC6EJBE0k8qIe23nIPPNaSbZnHFdmVaQe0FxqMkVoHzntMHCj55NLBJbG5pvR9B9loBJYvDrdsZG/Csi7jkc5Bo0hJ2dJDZaSkPhxxDZjAB8qWiqKy6Jod26tJZxs6cg9xVJoTQ0tpp8Ee1YVCjt1paHsjxNPhYP4CKw/iEYzRaFTImubCaNlkhWRW6qVHNFodMVt5dJt+YrARFf/AK8UWgoWv/aDTQjxtFvx2DbaOxWl5OTj1HQILvxm0q4eXeXw02Vz881e6Mcop3Rr2+uezsvxS6dIuBnAkBx+dTVDzixyDUfYx5PeAPDkOPxEg8HIpgpRLy+0XsvMpV/FjUE844z160qQZoRl9qfZb3aeBRebJMbiqA5+VPEPsicFqsGizXz3Frqd8FwAEazDD6ncKoSmvZgXZhhUiC6eUZzteEpj14Jp0WpCkk0IjBLKWIBYFTnP9Kjdl5Jg2ninkDyFQp5ZRxT3QWmeS+csGJYFemB1NYvjRquRvbJZ57ty8p8hjNVGKj0Jtydscto4YE3TH4R0HNPsa0Mf6uPDSO0j2PuwDg4PzrN8d7ZouXxHsMdQnhTfBK+TwxTgr8h96xUIN0zWU2o6E7aNYLpZC8kpB3Yzj7/eutLfRwzetM3UZXUMuRnqQa0OUKMJIGDEgdQT/SkI0Bd26wlRHMHPP+6cAegpUyrQxZ38UaYS7EcnAzIxJ+Q5/Sk0OLrpjz+0gtIQouhO45O18c0sbLfJQ3B7Xl7cPMbeJR23ZP2pOI1y+wZ9u4MbfdjIQcZXjNVgxfcGj9ptMu0G6eS2kbggr/SpwZS5Ux5LqNkBTUoHB6Bjj9aVDy/pn3t/AJ9ksUe48B1CEGmkyZS9gnuLG2TxJ7DxB57UH6UbIbS7Qxbat7L3+1JLZoX6ZK8fkadMFODA6npWjBRLbuSDzlM4+/NK2NxiYMw0qJ9jNcoO+G4/lVqzOkZt7PbR5SFnkXsSMEfnT2FejDleTcSC4U8YJoZSSBCEtysgyewbBpFEratPKUEBkI64Un+VKmyuiBpE5ORZzDPQ7Dj+VOhWZCMiork5OeFo23RtaSsetXFwNnhE7uQAQf8AyparZSlY2lo4ADlAuONzjI6/50qVJPoeD8nlWKPewYOwJBKpgf8AlNu1RUVRK2pkceG+1j0AGPzpOKfYSbNeK2SHaAgBxgng1oujjk7Y2sbRLvkyAeOOKWSekS00LzywxgeHIoJ7Zqk2SeT9/k4YIP4wP64osKLzrYWiZKTyvgnKyKMflx96m2WoIrBfaPeTLF4F4jMMgrKpyfkV/Wi2Dgkgj2+nnmKecBuU8SEYP1zVWyNAZIRGuUkDN329KabJAKFfJaVQR26E07EQ0+07ZPvSsNlHuQRne2B5mixpNjdtrN6sWzd4kPTbJyPvRSZVtaKw3qe8CX3VJNpztLnBooV/w6qL2x05rNYX06S1k/iaA9PUVm1Xk2TtdC8t/bavGY8Q3CHo6qElH2xn/OKdNEXZz19o+0kwznjs/wDaqTJM9be4VsPGJF88iqHot7luJJ+AD5n+VFBkRb3l3pJb3SeSEMedvQ/Q0mioyLtrt/KfjuIpD/3jAP5UdAzEjtVkfc4Cgn8PNZ2dCRsW0dta4PipGvfbjLcdKxnk1pHRFKIzI2nKS6kEsuMnJIrmj9l0zZYroQZbVcgHad3xNnkj5dq6E59sioD8W64hAgmEj5wUbnNaRlfZlKNdMrdRTQIq3EbRyOdqleR9RnP5VVmdU7DnTdUtLfddRMQx446fOmjn5O9D2iezMetI8gv4reToqlctmm3RKjYtr+nXWnE2izs4UAlkXAz96pbCsTB23UBxHdmVyckEnn+tNxsakM6XAqXcbyRykqQSinGPrRQnNH1aD2e0fVrNvDWWBn+JAAPgJHP0rJMvFNHH3nsfr0d8beO18aPqJUYAH7mqyIXH7LQfs61dmaR9qpnAG/4j8qSkOXH6Jm/Zzq6xhkKNkHKgnjyqlJC+tmTqHsvq1jAGMO8d9h3Y+lCcWN5LszobS4vHhs4F/eO2CBVtkLbH5NHvNNuIUnXaZm2gtgZPHbt1qL1ouvYS606707WJbeEiZgoyAM5yM/fqKzpyVsu1F0jau/Zu6uNHjvYbM296oxIikASDzx2NVGVaZEuO9oxxNJb/ALm6XxWHB8QdKe2KkLyNvBKApnyJp2wxQvGk7z7IkNwf+C5JoTY3FGhPpW62E0LMrd1Pn5VZnRkLYvcy7RFtYHGccCih2ZniOn+2m9hxg/0rM7PBUXgLnx0wwH4v/KMfQsvZFzcqzkQ5SMY68frSSG5ATM0pJBOzuOuKGhZN7C2l/cWs26JynbinRWVm5pGvsjv4wEodhwVyBjrkZGe1FESO+sPaeOW1EskO1Omxjzj0qcXZGaA/6do15qvvsN5JBzuaKPAJPzp20qJqLdgtXnswDbxEo0gB8RjuDjyoV9ilXSOWvNJaJlKlQWOQRWidmVNCseozWzbPFyqnuMg0mOMbOk0r2vkiZQxJzngNxU42W5OPZuze1UphUQvlzywz2pKIPk9C2qe0dzNaIIJMyAZ+EUKO9g5utC1n7eyrH4dyxWUYHPnTcBfYzTT2sW5xFdQqwYcHqGpOLKXJ7M831tb3wvLS2iDj+Pbkg06fknJJ2iZdQ03UnQ30BjkVt25DwD9O1Kmuh5J9nQpb6cVS7hCT4GdzNuI+tTbNUl2GfW7aRCkiMtFMeSMS50XSL5i4kcMfI4xVZNE4xfRh32gNEwWKcFR0Dd6a2iXrsrpul3lpL71bxEt0IDg/rV66I/T2jYkt7m4iJkiVGb8QPf1pWkPFvsoIIraPYMZ7nuad2FJHAXOEQlhz3KkcVlTOm0ZM7yhid4YdTlefqapbJehOVickvlj0q0Q3ZKTsCu4E449MUUhJseLLKilE8Nl7qOfvSY8hmC5lgXaGyoOenehEPZpQ6q7rh+hpkNBEugxykpVx0yaYqYYarIwKToHA7nqKVDsemV20qO7V98Sd+4PlS0mDurOdupreVt6qQT1xTBWgcc4TBTjFAmrGotQ3EBm56daZLiaUWpZTw2JIx3NFCtmVc3MsMrKwEsZPcZ4oKRMd2gTAJ2f9WwRQKg8N+8ZyJiyHzFA6YX3idxvhw+Ofgbn7dalopf029HvxAqtJKyM4y0YPH2oxtDTpm175bOh8MKxI86WLRpkmZU9zsmI+JFz1HNaVoxb2H/1CExeG7mT18qWOx5KtixnljbdDJx5Gqom66JOs3C/DKGpYoebKNqayDlj9qdBlZ8/nV0yPEJVRkD6f3rI6RRi03O4jb9afRPYeO1jVN5yxqM23ReKqy0aBlBwPtTRDH4Y0JXihgkHuI0hgLBcnOKlNtlNKheEBhnpmrbMwkkTRpvEhz8qVjoi1mkZ1Ut9ashofl1ScLHEpIj2425yKYqM2YmOXAPB7UhoET8Q/7UAV/jIoGGS4kAA3cUWLFBFnLyYK8HyoJxoHMoycDGPKgoCZZIgMNmgZdLhjzgA+YpBQwup3UPIkJx2bmmmKkaEGoTSw7zwfTijJ2GIZbydF3K5I8jzVpmVhUvmkX4o1+nFMZ6WR1GVZh9aBFBeTY5bd86ALLKkhw0fPmDQB/9k=" srcset class=PostItem-TitleImage alt=JS基础-读懂Promise sizes><h1 class=PostItem-Title>JS基础-读懂Promise</h1><div class=PostItem-Footer><span>Sky</span><span class=PostItem-FooterTitle></span></div></div></a><a href=https://zhuanlan.zhihu.com/p/144053135 class=PostItem><div><img src="data:image/jpeg;base64,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" srcset class=PostItem-TitleImage alt="用Universal Sentence Encoder得到句子向量进行聚类" sizes><h1 class=PostItem-Title>用Universal Sentence Encoder得到句子向量进行聚类</h1><div class=PostItem-Footer><span>baizi...</span><span class=PostItem-FooterTitle>发表于文本分类技...</span></div></div></a><a href=https://zhuanlan.zhihu.com/p/493090313 class=PostItem><div><img src=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABOEAAAFHCAYAAADnWFi/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7DAAAOwwHHb6hkAACAAElEQVR42uzdeVxU9f7H8ddoq3bbU1DIpmy9aYaWDKUZ5XXLjUmKIcs1r1JmrhVoqUxdl7T8hVtpWjEUNmh11cwuLSqDpWRquzkpJKPtm9l6fn/MMAwKCgoclvfz8fDxgLN8v59zRuXwOd/v52sxDMNAREREREREREREqkwDswMQERERERERERGp65SEExERERERERERqWJKwomIiIiIiIiIiFQxJeFERERERERERESqmJJwIiIiIiIiIiIiVUxJOBERERERERERkSqmJJyIiIiIiIiIiEgVUxJORERERERERESkiikJJyIiIiIiIiIiUsWUhBMREREREREREaliSsKJiIjUdwUu7BYLlqkesyMREREREamzlIQTERGpo3wZdpy5ZkchIiIiIiIoCSciIlI3+TLshDuyzA5DREREREQClIQTERGpKXKdWCwW7BkunBYLFosFi8WOKzcwXdRiwWJxUjxp1BNyXMi+XGcwAZdiC5lmWhDaTinTT7fNLKMfERERERE5VkrCiYiI1DBZy2GwYWB4UoEsEm1exga/TyFmqgfw4YqPIaVfOoWGgZGfTlzRvuhkCl1xAKR6DIyJNn8CLjKRrCk5GEVtTYrBnuEr7nhZlL+f0LZERERERKRSKAknIiJS07SyEgYQYSUOYEosttDvAQjDkWlgZFpZZLFgiUzkcJNPfevcZAGpnW3+DdHJGIaBOyGs+KCQfqIAtnnxISIiIiIilUFJOBERkRomrqW1HEf5cMVbsFhiyHMVBkavlc27IwuIwxph9tWJiIiIiNRPSsKJiIjURgXZuJcBU3JKjmYrg7VlHJCFt8DswEVERERE6icl4URERGqzwJRRz9Mlp6OGWaNKHBbWwU4ckLK25CINJWrCiYiIiIhIlVESTkREpDaKcJDmioNliYRbLMRsSyW1X0gdt+hYUotWR4134Ytw4M5PJ25SjH/108AiDeUZRSciIiIiIsfOYhiGYXYQIiIiIiIiIiIidZlGwomIiIiIiIiIiFQxJeFERERERERERESqmJJwIiIiIiIiIiIiVUxJOBERERERERERkSqmJJyIiIiIiIiIiEgVUxJORERERERERESkiikJJyIiIiIiIiIiUsWUhBMREREREREREaliSsKJiIiIiIiIiIhUMSXhREREREREREREqpiScCIiIiIiIiIiIlVMSTgREREREREREZEqpiSciIiIiIiIiIhIFVMSTkREREREREREpIopCSciIiIiIiIiIlLFlIQTERERERERERGpYkrCiYiIiIiIiIiIVDEl4URERERERERERKqYknAiIiIiIiIiIiJV7DizAxCR2sPn81FYWMhPP/3E33//bXY4IiIiUo+dfPLJnHPOOVitViwWi9nhiIiIHJGScCJSpq1bt7Jy5UrefPNNNm3axHHHHUezZs049dRTadBAA2lFRETEPPv372ffvn3k5+dzxRVXcO2119K1a1e6detmdmgiIiKlshiGYZgdhIjULM888wwLFy7kyy+/pHfv3txwww20b9+eJk2amB2aiIiISAm///47eXl5vPXWW6xcuZLPP/+cQYMGcffdd+vZRUREahQl4UQkaMWKFUyePJlzzjmHpKQkevfubXZIIiIiIhWyfft2FixYwMKFC0lJSWHixIlmhyQiIgJKwokIwF9//cXw4cNZv349TqeTvn37mh2SiIiIyDH57LPPePDBB/nkk0944oknsNlsZockIiL1nIo6idRzn3zyCe3bt+e4447jgw8+UAJORERE6oQLL7wQl8vFXXfdRceOHXn66afNDklEROo5JeFE6rG8vDxuuOEG+vfvz9y5c7WymIiIiNQ5AwcOJCcnh9TUVGbPnm12OCIiUo9pdVSRemrHjh307t2byZMnM3jwYLPDEREREakyV111FWvWrKF79+6cfPLJ/Pvf/zY7JBERqYdUE06knoqOjiY+Pp7Ro0ebHYqIiIhItdi6dSsdOnTgxRdfpHPnzmaHIyIi9YyScCL10N13382BAwd48sknzQ5FREREpFq53W7Gjx/Ptm3baNSokdnhiIhIPaIknEg9s2bNGoYPH86HH37ISSedZHY4IiIiItXu7rvvBuD//u//zA5FRETqESXhROqZa6+9luHDh5OYmGh2KCIiIiKm+Omnnzj//PNZs2YNUVFRZocjIiL1hFZHFalHli9fzt9//60EnIiIiNRr//jHPxg/fjyPPfaY2aGIiEg9opFwIvVIjx49uPXWW+nfv7/ZoYiIiIiY6pdffuGcc87hs88+o3nz5maHIyIi9YCScCL1RH5+Pq1bt+a7774zOxQRERGRGmHo0KFceumlWi1eRESqhaajitQTq1atolevXmaHISIiIlJj9O7dm//+979mhyEiIvWEknAi9cRbb73F9ddfb3YYIiIiIjXGDTfcwFtvvcWff/5pdigiIlIPKAknUk/k5eVx1VVXmR2GiIiISI1x8sknc8UVV/Dee++ZHYqIiNQDSsKJ1AOGYfDpp59yySWXmB2KiIiISI1y8cUX89lnn5kdhoiI1ANKwonUAz6fj6ZNm9KwYUOzQxERERGpUZo1a4bP5zM7DBERqQeUhBOpB37++Wf+8Y9/mB2GiIiISI1zyimn8PPPP5sdhoiI1ANKwonUA4ZhYLFYzA5DREREpMZp0KABhmGYHYaIiNQDx5kdgIiIiJTPTz/9xJw5c/AV7jE7lFopIvJcxowZw3HH6fFHRERERKqfnkJFRERqidhO19H+iou4tGULs0Opld7f/i433nA9b761zuxQRERERKQeUhJORESkFli1ahVnnHoyTzjHmR1KrRbdczDr16/n2muvNTsUEREREalnVBNORESkFti/fz+n/eMUs8Oo9U79R2N+/fVXs8MQERERkXpISTgREREREREREZEqpiSciIiIiIiIiIhIFVMSTkREREREREREpIopCSciIiIiIiIiIlLFlIQTERERERERERGpYkrCiYiIiIiIiIiIVDEl4URERERERERERKqYknAiIiJSTltxrfimzL2+FeNxbi5vW9/gWrG11D6cw17FZ/alioiIiIhUMiXhREREpHw2b8JdWW0Vvovba/YFiYiIiIhUHyXhRERE6pVvcA1bjHN2OyzN2mGZvRXfivH+r4Mj0LbibBbY36wd9hXf+Lf1nEvWiC7+0W6bFwf3W2aHjGh7u3h72aPivsH1UApZMwZhX/ENvhXjsQ8bj6XZeFyFxUf541qMx+xbJiIiIiJSCY4zOwARqV9++OEHvv/+e7PDqJVatGhhdghSzb7++mvOPvvsKmh5LnTchHHvN7iGdSHJugZjzwRcw6aRXdgVxx6I3bMJA6DwVewPvYuvT1eSXxlBXn5vkttuxdnsY9I3b8IR/g2uYdNwFU4nFkihHcaeTf4k3dtb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n35Kz549+eSTT0yLIS0tjY8++ognnnjC7NtRq11xxRU8++yzJabTDR8+nI0bN7JgwQKuuuqqSu+zV69e9OzZk6FDh5p9+TVKQkIC11xzDXfddddhj8vPz6dDhw48/PDDOBwOs8MWEZGDTJ48GYAHH3zQ7FBERKSO08IMIiK13Lx580hKSsJmszFv3rxKb3/jxo307t3b7Muscbp06cLmzZuPeFz//v258847lYATEREREannNB1VRKQOGDx4MG3btmXYsGFs3ryZBQsW0LBhw0pp+++//66yqa61WYMGDTjSYPIBAwZw0UUX8cADD5gdroiIiIjUIYsWLWLLli1mh1FvRUZGMnLkSE466aQKnacknIhIHdGmTRs2btxIUlISbdu2ZcGCBbRv397ssOqtyZMn8+WXX7J27VqzQxERERGROmTo0KF8+eWXdO/evbi+tVSrrVu30rFjR955550KnacknIhIHZOWlsbixYu59tprefzxxxkxYoTZIdU7S5cu5bnnnjumlVBFRERERA62e/duXn75Zfbu3Wt2KPVe3759cblcFSo7oySciEgdNGjQINq2bcu///3v4Oqpxx9/fKnHFhYWsmTJEu6//36zw64T3nrrLYYMGcK6deto2rRppbb93Xff8fjjj7Pnyy/Nvsxa6dwWLRgzZgwnn3yy2aGIiNRYP/74I7t37zY7jFrpjDPOoHnz5maHweeff86vv/5qdhj1QsOGDbn00kurtc/vv/+esLAwsy9dgObNm/Pdd99V6Bwl4URE6qgrrrgCj8fDXXfdRbt27Zg/fz42m+2Q44YNG8YHH3xAs2bNuOOOO8wOu1bbvXs3/fv359lnnyU6OrrS27/+uk5c3aYdF553gdmXWit9+MEn3HjDjWzI2WB2KCIiNdITTzzByJEj+eclF5odSq20x7eP2++4g9mzHzMthptvvpl3332XU0891ezbUS/88ccfnHbaaWRlZdWIBKzUfErCiYjUcU888QRLliyhU6dOPProo9x1113BfZMnT8YwDNLS0pgwYYKScMfotttuY8SIEdx6662V3vbKlSs56/QzmTwmxezLrNV6DezHunXr6NChg9mhiIjUKN988w2jRo3igzczufRCq9nh1EoHfvsdW6/B/O9//+OGG26o9v4ff/xxjj/+eHbt2mX2rahXpk6dyqRJk1i0aJHZoUgt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us+XMbP0qagElu0FspZnB9YjCcQdWGbZn9ATESmfUaNGMWDAAE477TQuueQS7HY7Dz74IMuWLeOjjz4yO7xaY/z48VitVt5++22zQxERkXrmxx9/ZNiwYYwbN47p06ezYMECTj31VLPDEpF6yUZyqYtbSllqcRKuqC5bIuEWC87ccpwS4WDsFGDSTFwFNpKNHFID51ss4SQuK1q0oQz90rGuLTq2lPpyoaKTMTypZDnCsVgsxEyCVE9g8YQIB25PKkyKwWKxkISd1DKDPjjOwCINgdX//Ak9/7TXosSciEhZ7HY7//73v/n9999xu93ccsstGIZBRkYGffr04cQTT6Rt27bccccdzJgxg+eee87skGus2267DYB771U1aBERqR7//e9/ueyyy2jUqBEffvhhuVZLFRGRmqNW14Q7ZE5y9KErcJSY13zI9zaSjfLOXfaLnVjKKh9lLZYQnVz2Yg8H70twFMdxyFzrw8SphRpEpAK6devG4sWLufvuu/nnP//JP//5T+Lj44P79+/fz/bt2/nggw94/vnnee+99zAMw+ywa6wOHTqQk5PDo48+ypgxY8wOR0RE6rBvvvmGJ598kiVLlnDjjTeaHY6IiByFWjwSTkREKqpbt26sXr2an3/+udT9jRo14uqrr+bnn3/mo48+YvXq1VgsFrPDrrEaNmyIy+Vi1qxZvPDCC2aHIyIiddi+ffv46KOPlIATqeeOP/54fvvtN7PDEOC3337juOMqNratVo+EExGRimncuDHdu3dn9erV9OtXemHN//znPyxdupQ1a9Zw6aWXmh1yjXfBBRfgcrmIjY2lefPmXHvttVXST1hYGDt3ec2+3Frtjz//xLv7C8LCVLlERGqfBg2qdvzEcccdx++//2H2ZdZ6v/3+e4V/Ka8sxx13HAcOHDD7FtQ7Bw4c4Pjjj6+2/i699FLOOOMMHnnkEW699VazL7/eeuedd1i6dCkpKSkVOk9JuHKp+LRVETFRrhOLLQWmLCR1W2MGV0mxUA/OeO/h28514YpwHLLSjy/DziKrm+TocnRTSX755RdWrVrFqlWrWLduHY0bNy41CTdp0iRWrlzJmjVrOPfcc6svwFruuuuu45lnniExMZG33nqL8847r9L7uPbaa4mOiSY2vhstIvTZHI0d3s/p3bcPrVq1MjsUEZEa54orruDkRqcwacZ8OrS/0uxwaqUd3nyyVmbzyOz5pvTfs2dPEhISiIiI4MwzzzT7dtQLv//+O06ns9pXJ37hhRcYP348Tz75pNm3oN4677zzWLlyJS1atKjQeUrCiUid4/PmkeoxqjXJVRrPWjcMNK9m4+effx5MvK1Zs4bu3bvTrVs37rjjjlIfFMaMGcO7777La6+9xllnnWXuzauFEhMTKSgowOFw8Pbbb1fJW/CnFi1i48aN7Nu3z+zLrZWaNWtG27ZtzQ5DRKTGeumV/zJl8kPMeNJtdii10jlNzmHt668THh5uSv+xsbEsWLCApUuX8ssvv5h9O+qFhg0b0r9/f4YPH16t/Z577rk8//zzZl++HAUl4USkhvHhig8ncRlAHOn5bhwRodsIJth8GXaSlkPWsqzi7TgJd2QBFvDkwCwvgzNjyY5Pwk0WWaRTONpL0lpgUgpZxJGePxZvZAwpIW0HR9MBTMnBmGgrGduUVFKxln0ZuU5iJmXBJCdWI5bs+JnkLcsia0oOhS2LDvLgtMSQ5yrEnVA5Y/U2bNgQTLzt3buXbt26MWTIENxuN40aNQoe16xZM9atW0eHDh0A+Pe//82uXbt47bXXOOmkk8z+S1BrTZgwgS+//BKHw0FmZmaV9NG+fXuzL1NEROqosLAw5s4zZxSXVI4+ffrQp08fs8MQkTJoYQYRqVF8GUkktsrBMAwMTxSJT3tKbjNywObEEzg+q9XYwLGppKz1QHQyha64UkfC2WcZGIHpo1nbrKQV9RGZTWxoG3hw2iDHMDAMg8KWM7Fn+PBlJOHuW+jvrzMcdvZ/dDI5U+JIz0/GBrAsirGGEUjmEUjA+fs9lgTc/v37cbvdDB48mGbNmnH33XcD8MQTT7Bnzx4WLVqE3W4vkYAjZIEGgP79+/P111+zevVqJeAqwZw5c/jzzz8ZPXq02aGIiIiIiEgNoiSciNQ4qZ0Diaro5GDSKrgNK9Z+eXgLDjo2wkrcYVuNwhpSmy2ub2xxLbcpsf5EWVEbBV7ySCHGYsFisRDuyCJrhxfvjiyirIGzomNJrchF9bOWGDeXYouhYiU8S9e8eXMWLVpEmzZtWLduHXl5eTidTq655prDnleUhLPb7VgsFl588cVKiEaKuFwu1q9fz6xZs8wORUREREREaggl4USkxsnz+vxfFLiwx7vYB4ERagBevMtKJtQqXYSVKFKDI+GMwAg2a8u4kNi85B1DF6keA8MDMVM9x9AK5Ofns2rVKu6++24uuOCCcp93zTXX8M0333DiiSfyzDPPHPbYxo0b8/3331fuPa4DfvzxR04++eRS95100km4XC5mzpzJCy+8YHaoIiIiIiJSAygJJyI1SlhCGvbl4VgsFiyRbuyzHLROSCN9W4x/myUGPIEpnlXGRrKH4Eg4i8WCPcNXMrbR5SlYnEVipB1XQRm7o5PJIQZ7hu+oIz3llFOO+tzdu3fjcrmOeFyvXr144oknKuXO1hUHDhxg8eLFdO3atcxjWrZsicvlIjExkQ0bNpgdsoiIiIiImMxiGIZhdhAiUrU+/fRTevbsySeffGJaDGlpaXz00UdK5hyjK664gmeffZbWrVtXW5+//vor3bt35+STTz7iNNf64MCBA7z44ot069atXNNNn3vuOZKTk3n77bcrvIS5iIhUvcmTJwPw4IMPmh2KiIjUcVodVUTkWISuohoirhJXPDXbySefzBtvvEFGRgYffPCB2eGY7vjjj2fevHl06tSpXMffdtttwRVT3377bRo2bGj2JYiIiIiIiAmUhBMRORbRyRhGstlRVIuEhASzQ6i1JkyYQEFBAQ6HQzXiRERERETqKdWEExERqQb/93//x++//86YMWPMDkVEREREREygJJyIiEg1cblcvP322+WqJSciIiIiInWLpqOKiIhUk5NPPpmMjAw6duxIREQE8fHxFW7j1VdfZe/evWZfSq3UvHlzbrzxRrPDqNXcbjc///yz2WHUSpdddhlXXXWV2WGIiIiIiZSEExERqUYtW7bE5XJx4403EhERQUxMTLnPvfXWWykoKKBly5ZmX0at9OGHH5KRkcGiRYvMDqXW+fXXX4m55lrOOiecU087w+xwaqXklIncfVcSEyZMMDsUERERMYmScCIiItWsU6dOLFmyJLhi6rnnnnvEc95880127tzJO++8Y3b4tdoll1zCe++9x5VXXml2KLXKvHnzuOjSK5j0yBNmh1JrfZn/Bb07t1MSTkREpB5TTTgRERET3Hbbbfz73//G4XDw999/H/H4r7/+mhYtWpgddq137rnn8vXXX5sdRq3z1Vdf0fzc880Oo1ZrHnkeJ510Mt9++63ZoYiIiIhJlIQTERExyX333UebNm1wOByl7n/44YdJSEgwO0wREREREakESsKJSLU4+eST+f77780Oo9b78ccfOfnkk80OQyrRE088wYEDBxgzZkyJ7U6nk0WLFpGdnc3nn39udpgiIiIiInKMalRNuJdeeon8/Hyzw6gXGjZsSOvWrbnmmmvMDkXqiVtuuYWHH36YsWPHakrdUcrJySEqKooLL7zQ7FCkkhWtmDp79mzuvfdehg8fzocffsjbb7/NuHHjePvtt/nHP/5hdpgiIiIiInIMakQS7u2332bw4MGcf/75XHTRRWaHUy/89ddfzJs3j/PPP5/nn3+ek046yeyQpI5r3Lgx69evZ8GCBezYscPscGolm83GyJEjzQ5DqsDJJ5+My+WiQ4cOpKenc/HFF/PWW28B0LFjR95++2169OhhdpgiIiIiInIMTE/C/fDDD9xyyy3Mnj2bW2+91exw6p3Ro0czYMAAnn/+ebNDkXogLCyMBx980OwwRGqkv/76i1NPPZUOHTowe/bs4PaOHTsyc+ZMJeFERERERGo502vCPf300/To0UMJOJPMmjWL9evX8+mnn5odiohIvfX666/TsWNH7rrrrhIJOIDLLruMAwcOsHfvXrPDlDrmr7/+4rXXXjM7DBEREZF6w/Qk3EcffcRVV11ldhj12pVXXqkknIiISZYsWcJNN93E/Pnzy5xu3LFjRz766COzQ5U65pprrmHQoEH06NGD7Oxss8MRERERqfNMT8IBWCwWs0Oo1ywWC4ZhmB2GiEi9s3LlSkaNGsXixYuJi4sr87gOHTrw4Ycfmh1u2XJduArK2unBGe/CV+7GPLgySjk614k9o/ytyJGdd955PProo/Tp04cRI0bQq1evYC3C2uTrlzJ5v8y9G1k4IpOvy9vYe5msLCytDwcL3zP7SkVERKS2qxFJOBERkfrosssu44477mDMmDHcdNNNLF++vNTjOnbsWKOTcJ617sprLDebSmxNDsMwDCwWC0OHDuXjjz+me/fuDBkyhL59+7J+/XqzwyunvWxc80Wltfb+uhVmX5CIiIjUYUrCiYiImMRqtfL4449TWFhIv379mD17NhdffDHTp0/nm2++CR73z3/+kz/++INffvmlYh2UGD1WNCLNhyvejj3egsViwWJx4gnud+IMbLdn+PBMDRwz1X8EBS7slqLzLDhz/X3ETMoiMdLfji/DHtxf3LeXRUX9HXZUnAenLYUsRzjO3JA4S5zjwxUf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GPXG/v37K/xzXkk4ERGRWmz58uX88ccfxMfHmx2KSL3QuHFjJk2axFNPPUVOTtlrf9aJUXAiIlKrdOjQgRUrVuD1es0Opc776quvyMrKomPHjhU6TzXhREREarn09HSGDh3KTTfdxPLlyzn++OPNDkmkTpswYQLnnXceXbp0YcGCBaWuNr9hwwbuvLMSlxsVERE5gmbNmpGamkr37t1JSUkxaXGguu/zzz/nP//5D3fddVeF77GScCIiInXAk08+yahRo+jSpQtZWVmcfvrpZockUqfdcsstWK1W+vfvz86dO5k6dWqJ/Tk5OSxdutTsMEVEpJ4ZP348F110EUuXLiU/P9/scOqk8PBwJkyYwC233FLhc5WEExERqSMee+wxHnjgAbp06cLy5ctp1qyZ2SGJ1GlXX301rVq1YunSpezatYtnnnkGgM2bNxMZGck555xjdogiIlIP9enThz59+pgdhpRCNeFERETqkIcffpiePXvSpUsXduzYYXY4InVaSkoKv/76K7t376ZRo0Z06NCBXbt2kZOTwzXXXGN2eCIiIlLDKAknIiJSx6SkpDBo0CC6dOnC1q1bzQ5HpE566qmnyMrK4tlnnwVg/vz59OjRg2uvvZbly5drUQYRERE5hKajioiI1EH33nsvjRo1CtaIs9lsZockUmf873//Y+TIkaxbt44zzzwzuP2+++7DarXidDo1Ek5EREQOoZFwIiIiddSwYcOYPn06Xbp04X//+1+px8yfP58OHTrw559/mh2uSK3w+eefc9ttt/Hss8/Stm3bQ/bfcsstbN26lQsuuOCQfY0bN+brb783+xJqte9//ImTG51sdhgiIiJHRSPhRERE6rD+/fvTuHHj4GINPXv2DO5buXIl99xzD23btuWFF14gMTHR7HBFarS//vqL2267jTFjxmC32yt8/pChdzJoTCr947pisZh9NbXPL/sPMHnWk2Que9HsUERERI6KknAiIiJ1XFxcHP/973/p06cPS5cu5ZZbbuGNN96gT58+vPTSS3z77bc8//zzSsKJHEH//v1p27YtY8eOParzJ02ahNVqZf26t82+lFrphBNOZMVLL9OpUyezQxERETkqSsKJiIjUA127duW1116jT58+bN++nf/7v/8jIyOD7t278+effzJ8+HC+/PJLmjdvbnaoIjVScnIyP/zwAy6X65ja6d+/P/379zf7ckRERMQESsKJiIjUEx07dmT+/PkMHDiQuXPncvPNNwNw3HHHccstt/DCCy8wevToQ8776quvWLVqFT/99JPZl1DrtGzZkq5du5odBsuWLWPv3r1mh2G6M888kz59+tCoUaMKnffkk0+yYsUK1q9fb/YliIiISC2mJJyIiEg9sXPnTpKTk5k5cyZ33HFHiX233norDzzwwCFJuOeff56BAwcSFxdXYhVIKZ/nn3+emTNnsmLFCk455ZRq7z8vL49bb72Viy++mPPOO8/s22E6n8/HqFGjeO655/jXv/5VrnPWrl3LqFGjWLduHWeccYbZlyAiIiK1mJJwIiIi9YDP56Nv374MGzaM4cOHH7L/xhtv5N///jd5eXlERUUBsG/fPgYMGMDatWvp0KGD2ZdQa40bN4577rmHRYsWVXvf//73vxk/fjxDhgwx+zbUGC+99BJDhgxh9+7dRzx2x44d9O/fn2effTb470JERETkaDUwOwARERGpWj/99BN9+/bFbrcftqB80ZTUIqtWraJfv35KwB2j+++/v8R9rS4ffPABP/74oxJwB+nduzcXXXQRa9asOexxf/75J7fddhvjxo0jLi7O7LBFRESkDlASTkREpI5bsWIFO3fu5MCBA4etaXXrrbfy/PPPB7//8ccfNQW1Epx55pn8/vvv/PHHH9Xa708//aTpk2U444wzjljjsH///lx11VWMGTPG7HBFRESkjtB0VBERkTquf//+XHDBBaxatYp77rmHPXv20L17d7p37063bt2CRepbtWpFREQEq1evplu3bmaHLWKa+++/n59++omMjIxKb3v37t28++67GIZh9mXWOieccAI33XQTDRpoHIGIiNROSsKJiIjUAzExMcTExJCamsrnn3/OqlWrWLRoEf369Qsm5Lp37x6ckqoknNRXCxcu5JVXXqmSlVBffPFFbrnlFrrf2BWLxWL2pdY6B347wJjRo1n7+utaaERERGolJeFERETqmQsuuIC7776bu+++m59//plVq1axatUqJk+eTLNmzdi2bRvz5883O0yRavfaa68xevRo1q9fz+mnn17p7U95aDKuuUvoGH2t2Zdaaz06/3EeffRR/u///s/sUERERCpMSTgREZF67JRTTiE+Pp74+HgA3nrrLZ599llOOukks0MTqVaffvppcCXUNm3a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 srcset class=PostItem-TitleImage alt=DeepSort之源码解读 sizes><h1 class=PostItem-Title>DeepSort之源码解读</h1><div class=PostItem-Footer><span>Gavin</span><span class=PostItem-FooterTitle>发表于目标跟踪</span></div></div></a><button class="PagingButton PagingButton-Next" data-za-detail-view-path-module=Unknown data-za-detail-view-path-module_name=推荐阅读 data-za-extra-module={}><svg width=40 height=40 viewBox="0 0 24 24" fill=#d3d3d3 class="Zi Zi--ArrowRight"><path fill-rule=evenodd d="m13.248 12-4.025 3.78a.684.684 0 0 0 0 1.01.796.796 0 0 0 1.075 0l4.42-4.15a.867.867 0 0 0 0-1.28l-4.42-4.15a.796.796 0 0 0-1.075 0 .684.684 0 0 0 0 1.01L13.248 12Z" clip-rule=evenodd></path></svg></button></ul></div></div></div></main><div role=complementary><div class=CornerButtons><div class="CornerAnimayedFlex CornerAnimayedFlex--hidden"><button data-tooltip=回到顶部 data-tooltip-position=left data-tooltip-will-hide-on-click=true aria-label=回到顶部 type=button class="Button CornerButton css-gdd4kf"><svg width=24 height=24 viewBox="0 0 24 24" aria-hidden=true class="Zi Zi--BackToTop" fill=currentColor><path fill-rule=evenodd d="M13.204 3.107a1.75 1.75 0 0 0-2.408 0L3.806 9.73c-1.148 1.088-.378 3.02 1.204 3.02h2.24V20c0 .966.784 1.75 1.75 1.75h6A1.75 1.75 0 0 0 16.75 20v-7.25h2.24c1.582 0 2.353-1.932 1.204-3.02l-6.99-6.623Z" clip-rule=evenodd></path></svg></button></div></div></div></div></div><div><div style=display:none></div></div><div><div><div class=css-8pdeid></div></div></div><div><div><div class=Editable-languageSuggestions style=left:-1179px;top:-999px><div><div class=Popover><label class="Editable-languageSuggestionsInput Input-wrapper"><input autocomplete=off role=combobox aria-expanded=false aria-autocomplete=list aria-activedescendant=AutoComplete8-0 id=Popover7-toggle aria-haspopup=true aria-owns=Popover7-content class=Input placeholder=选择语言 value><svg width=24 height=24 viewBox="0 0 24 24" fill=#afbdcf class="Zi Zi--Select"><path fill-rule=evenodd d="M12.53 3.47a.75.75 0 0 0-1.06 0l-5 5a.75.75 0 0 0 1.06 1.06L12 5.06l4.47 4.47a.75.75 0 1 0 1.06-1.06l-5-5Zm-5 11a.75.75 0 0 0-1.06 1.06l5 5a.75.75 0 0 0 1.06 0l5-5a.75.75 0 1 0-1.06-1.06L12 18.94l-4.47-4.47Z" clip-rule=evenodd></path></svg></label></div></div></div></div></div><style id=stylus-1 class="stylus sf-hidden">html,body{font-weight:bold;background-color:#C7EDCC!important;filter:brightness(0.8)}</style>